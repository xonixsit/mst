import{l as x,q as V,s as W,c as d,f as _,a as t,t as a,h as g,j,k as A,F as B,r as O,v as F,y as U,o as i,B as P,b as Y,w as R,d as H,e as E,p as T,N as k,C as G}from"./app-DCZmz_Tv.js";import{l as J}from"./lodash-COvBsAwB.js";import{_ as q,A as K}from"./AppLayout-BMFjVIlg.js";import{_ as Q}from"./CreateClientUserModal-D-ab8cRK.js";import"./UserPlusIcon-BfaPIFXH.js";import"./InformationCircleIcon-Ct_LhqwD.js";const X={name:"BulkOperationsModal",props:{show:Boolean,selectedClients:Array,users:{type:Array,default:()=>[]}},emits:["close","execute"],setup(u,{emit:e}){const r=x(""),o=x(""),y=x(!1),c=x({user_id:null,subject:"",message:"",document_types:[],format:"excel",confirm_delete:!1}),n=[{value:"w2",label:"W-2 Forms"},{value:"1099",label:"1099 Forms"},{value:"receipts",label:"Receipts"},{value:"bank_statements",label:"Bank Statements"},{value:"tax_returns",label:"Previous Tax Returns"},{value:"id_documents",label:"ID Documents"}],C={document_request:{subject:"Document Request - Tax Preparation",message:`Dear [Client Name],

We need the following documents to proceed with your tax preparation:

[Document List]

Please upload these documents at your earliest convenience.

Best regards,
[Your Name]`},appointment_reminder:{subject:"Appointment Reminder",message:`Dear [Client Name],

This is a reminder about your upcoming appointment on [Date] at [Time].

Please let us know if you need to reschedule.

Best regards,
[Your Name]`},status_update:{subject:"Status Update - Your Tax Return",message:`Dear [Client Name],

We wanted to update you on the status of your tax return preparation.

[Status Details]

If you have any questions, please don't hesitate to contact us.

Best regards,
[Your Name]`},welcome:{subject:"Welcome to Our Tax Services",message:`Dear [Client Name],

Welcome to our tax consulting services! We're excited to work with you.

To get started, please log into your client portal and complete your information.

Best regards,
[Your Name]`}},M=V(()=>u.selectedClients.length),s=V(()=>{if(!r.value)return!1;switch(r.value){case"assign_user":return c.value.user_id;case"send_email":return c.value.subject&&c.value.message;case"request_documents":return c.value.document_types.length>0;case"delete":return c.value.confirm_delete;default:return!0}}),b=()=>{c.value={user_id:null,subject:"",message:"",document_types:[],format:"excel",confirm_delete:!1},o.value=""},S=()=>{if(o.value&&C[o.value]){const f=C[o.value];c.value.subject=f.subject,c.value.message=f.message}},D=async()=>{if(s.value){y.value=!0;try{e("execute",{operation:r.value,client_ids:u.selectedClients,data:c.value})}finally{y.value=!1}}};return W(()=>u.show,f=>{f||(r.value="",b())}),{selectedOperation:r,selectedTemplate:o,operationData:c,documentTypes:n,selectedCount:M,canExecute:s,isExecuting:y,resetOperationData:b,applyTemplate:S,executeOperation:D}}},Z={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},$={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},ee={class:"flex justify-between items-center mb-4"},te={class:"mb-4"},oe={class:"text-sm text-gray-600"},se={class:"space-y-4"},le={key:0},ne=["value"],re={key:1,class:"space-y-3"},ae={key:2},ie={class:"space-y-2"},de=["value"],ue={class:"ml-2 text-sm text-gray-700"},ce={key:3},me={key:4,class:"bg-red-50 border border-red-200 rounded-md p-3"},pe={class:"mt-3"},ge={class:"flex items-center"},xe={class:"flex justify-end space-x-3 mt-6"},fe=["disabled"];function be(u,e,r,o,y,c){return r.show?(i(),d("div",Z,[t("div",$,[t("div",ee,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900"},"Bulk Operations",-1)),t("button",{onClick:e[0]||(e[0]=n=>u.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[...e[13]||(e[13]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",te,[t("p",oe,a(o.selectedCount)+" client"+a(o.selectedCount!==1?"s":"")+" selected ",1)]),t("div",se,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Operation",-1)),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>o.selectedOperation=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:e[2]||(e[2]=(...n)=>o.resetOperationData&&o.resetOperationData(...n))},[...e[15]||(e[15]=[A('<option value="">Choose an operation...</option><option value="activate">Activate Clients</option><option value="deactivate">Deactivate Clients</option><option value="archive">Archive Clients</option><option value="assign_user">Assign to User</option><option value="send_email">Send Email</option><option value="request_documents">Request Documents</option><option value="export_selected">Export Selected</option><option value="delete">Delete Clients</option>',9)])],544),[[j,o.selectedOperation]])]),o.selectedOperation==="assign_user"?(i(),d("div",le,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Assign to User",-1)),g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=n=>o.operationData.user_id=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[17]||(e[17]=t("option",{value:""},"Select a user...",-1)),(i(!0),d(B,null,O(r.users,n=>(i(),d("option",{key:n.id,value:n.id},a(n.name)+" ("+a(n.email)+") ",9,ne))),128))],512),[[j,o.operationData.user_id]])])):_("",!0),o.selectedOperation==="send_email"?(i(),d("div",re,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Subject",-1)),g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>o.operationData.subject=n),type:"text",placeholder:"Enter email subject...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[F,o.operationData.subject]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Message",-1)),g(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=n=>o.operationData.message=n),rows:"4",placeholder:"Enter email message...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[F,o.operationData.message]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Template",-1)),g(t("select",{"onUpdate:modelValue":e[6]||(e[6]=n=>o.selectedTemplate=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:e[7]||(e[7]=(...n)=>o.applyTemplate&&o.applyTemplate(...n))},[...e[21]||(e[21]=[A('<option value="">Choose a template...</option><option value="document_request">Document Request</option><option value="appointment_reminder">Appointment Reminder</option><option value="status_update">Status Update</option><option value="welcome">Welcome Message</option>',5)])],544),[[j,o.selectedTemplate]])])])):_("",!0),o.selectedOperation==="request_documents"?(i(),d("div",ae,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Document Types",-1)),t("div",ie,[(i(!0),d(B,null,O(o.documentTypes,n=>(i(),d("label",{key:n.value,class:"flex items-center"},[g(t("input",{type:"checkbox",value:n.value,"onUpdate:modelValue":e[8]||(e[8]=C=>o.operationData.document_types=C),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,de),[[U,o.operationData.document_types]]),t("span",ue,a(n.label),1)]))),128))])])):_("",!0),o.selectedOperation==="export_selected"?(i(),d("div",ce,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Export Format",-1)),g(t("select",{"onUpdate:modelValue":e[9]||(e[9]=n=>o.operationData.format=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[24]||(e[24]=[t("option",{value:"excel"},"Excel (.xlsx)",-1),t("option",{value:"csv"},"CSV (.csv)",-1),t("option",{value:"pdf"},"PDF (.pdf)",-1)])],512),[[j,o.operationData.format]])])):_("",!0),o.selectedOperation==="delete"?(i(),d("div",me,[e[27]||(e[27]=A('<div class="flex"><svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg><div class="ml-3"><h3 class="text-sm font-medium text-red-800">Warning</h3><p class="text-sm text-red-700 mt-1"> This action will permanently delete the selected clients and cannot be undone. </p></div></div>',1)),t("div",pe,[t("label",ge,[g(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=n=>o.operationData.confirm_delete=n),class:"rounded border-gray-300 text-red-600 focus:ring-red-500"},null,512),[[U,o.operationData.confirm_delete]]),e[26]||(e[26]=t("span",{class:"ml-2 text-sm text-red-700"},"I understand this action cannot be undone",-1))])])])):_("",!0)]),t("div",xe,[t("button",{onClick:e[11]||(e[11]=n=>u.$emit("close")),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),t("button",{onClick:e[12]||(e[12]=(...n)=>o.executeOperation&&o.executeOperation(...n)),disabled:!o.canExecute||o.isExecuting,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed"},a(o.isExecuting?"Processing...":"Execute Operation"),9,fe)])])])):_("",!0)}const ve=q(X,[["render",be]]),ye={name:"AdminClientsIndex",components:{BulkOperationsModal:ve,CreateClientUserModal:Q,AppLayout:K},props:{clients:Object,filters:Object,stats:Object,sortOptions:Object,statusOptions:Object,perPageOptions:Array,availableUsers:{type:Array,default:()=>[]}},setup(u){const e=x({search:u.filters.search||"",status:u.filters.status||"",date_from:u.filters.date_from||"",date_to:u.filters.date_to||""}),r=x([]),o=x(""),y=x(u.filters.sort_by||"created_at"),c=x(u.filters.sort_direction||"desc"),n=x(u.filters.per_page||25),C=x(!1),M=x(!1),s=x(!1),b=x("excel"),S=V(()=>u.clients.data.length>0&&r.value.length===u.clients.data.length),D=V(()=>{const l=[],m=u.clients.current_page,p=u.clients.last_page;for(let v=Math.max(1,m-2);v<=Math.min(p,m+2);v++)l.push(v);return l}),f=J.debounce(()=>{h()},300),h=()=>{k.get(route("admin.clients.index"),{...e.value,sort_by:y.value,sort_direction:c.value,per_page:n.value},{preserveState:!0,preserveScroll:!0})};return{router:k,searchForm:e,selectedClients:r,bulkAction:o,currentSort:y,sortDirection:c,perPage:n,showExportModal:C,showBulkModal:M,showCreateModal:s,exportFormat:b,allSelected:S,paginationPages:D,debouncedSearch:f,applyFilters:h,clearFilters:()=>{e.value={search:"",status:"",date_from:"",date_to:""},h()},sortBy:l=>{y.value===l?c.value=c.value==="asc"?"desc":"asc":(y.value=l,c.value="asc"),h()},changePerPage:()=>{h()},goToPage:l=>{k.get(route("admin.clients.index"),{...e.value,sort_by:y.value,sort_direction:c.value,per_page:n.value,page:l},{preserveState:!0,preserveScroll:!0})},toggleSelectAll:()=>{S.value?r.value=[]:r.value=u.clients.data.map(l=>l.id)},handleBulkOperation:l=>{if(!l.operation||r.value.length===0)return;const m=`Are you sure you want to ${l.operation.replace("_"," ")} ${r.value.length} clients?`;if(l.operation==="delete"||confirm(m)){if(l.operation==="export_selected"){const p=new URLSearchParams({client_ids:l.client_ids,operation:l.operation,"data[format]":l.data.format||"excel"});window.open(`${route("admin.clients.bulk-operation")}?${p}`,"_blank"),M.value=!1,r.value=[];return}k.post(route("admin.clients.bulk-operation"),l,{onSuccess:p=>{var v,w,N,z,L,I;r.value=[],M.value=!1,((w=(v=p.props)==null?void 0:v.flash)!=null&&w.success||(N=p.data)!=null&&N.message)&&alert(((L=(z=p.props)==null?void 0:z.flash)==null?void 0:L.success)||((I=p.data)==null?void 0:I.message)||"Operation completed successfully")},onError:p=>{console.error("Bulk operation failed:",p),alert("Operation failed. Please try again.")}})}},clearSelection:()=>{r.value=[]},exportClients:()=>{const l=document.createElement("form");l.method="GET",l.action=route("admin.clients.export"),l.target="_blank",Object.entries(e.value).forEach(([p,v])=>{if(v){const w=document.createElement("input");w.type="hidden",w.name=p,w.value=v,l.appendChild(w)}});const m=document.createElement("input");m.type="hidden",m.name="format",m.value=b.value,l.appendChild(m),document.body.appendChild(l),l.submit(),document.body.removeChild(l),C.value=!1},handleCreateClientSubmit:l=>{G.post("/admin/clients",{personal:{firstName:l.first_name,middleName:l.middle_name,lastName:l.last_name,email:l.email},spouse:{},employee:[{}],projects:[],assets:[],expenses:[],createAccount:!0,sendCredentials:!0}).then(m=>{s.value=!1,k.reload(),alert("Client created successfully! Credentials have been sent to their email.")}).catch(m=>{var p,v,w;console.error("Error creating client:",((p=m.response)==null?void 0:p.data)||m),alert("Error creating client: "+(((w=(v=m.response)==null?void 0:v.data)==null?void 0:w.message)||"Please try again."))})},formatDate:l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),getStatusClass:l=>({active:"bg-emerald-100 text-emerald-800 border border-emerald-200",inactive:"bg-amber-100 text-amber-800 border border-amber-200",archived:"bg-rose-100 text-rose-800 border border-rose-200"})[l]||"bg-gray-100 text-gray-800 border border-gray-200",getStatusDotClass:l=>({active:"bg-emerald-400",inactive:"bg-amber-400",archived:"bg-rose-400"})[l]||"bg-gray-400",viewClient:l=>{k.visit(`/admin/clients/${l}`)},editClient:l=>{k.visit(`/admin/clients/${l}/edit`)},viewTaxDocs:l=>{k.visit(`/admin/documents?user_id=${l}`)},viewInvoices:l=>{k.visit(`/admin/invoices?user_id=${l}`)},deleteClient:l=>{confirm("Are you sure you want to delete this client? This action cannot be undone.")&&k.delete(route("admin.clients.destroy",l))}}}},he={class:"relative overflow-hidden"},we={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2 pr-2 pl-2"},ke={class:"flex items-center space-x-4"},Ce={class:"flex items-center space-x-4 mt-3"},_e={class:"flex items-center space-x-2"},Me={class:"text-xs font-semibold text-emerald-700"},Se={class:"flex items-center space-x-2"},je={class:"text-xs font-semibold text-blue-700"},De={class:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},Be={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},Oe={class:"p-8"},Ee={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Fe={class:"space-y-2"},Ve={class:"relative"},Ae={class:"space-y-2"},Pe=["value"],Te={class:"space-y-2"},Ue={class:"space-y-2"},Ne={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-8 pt-6 border-t border-gray-200 space-y-4 sm:space-y-0"},ze={key:0,class:"flex items-center space-x-4"},Le={class:"bg-blue-50 px-4 py-2 rounded-lg"},Ie={class:"text-sm font-semibold text-blue-700"},Re={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},He={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},qe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0"},We={class:"flex items-center space-x-4"},Ye={class:"flex items-center space-x-2 bg-white px-3 py-2 rounded-lg border border-gray-200 shadow-sm"},Ge=["value"],Je={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},Ke={class:"text-sm font-medium text-gray-600"},Qe={class:"font-bold text-gray-900"},Xe={class:"font-bold text-gray-900"},Ze={class:"font-bold text-blue-600"},$e={class:"overflow-x-auto"},et={class:"min-w-full"},tt={class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},ot={class:"px-6 py-4 text-left"},st=["checked"],lt={class:"bg-white divide-y divide-gray-100"},nt={class:"px-6 py-5"},rt=["value"],at={class:"px-6 py-5 whitespace-nowrap"},it={class:"flex items-center"},dt={class:"w-8 h-8 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center mr-3"},ut={class:"text-xs font-bold text-blue-700"},ct={class:"px-6 py-5 whitespace-nowrap"},mt={class:"text-sm font-semibold text-gray-900"},pt={class:"px-6 py-5 whitespace-nowrap"},gt={class:"text-sm font-semibold text-gray-900"},xt={class:"px-6 py-5 whitespace-nowrap"},ft={class:"text-sm text-gray-900 font-medium"},bt={class:"px-6 py-5 whitespace-nowrap"},vt={class:"text-sm text-gray-900 font-medium"},yt={class:"px-6 py-5 whitespace-nowrap"},ht={class:"text-sm text-gray-600 font-medium"},wt={class:"px-6 py-5 whitespace-nowrap"},kt={class:"px-6 py-5 text-center"},Ct={class:"flex justify-center space-x-2"},_t=["onClick"],Mt=["onClick"],St=["onClick"],jt=["onClick"],Dt=["onClick"],Bt={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},Ot={class:"flex justify-between items-center"},Et={class:"text-sm text-gray-600 font-medium"},Ft=["onClick"],Vt={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},At={class:"bg-white rounded-lg p-6 w-96"},Pt={class:"space-y-4"},Tt={class:"flex justify-end space-x-3"};function Ut(u,e,r,o,y,c){const n=P("BulkOperationsModal"),C=P("CreateClientUserModal"),M=P("AppLayout");return i(),Y(M,null,{header:R(()=>[t("div",he,[e[29]||(e[29]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-blue-50"},null,-1)),e[30]||(e[30]=t("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),e[31]||(e[31]=t("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),t("div",we,[t("div",ke,[e[26]||(e[26]=t("div",{class:"w-14 h-14 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-blue-100"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",null,[e[24]||(e[24]=t("h1",{class:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-emerald-900 to-blue-900 bg-clip-text text-transparent"}," Client Management ",-1)),e[25]||(e[25]=t("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Comprehensive client information and operations center",-1)),t("div",Ce,[t("div",_e,[e[22]||(e[22]=t("div",{class:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"},null,-1)),t("span",Me,a(r.stats.total_clients)+" Total Clients",1)]),t("div",Se,[e[23]||(e[23]=t("div",{class:"w-2 h-2 bg-blue-400 rounded-full"},null,-1)),t("span",je,a(r.stats.active_clients)+" Active",1)])])])]),t("div",De,[t("button",{onClick:e[0]||(e[0]=s=>o.showCreateModal=!0),class:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[...e[27]||(e[27]=[t("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),t("span",{class:"font-semibold"},"Add New Client",-1)])]),t("button",{onClick:e[1]||(e[1]=s=>o.showExportModal=!0),class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[...e[28]||(e[28]=[t("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:-translate-y-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("span",{class:"font-semibold"},"Export Data",-1)])])])])])]),default:R(()=>[t("div",Be,[e[39]||(e[39]=t("div",{class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Search & Filter Clients"),t("p",{class:"text-sm text-gray-600 mt-1"},"Find and manage your client database")]),t("div",{class:"flex items-center space-x-2"},[t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])])])],-1)),t("div",Oe,[t("div",Ee,[t("div",Fe,[e[33]||(e[33]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Search Clients",-1)),t("div",Ve,[g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.searchForm.search=s),type:"text",placeholder:"Name, email, phone...",class:"w-full px-4 py-3 pl-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",onInput:e[3]||(e[3]=(...s)=>o.debouncedSearch&&o.debouncedSearch(...s))},null,544),[[F,o.searchForm.search]]),e[32]||(e[32]=t("svg",{class:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",Ae,[e[35]||(e[35]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Client Status",-1)),g(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.searchForm.status=s),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",onChange:e[5]||(e[5]=(...s)=>o.applyFilters&&o.applyFilters(...s))},[e[34]||(e[34]=t("option",{value:""},"All Statuses",-1)),(i(!0),d(B,null,O(r.statusOptions,(s,b)=>(i(),d("option",{key:b,value:b},a(s),9,Pe))),128))],544),[[j,o.searchForm.status]])]),t("div",Te,[e[36]||(e[36]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Registration From",-1)),g(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.searchForm.date_from=s),type:"date",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",onChange:e[7]||(e[7]=(...s)=>o.applyFilters&&o.applyFilters(...s))},null,544),[[F,o.searchForm.date_from]])]),t("div",Ue,[e[37]||(e[37]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Registration To",-1)),g(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>o.searchForm.date_to=s),type:"date",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",onChange:e[9]||(e[9]=(...s)=>o.applyFilters&&o.applyFilters(...s))},null,544),[[F,o.searchForm.date_to]])])]),t("div",Ne,[t("button",{onClick:e[10]||(e[10]=(...s)=>o.clearFilters&&o.clearFilters(...s)),class:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200"},[...e[38]||(e[38]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),t("span",null,"Clear All Filters",-1)])]),o.selectedClients.length>0?(i(),d("div",ze,[t("div",Le,[t("span",Ie,a(o.selectedClients.length)+" clients selected",1)]),t("button",{onClick:e[11]||(e[11]=s=>o.showBulkModal=!0),class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-200 shadow-md hover:shadow-lg"}," Bulk Actions "),t("button",{onClick:e[12]||(e[12]=(...s)=>o.clearSelection&&o.clearSelection(...s)),class:"text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200"}," Clear Selection ")])):_("",!0)])])]),t("div",Re,[t("div",He,[t("div",qe,[e[46]||(e[46]=t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Client Directory"),t("p",{class:"text-sm text-gray-600 mt-1"},"Comprehensive client information and management")],-1)),t("div",We,[t("div",Ye,[e[40]||(e[40]=t("label",{class:"text-sm font-medium text-gray-600"},"Show",-1)),g(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>o.perPage=s),class:"border-0 bg-transparent text-sm font-semibold text-gray-900 focus:ring-0 focus:outline-none",onChange:e[14]||(e[14]=(...s)=>o.changePerPage&&o.changePerPage(...s))},[(i(!0),d(B,null,O(r.perPageOptions,s=>(i(),d("option",{key:s,value:s},a(s),9,Ge))),128))],544),[[j,o.perPage]]),e[41]||(e[41]=t("label",{class:"text-sm font-medium text-gray-600"},"entries",-1))]),t("div",Je,[t("span",Ke,[e[42]||(e[42]=E(" Showing ",-1)),t("span",Qe,a(r.clients.from||0),1),e[43]||(e[43]=E(" to ",-1)),t("span",Xe,a(r.clients.to||0),1),e[44]||(e[44]=E(" of ",-1)),t("span",Ze,a(r.clients.total||0),1),e[45]||(e[45]=E(" results ",-1))])])])])])]),t("div",$e,[t("table",et,[t("thead",tt,[t("tr",null,[t("th",ot,[t("input",{type:"checkbox",checked:o.allSelected,onChange:e[15]||(e[15]=(...s)=>o.toggleSelectAll&&o.toggleSelectAll(...s)),class:"w-4 h-4 rounded border-2 border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 transition-all duration-200"},null,40,st)]),e[47]||(e[47]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[t("div",{class:"flex items-center space-x-1"},[t("span",null,"ID"),t("svg",{class:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})])])],-1)),e[48]||(e[48]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"First Name",-1)),e[49]||(e[49]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Last Name",-1)),e[50]||(e[50]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Email",-1)),e[51]||(e[51]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Phone",-1)),e[52]||(e[52]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Registration",-1)),e[53]||(e[53]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Status",-1)),e[54]||(e[54]=t("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",lt,[(i(!0),d(B,null,O(r.clients.data,s=>{var b,S,D;return i(),d("tr",{key:s.id,class:"hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200 group"},[t("td",nt,[g(t("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":e[16]||(e[16]=f=>o.selectedClients=f),class:"w-4 h-4 rounded border-2 border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 transition-all duration-200"},null,8,rt),[[U,o.selectedClients]])]),t("td",at,[t("div",it,[t("div",dt,[t("span",ut,"#"+a(s.id),1)])])]),t("td",ct,[t("div",mt,a(((b=s.user)==null?void 0:b.first_name)||"-"),1)]),t("td",pt,[t("div",gt,a(((S=s.user)==null?void 0:S.last_name)||"-"),1)]),t("td",xt,[t("div",ft,a(((D=s.user)==null?void 0:D.email)||"-"),1)]),t("td",bt,[t("div",vt,a(s.phone||"-"),1)]),t("td",yt,[t("div",ht,a(o.formatDate(s.created_at)),1)]),t("td",wt,[t("span",{class:T(["inline-flex items-center px-3 py-1 text-xs font-bold rounded-full shadow-sm",o.getStatusClass(s.status)])},[t("span",{class:T(["w-1.5 h-1.5 rounded-full mr-2",o.getStatusDotClass(s.status)])},null,2),E(" "+a(r.statusOptions[s.status]),1)],2)]),t("td",kt,[t("div",Ct,[t("button",{onClick:f=>o.viewClient(s.id),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Client"},[...e[55]||(e[55]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,_t),t("button",{onClick:f=>o.editClient(s.id),class:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Edit Client"},[...e[56]||(e[56]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Mt),t("button",{onClick:f=>{var h;return o.viewTaxDocs(((h=s.user)==null?void 0:h.id)||s.user_id)},class:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Documents"},[...e[57]||(e[57]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,St),t("button",{onClick:f=>{var h;return o.viewInvoices(s.user_id||((h=s.user)==null?void 0:h.id))},class:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Invoices"},[...e[58]||(e[58]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)])],8,jt),t("button",{onClick:f=>o.deleteClient(s.id),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Client"},[...e[59]||(e[59]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Dt)])])])}),128))])])]),r.clients.last_page>1?(i(),d("div",Bt,[t("div",Ot,[t("div",Et," Page "+a(r.clients.current_page)+" of "+a(r.clients.last_page),1),e[60]||(e[60]=t("div",{class:"flex space-x-2"},null,-1)),(i(!0),d(B,null,O(o.paginationPages,s=>(i(),d("button",{key:s,onClick:b=>o.goToPage(s),class:T(["px-4 py-2 text-sm rounded-lg font-semibold transition-all duration-200",s===r.clients.current_page?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200 shadow-sm"])},a(s),11,Ft))),128))])])):_("",!0),o.showExportModal?(i(),d("div",Vt,[t("div",At,[e[63]||(e[63]=t("h3",{class:"text-lg font-medium mb-4"},"Export Clients",-1)),t("div",Pt,[t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Format",-1)),g(t("select",{"onUpdate:modelValue":e[17]||(e[17]=s=>o.exportFormat=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},[...e[61]||(e[61]=[t("option",{value:"excel"},"Excel (.xlsx)",-1),t("option",{value:"csv"},"CSV (.csv)",-1),t("option",{value:"pdf"},"PDF (.pdf)",-1)])],512),[[j,o.exportFormat]])]),t("div",Tt,[t("button",{onClick:e[18]||(e[18]=s=>o.showExportModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),t("button",{onClick:e[19]||(e[19]=(...s)=>o.exportClients&&o.exportClients(...s)),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"}," Export ")])])])])):_("",!0),H(n,{show:o.showBulkModal,"selected-clients":o.selectedClients,users:r.availableUsers,onClose:e[20]||(e[20]=s=>o.showBulkModal=!1),onExecute:o.handleBulkOperation},null,8,["show","selected-clients","users","onExecute"]),H(C,{"is-open":o.showCreateModal,onClose:e[21]||(e[21]=s=>o.showCreateModal=!1),onSubmit:o.handleCreateClientSubmit},null,8,["is-open","onSubmit"])]),_:1})}const ao=q(ye,[["render",Ut],["__scopeId","data-v-d33f28ba"]]);export{ao as default};
