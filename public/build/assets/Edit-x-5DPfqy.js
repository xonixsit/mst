import{c as p,o as i,a as e,l as w,A as je,B as De,f as k,d as x,u as d,g as K,h as L,j as ne,F as B,r as E,t as m,v as he,b as _,p as $,e as ue,C as R,T as Ae,q as ye,s as Me,D as Ue,w as we,x as ie,n as _e,N as J}from"./app-BYCX5rxI.js";import{r as Ve,A as Te}from"./AppLayout-DphoXmOW.js";import{r as Fe,a as Ne,P as Pe,S as Be,E as Ee,b as ze,A as Oe,c as qe}from"./ExpensesManagementSection-C53VJWaD.js";import{P as Ie}from"./PdfViewer-Cc1dMrD4.js";import{r as X}from"./DocumentTextIcon-CX_84exo.js";import{r as ce}from"./XMarkIcon-DesqJr5y.js";import{r as Se}from"./EyeIcon-Bn6qIJGR.js";import{r as $e}from"./PencilIcon-2cVwonh9.js";import{r as Le}from"./TrashIcon-BitHkN2R.js";import{r as Re}from"./UserIcon-Bja8dPPn.js";import{r as Xe}from"./ReceiptRefundIcon-vmz41K29.js";import{r as Ye}from"./BriefcaseIcon-BwWGnFKo.js";import{r as He}from"./CurrencyDollarIcon-BBVX8AOU.js";import{r as Ge}from"./InformationCircleIcon-ES96TTav.js";import{r as We}from"./CheckCircleIcon-CTwmiX4A.js";import{r as Ze}from"./ArrowLeftIcon-BNRTxK_L.js";import"./PlusIcon-C2Hqjymd.js";import"./ExclamationTriangleIcon-C8l0j2k9.js";function de(f,c){return i(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function ke(f,c){return i(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}const Ke={class:"space-y-6"},Je={class:"bg-gradient-to-br from-purple-50 to-indigo-100 rounded-xl p-6 border border-purple-200"},Qe={class:"flex items-center justify-between mb-6"},et={class:"flex items-center space-x-3"},tt={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ot=["value"],rt=["value"],lt={class:"relative"},at={key:0,class:"space-y-2"},nt={class:"space-y-2"},it={class:"flex items-center space-x-3"},dt={class:"text-sm font-medium text-gray-900"},ut={class:"text-xs text-gray-500"},ct=["onClick"],pt={class:"flex justify-end"},mt=["disabled"],gt={key:1,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},bt={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},xt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},ft={class:"flex items-center justify-between"},vt={class:"flex items-center space-x-3"},ht={class:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center"},yt={class:"text-sm text-gray-600"},wt={key:0,class:"p-12 text-center"},_t={class:"w-16 h-16 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},$t={key:1,class:"overflow-x-auto"},kt={class:"min-w-full"},St={class:"bg-white divide-y divide-gray-100"},Ct={class:"px-6 py-5 whitespace-nowrap"},jt={class:"flex items-center"},Dt={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4 shadow-sm"},At={class:"text-sm font-semibold text-gray-900"},Mt={class:"text-xs text-gray-500 font-medium"},Ut={class:"px-6 py-5 whitespace-nowrap"},Vt={class:"text-sm font-medium text-gray-900"},Tt={class:"px-6 py-5 whitespace-nowrap"},Ft={class:"text-sm font-semibold text-gray-900"},Nt={class:"px-6 py-5 whitespace-nowrap"},Pt={key:0,class:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"},Bt={key:1,class:"w-1.5 h-1.5 bg-rose-400 rounded-full mr-2"},Et={key:2,class:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-2"},zt={class:"px-6 py-5 whitespace-nowrap"},Ot={class:"text-sm text-gray-600 font-medium"},qt={class:"px-6 py-5 text-center"},It={class:"flex justify-center space-x-2"},Lt=["onClick"],Rt=["onClick"],Xt=["onClick"],Yt={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center p-4"},Ht={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden flex flex-col max-h-[90vh]"},Gt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"},Wt={class:"text-lg font-bold text-gray-900"},Zt={class:"text-sm text-gray-600 mt-1"},Kt={class:"flex-1 overflow-hidden"},Jt={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Qt={class:"relative top-20 mx-auto p-6 border w-96 shadow-2xl rounded-2xl bg-white"},es={class:"mt-3"},ts={class:"flex items-center space-x-3 mb-6"},ss={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center"},os={class:"flex justify-end space-x-3 pt-4"},rs=["disabled"],ls={__name:"DocumentManagementSection",props:{clientId:{type:Number,required:!0},documentTypes:{type:Object,default:()=>({w2:"W-2 Forms",1099:"1099 Forms",receipts:"Receipts",bank_statements:"Bank Statements",tax_returns:"Tax Returns",id_documents:"ID Documents",other:"Other"})},taxYears:{type:Array,default:()=>[]}},emits:["update"],setup(f,{emit:c}){const g=f,n=c,S=w([]),y=w([]),v=w(!1),Y=w(!1),z=w(!1),O=w(!1),V=w(null),A=w(null),T=w(!1),C=w({document_type:"",tax_year:"",notes:""}),M=w({status:"",notes:""}),U=a=>{const s=Array.from(a.target.files);H(s)},Q=a=>{const s=Array.from(a.dataTransfer.files);H(s)},H=a=>{const s=a.filter(b=>{const P=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return b.size<=10485760&&(P.includes(b.type)||/\.(pdf|doc|docx|jpg|jpeg|png|gif|txt|xls|xlsx)$/i.test(b.name))});y.value=[...y.value,...s]},ee=a=>{y.value.splice(a,1)},q=a=>{if(!a)return"Unknown";const s=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,b)*100)/100+" "+s[b]},te=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=async()=>{if(y.value.length!==0){v.value=!0;try{const a=new FormData;y.value.forEach((b,j)=>{a.append(`files[${j}]`,b)}),a.append("client_id",g.clientId),a.append("document_type",C.value.document_type),a.append("tax_year",C.value.tax_year||""),a.append("notes",C.value.notes||""),console.log("Uploading with client_id:",g.clientId);const s=await R.post("/admin/documents/upload",a,{headers:{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"}});console.log("Upload successful:",s.data),y.value=[],C.value={document_type:"",tax_year:"",notes:""},await N(),n("update"),alert("Documents uploaded successfully!")}catch(a){console.error("Upload failed:",a);let s="Upload failed. Please try again.";if(a.response)if(console.error("Error response:",a.response.data),a.response.status===422){const b=a.response.data.errors||{},j=Object.values(b).flat();s=j.length>0?j.join(", "):"Validation failed"}else a.response.data.message&&(s=a.response.data.message);alert(s)}finally{v.value=!1}}},N=async()=>{try{const a=await R.get(`/admin/clients/${g.clientId}/documents`);S.value=a.data.documents||[]}catch(a){console.error("Failed to load documents by client:",a);try{const s=await R.get(`/admin/documents?user_id=${g.clientId}`);S.value=s.data.documents||[]}catch(s){console.error("Fallback load also failed:",s),S.value=[]}}},se=()=>{N()},oe=a=>{if(!a||!a.id){console.error("Invalid document:",a),alert("Unable to view document. Invalid document data.");return}console.log("Viewing document:",a.id,a.file_path),A.value=a,O.value=!0},G=()=>{O.value=!1,A.value=null},I=()=>{Y.value=!1,V.value=null},re=a=>{V.value=a,M.value={status:a.status,notes:a.notes||""},z.value=!0},W=()=>{z.value=!1,V.value=null,M.value={status:"",notes:""}},le=async()=>{T.value=!0;try{await R.patch(`/admin/documents/${V.value.id}/status`,M.value),await N(),W()}catch(a){console.error("Status update failed:",a),alert("Status update failed. Please try again.")}finally{T.value=!1}},Z=async a=>{if(confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`))try{console.log("Deleting document:",a.id);const s=await R.delete(`/admin/documents/${a.id}`,{headers:{"X-Requested-With":"XMLHttpRequest"}});console.log("Delete successful:",s.data),await N(),n("update"),alert("Document deleted successfully!")}catch(s){console.error("Delete failed:",s);let b="Delete failed. Please try again.";s.response&&(console.error("Error response:",s.response.data),s.response.data.message?b=s.response.data.message:s.response.status===404?b="Document not found.":s.response.status===403&&(b="You do not have permission to delete this document.")),alert(b)}};return je(()=>{N()}),(a,s)=>{var j,P;const b=De("DocumentViewModal");return i(),p("div",Ke,[e("div",Je,[e("div",Qe,[e("div",et,[e("div",tt,[x(d(de),{class:"w-5 h-5 text-white"})]),s[7]||(s[7]=e("div",null,[e("h3",{class:"text-lg font-bold text-purple-900"},"Upload Documents"),e("p",{class:"text-sm text-purple-700"},"Add new documents for this client")],-1))])]),e("form",{onSubmit:K(F,["prevent"]),class:"space-y-4"},[e("div",st,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Document Type",-1)),L(e("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>C.value.document_type=u),class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900",required:""},[s[8]||(s[8]=e("option",{value:""},"Select document type",-1)),(i(!0),p(B,null,E(f.documentTypes,(u,D)=>(i(),p("option",{key:D,value:D},m(u),9,ot))),128))],512),[[ne,C.value.document_type]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Tax Year",-1)),L(e("select",{"onUpdate:modelValue":s[1]||(s[1]=u=>C.value.tax_year=u),class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[s[10]||(s[10]=e("option",{value:""},"Select tax year",-1)),(i(!0),p(B,null,E(f.taxYears,u=>(i(),p("option",{key:u,value:u},m(u),9,rt))),128))],512),[[ne,C.value.tax_year]])])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Notes (Optional)",-1)),L(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=u=>C.value.notes=u),rows:"3",placeholder:"Add any notes about this document...",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none text-gray-900",maxlength:"500"},null,512),[[he,C.value.notes]])]),e("div",lt,[e("input",{ref:"fileInput",type:"file",onChange:U,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt,.xls,.xlsx",multiple:"",class:"hidden"},null,544),e("div",{onClick:s[3]||(s[3]=u=>a.$refs.fileInput.click()),onDragover:s[4]||(s[4]=K(()=>{},["prevent"])),onDrop:K(Q,["prevent"]),class:"border-2 border-dashed border-purple-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-200"},[x(d(de),{class:"w-12 h-12 text-purple-400 mx-auto mb-4"}),s[13]||(s[13]=e("p",{class:"text-purple-700 font-semibold mb-2"},"Click to upload or drag and drop",-1)),s[14]||(s[14]=e("p",{class:"text-sm text-purple-600"},"PDF, DOC, DOCX, JPG, PNG, GIF, TXT, XLS, XLSX (Max 10MB each)",-1))],32)]),y.value.length>0?(i(),p("div",at,[s[15]||(s[15]=e("h4",{class:"text-sm font-semibold text-purple-800"},"Selected Files:",-1)),e("div",nt,[(i(!0),p(B,null,E(y.value,(u,D)=>(i(),p("div",{key:D,class:"flex items-center justify-between bg-white p-3 rounded-lg border border-purple-200"},[e("div",it,[x(d(X),{class:"w-5 h-5 text-purple-600"}),e("div",null,[e("p",dt,m(u.name),1),e("p",ut,m(q(u.size)),1)])]),e("button",{type:"button",onClick:ae=>ee(D),class:"text-red-500 hover:text-red-700 p-1"},[x(d(ce),{class:"w-4 h-4"})],8,ct)]))),128))])])):k("",!0),e("div",pt,[e("button",{type:"submit",disabled:v.value||y.value.length===0,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2"},[v.value?(i(),p("svg",gt,[...s[16]||(s[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),_(d(de),{key:0,class:"w-5 h-5"})),e("span",null,m(v.value?"Uploading...":"Upload Documents"),1)],8,mt)])],32)]),e("div",bt,[e("div",xt,[e("div",ft,[e("div",vt,[e("div",ht,[x(d(X),{class:"w-4 h-4 text-white"})]),e("div",null,[s[17]||(s[17]=e("h3",{class:"text-lg font-bold text-gray-900"},"Client Documents",-1)),e("p",yt,m(S.value.length)+" documents uploaded",1)])]),e("button",{onClick:se,class:"text-purple-600 hover:text-purple-800 text-sm font-medium"}," Refresh ")])]),S.value.length===0?(i(),p("div",wt,[e("div",_t,[x(d(X),{class:"w-8 h-8 text-purple-600"})]),s[18]||(s[18]=e("p",{class:"text-gray-500 font-medium"},"No documents uploaded yet",-1)),s[19]||(s[19]=e("p",{class:"text-gray-400 text-sm mt-1"},"Upload documents using the form above",-1))])):(i(),p("div",$t,[e("table",kt,[s[20]||(s[20]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Document "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Tax Year "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Uploaded "),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",St,[(i(!0),p(B,null,E(S.value,u=>(i(),p("tr",{key:u.id,class:"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 transition-all duration-200 group"},[e("td",Ct,[e("div",jt,[e("div",Dt,[x(d(X),{class:"w-5 h-5 text-purple-600"})]),e("div",null,[e("div",At,m(u.name),1),e("div",Mt,m(q(u.file_size)),1)])])]),e("td",Ut,[e("span",Vt,m(f.documentTypes[u.document_type]||u.document_type),1)]),e("td",Tt,[e("span",Ft,m(u.tax_year||"-"),1)]),e("td",Nt,[e("span",{class:$([{"bg-amber-100 text-amber-800 border border-amber-200":u.status==="pending","bg-emerald-100 text-emerald-800 border border-emerald-200":u.status==="approved","bg-rose-100 text-rose-800 border border-rose-200":u.status==="rejected"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold shadow-sm"])},[u.status==="approved"?(i(),p("span",Pt)):u.status==="rejected"?(i(),p("span",Bt)):(i(),p("span",Et)),ue(" "+m(u.status.charAt(0).toUpperCase()+u.status.slice(1)),1)],2)]),e("td",zt,[e("span",Ot,m(te(u.created_at)),1)]),e("td",qt,[e("div",It,[e("button",{onClick:D=>oe(u),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Document"},[x(d(Se),{class:"w-3 h-3"})],8,Lt),e("button",{onClick:D=>re(u),class:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Update Status"},[x(d($e),{class:"w-3 h-3"})],8,Rt),e("button",{onClick:D=>Z(u),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Document"},[x(d(Le),{class:"w-3 h-3"})],8,Xt)])])]))),128))])])]))]),O.value?(i(),p("div",Yt,[e("div",Ht,[e("div",Gt,[e("div",null,[e("h3",Wt,m((j=A.value)==null?void 0:j.name),1),e("p",Zt,m((P=A.value)==null?void 0:P.formatted_file_size),1)]),e("button",{onClick:G,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[x(d(ce),{class:"w-5 h-5"})])]),e("div",Kt,[A.value?(i(),_(Ie,{key:0,"pdf-url":`/admin/documents/${A.value.id}/download`,"document-id":A.value.id.toString(),"document-name":A.value.name,height:600},null,8,["pdf-url","document-id","document-name"])):k("",!0)])])])):k("",!0),x(b,{show:Y.value,document:V.value,onClose:I},null,8,["show","document"]),z.value?(i(),p("div",Jt,[e("div",Qt,[e("div",es,[e("div",ts,[e("div",ss,[x(d($e),{class:"w-5 h-5 text-purple-600"})]),s[21]||(s[21]=e("h3",{class:"text-xl font-bold text-gray-900"},"Update Document Status",-1))]),e("form",{onSubmit:K(le,["prevent"]),class:"space-y-6"},[e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),L(e("select",{"onUpdate:modelValue":s[5]||(s[5]=u=>M.value.status=u),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white",required:""},[...s[22]||(s[22]=[e("option",{value:"pending"},"Pending Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[ne,M.value.status]])]),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Notes (Optional)",-1)),L(e("textarea",{"onUpdate:modelValue":s[6]||(s[6]=u=>M.value.notes=u),rows:"4",placeholder:"Add any notes about this status change...",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none",maxlength:"500"},null,512),[[he,M.value.notes]])]),e("div",os,[e("button",{type:"button",onClick:W,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:T.value,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},m(T.value?"Updating...":"Update Status"),9,rs)])],32)])])])):k("",!0)])}}},as={class:"relative overflow-hidden"},ns={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},is={class:"flex items-center space-x-4"},ds={class:"w-16 h-16 bg-gradient-to-br from-blue-500 via-blue-600 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-blue-100"},us={class:"mt-2 text-sm text-gray-600 font-medium"},cs={class:"flex items-center space-x-4 mt-3"},ps={class:"flex items-center space-x-2"},ms={class:"text-xs font-semibold text-blue-700"},gs={class:"flex items-center space-x-2"},bs={class:"text-xs font-semibold text-emerald-700"},xs={class:"flex items-center space-x-3"},fs={class:"py-12"},vs={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},hs={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},ys={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},ws={class:"flex items-center justify-between"},_s={class:"flex items-center space-x-3"},$s={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},ks={class:"text-sm font-semibold text-blue-600"},Ss={key:0,class:"flex items-center space-x-2 bg-yellow-50 px-3 py-2 rounded-lg border border-yellow-200"},Cs={key:1,class:"flex items-center space-x-2 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},js={class:"text-xs font-medium text-green-700"},Ds={class:"p-6"},As={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-3","aria-label":"Tabs"},Ms=["onClick"],Us={class:"flex flex-col items-center space-y-2"},Vs={class:"font-semibold text-center"},Ts={class:"flex items-center space-x-1"},Fs={key:0,class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},Ns={class:"text-xs font-medium opacity-75"},Ps={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Bs={class:"lg:col-span-3"},Es={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},zs={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Os={class:"flex items-center"},qs={class:"text-lg font-bold text-gray-900"},Is={class:"text-sm text-gray-600"},Ls={class:"p-8"},Rs={class:"lg:col-span-1"},Xs={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden sticky top-6"},Ys={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Hs={class:"flex items-center"},Gs={class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3"},Ws={class:"p-6"},Zs={class:"mb-6"},Ks={class:"flex items-center justify-between mb-3"},Js={class:"text-sm font-bold text-blue-600"},Qs={class:"w-full bg-gray-200 rounded-full h-3 shadow-inner"},eo={class:"space-y-3 mb-6"},to=["onClick"],so={class:"flex items-center space-x-3"},oo={class:"flex items-center space-x-2"},ro={class:"w-12 h-2 bg-gray-200 rounded-full shadow-inner"},lo={key:0,class:"w-3 h-3 bg-green-500 rounded-full animate-pulse shadow-sm"},ao={key:1,class:"w-3 h-3 bg-amber-500 rounded-full shadow-sm"},no={key:2,class:"w-3 h-3 bg-gray-300 rounded-full shadow-sm"},io={class:"space-y-3"},uo=["disabled"],co={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},po={class:"mt-6 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4 border border-blue-200"},mo={class:"flex items-center mb-3"},go={class:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center mr-2"},bo={key:0,class:"mt-4 p-4 bg-green-50 rounded-lg"},xo={class:"flex items-center"},No={__name:"Edit",props:{client:Object,visaStatusOptions:{type:Array,default:()=>[]},documentTypes:{type:Object,default:()=>({})},taxYears:{type:Array,default:()=>[]}},setup(f){var b,j,P,u,D,ae,pe,me,ge,be,xe,fe,ve;const c=f,g=w("personal"),n=Ae({personal:{firstName:((b=c.client.user)==null?void 0:b.first_name)||"",middleName:((j=c.client.user)==null?void 0:j.middle_name)||"",lastName:((P=c.client.user)==null?void 0:P.last_name)||"",email:((u=c.client.user)==null?void 0:u.email)||"",phone:c.client.phone||"",ssn:c.client.ssn||"",dateOfBirth:c.client.date_of_birth||"",maritalStatus:c.client.marital_status||"single",occupation:c.client.occupation||"",insuranceCovered:c.client.insurance_covered||!1,streetNo:c.client.street_no||"",apartmentNo:c.client.apartment_no||"",zipCode:c.client.zip_code||"",city:c.client.city||"",state:c.client.state||"",country:c.client.country||"United States",mobileNumber:c.client.mobile_number||"",workNumber:c.client.work_number||"",visaStatus:c.client.visa_status||"",date_of_entry_us:c.client.date_of_entry_us||""},spouse:{firstName:((D=c.client.spouse)==null?void 0:D.first_name)||"",middleName:((ae=c.client.spouse)==null?void 0:ae.middle_name)||"",lastName:((pe=c.client.spouse)==null?void 0:pe.last_name)||"",email:((me=c.client.spouse)==null?void 0:me.email)||"",phone:((ge=c.client.spouse)==null?void 0:ge.phone)||"",ssn:((be=c.client.spouse)==null?void 0:be.ssn)||"",dateOfBirth:((xe=c.client.spouse)==null?void 0:xe.date_of_birth)||"",occupation:((fe=c.client.spouse)==null?void 0:fe.occupation)||""},employee:[((ve=c.client.employees)==null?void 0:ve[0])||{}],projects:c.client.projects||[],assets:c.client.assets||[],expenses:c.client.expenses||[]}),S=ye(()=>[{id:"personal",name:"Personal Details",icon:Re,description:"Basic client information and contact details"},{id:"spouse",name:"Spouse Details",icon:Xe,description:"Spouse information for married clients"},{id:"employee",name:"Employment",icon:Ye,description:"Employment and salary information"},{id:"projects",name:"Projects",icon:Fe,description:"Tax-related projects and business activities"},{id:"assets",name:"Assets",icon:He,description:"Client assets and investments"},{id:"expenses",name:"Expenses",icon:Ne,description:"Deductible expenses and tax-related costs"},{id:"documents",name:"Documents",icon:X,description:"Upload and manage client documents"}]),y=ye(()=>{const r=S.value.map(o=>v(o.id)).filter(o=>o!==null),t=r.reduce((o,l)=>o+l,0);return r.length>0?t/r.length:0}),v=r=>{switch(r){case"personal":return N();case"spouse":return se();case"employee":return oe();case"projects":return null;case"assets":return null;case"expenses":return null;case"documents":return null;default:return 0}},Y=r=>{const t=v(r);return t===null?z(r):t===100?"bg-green-500":t>0?"bg-amber-500":"bg-gray-300"},z=r=>({personal:"bg-blue-500",spouse:"bg-rose-500",employee:"bg-indigo-500",projects:"bg-purple-500",assets:"bg-emerald-500",expenses:"bg-orange-500",documents:"bg-purple-500"})[r]||"bg-gray-500",O=r=>{var l,h;const t=g.value===r,o={personal:{active:"bg-blue-500 text-white shadow-lg transform scale-105 border-2 border-blue-600",inactive:"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:shadow-md hover:transform hover:scale-102 border border-blue-200"},spouse:{active:"bg-rose-500 text-white shadow-lg transform scale-105 border-2 border-rose-600",inactive:"bg-rose-100 text-rose-700 hover:bg-rose-200 hover:shadow-md hover:transform hover:scale-102 border border-rose-200"},employee:{active:"bg-indigo-500 text-white shadow-lg transform scale-105 border-2 border-indigo-600",inactive:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 hover:shadow-md hover:transform hover:scale-102 border border-indigo-200"},projects:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"},assets:{active:"bg-emerald-500 text-white shadow-lg transform scale-105 border-2 border-emerald-600",inactive:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 hover:shadow-md hover:transform hover:scale-102 border border-emerald-200"},expenses:{active:"bg-orange-500 text-white shadow-lg transform scale-105 border-2 border-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200 hover:shadow-md hover:transform hover:scale-102 border border-orange-200"},documents:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"}};return t?(l=o[r])==null?void 0:l.active:(h=o[r])==null?void 0:h.inactive},V=r=>{const t=g.value===r;return{personal:t?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-blue-50",spouse:t?"bg-rose-100 border border-rose-200":"bg-gray-50 hover:bg-rose-50",employee:t?"bg-indigo-100 border border-indigo-200":"bg-gray-50 hover:bg-indigo-50",projects:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50",assets:t?"bg-emerald-100 border border-emerald-200":"bg-gray-50 hover:bg-emerald-50",expenses:t?"bg-orange-100 border border-orange-200":"bg-gray-50 hover:bg-orange-50",documents:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50"}[r]||"bg-gray-50 hover:bg-gray-100"},A=r=>{const t=g.value===r;return{personal:t?"text-blue-600":"text-gray-500",spouse:t?"text-rose-600":"text-gray-500",employee:t?"text-indigo-600":"text-gray-500",projects:t?"text-purple-600":"text-gray-500",assets:t?"text-emerald-600":"text-gray-500",expenses:t?"text-orange-600":"text-gray-500",documents:t?"text-purple-600":"text-gray-500"}[r]||"text-gray-500"},T=r=>{const t=g.value===r;return{personal:t?"text-blue-900":"text-gray-900",spouse:t?"text-rose-900":"text-gray-900",employee:t?"text-indigo-900":"text-gray-900",projects:t?"text-purple-900":"text-gray-900",assets:t?"text-emerald-900":"text-gray-900",expenses:t?"text-orange-900":"text-gray-900",documents:t?"text-purple-900":"text-gray-900"}[r]||"text-gray-900"},C=r=>g.value===r?"text-white":{personal:"text-blue-600",spouse:"text-rose-600",employee:"text-indigo-600",projects:"text-purple-600",assets:"text-emerald-600",expenses:"text-orange-600",documents:"text-purple-600"}[r]||"text-gray-600",M=r=>g.value===r?"bg-white bg-opacity-80":{personal:"bg-blue-400",spouse:"bg-rose-400",employee:"bg-indigo-400",projects:"bg-purple-400",assets:"bg-emerald-400",expenses:"bg-orange-400",documents:"bg-purple-400"}[r]||"bg-gray-400",U=()=>{},Q=r=>{Array.isArray(n.employee)||(n.employee=[]),n.employee.length===0&&n.employee.push({}),n.employee[0]={...r}},H=()=>{const r={personal:q(n.personal),spouse:q(n.spouse),employee:Array.isArray(n.employee)?n.employee.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o}):[],projects:Array.isArray(n.projects)?n.projects.map(t=>{const o={...t};return delete o.taxYear,delete o.priority,delete o.created_at,delete o.updated_at,o.start_date&&(o.start_date=F(o.start_date)),o.due_date&&(o.due_date=F(o.due_date)),o.completion_date&&(o.completion_date=F(o.completion_date)),o}):[],assets:Array.isArray(n.assets)?n.assets.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o.date_of_purchase&&(o.date_of_purchase=F(o.date_of_purchase)),o}):[],expenses:Array.isArray(n.expenses)?n.expenses.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o.expense_date&&(o.expense_date=F(o.expense_date)),o}):[]};n.transform(()=>r).put(route("admin.clients.update",c.client.id),{onSuccess:()=>{J.visit(route("admin.clients.show",c.client.id))},onError:t=>{console.error("Failed to update client:",t)}})},ee=()=>{J.visit(route("admin.clients.show",c.client.id))},q=r=>{const t={};for(const[o,l]of Object.entries(r)){const h=o.replace(/[A-Z]/g,Ce=>`_${Ce.toLowerCase()}`);t[h]=l}return t},te=r=>{const o=Math.floor((new Date-r)/1e3);return o<60?"just now":o<3600?`${Math.floor(o/60)}m ago`:o<86400?`${Math.floor(o/3600)}h ago`:`${Math.floor(o/86400)}d ago`},F=r=>{if(!r)return null;try{let t;if(typeof r=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(r))return r;t=new Date(r)}else if(r instanceof Date)t=r;else return null;if(isNaN(t.getTime()))return console.warn("Invalid date provided:",r),null;const o=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),h=String(t.getDate()).padStart(2,"0");return`${o}-${l}-${h}`}catch(t){return console.error("Error formatting date for backend:",t,r),null}},N=()=>{const r=["firstName","lastName","email","phone"];return r.filter(o=>{const l=n.personal[o];return l&&l.toString().trim().length>0}).length/r.length*100},se=()=>{var o;if(((o=n.personal)==null?void 0:o.maritalStatus)!=="married")return 100;const r=["firstName","lastName"];return r.filter(l=>{const h=n.spouse[l];return h&&h.toString().trim().length>0}).length/r.length*100},oe=()=>{if(!n.employee||!Array.isArray(n.employee)||n.employee.length===0)return 0;const r=n.employee[0],t=["employerName","position"];return t.filter(l=>{const h=r[l];return h&&h.toString().trim().length>0}).length/t.length*100},G=r=>{const t=g.value===r;return{personal:t?"bg-blue-500":"bg-blue-100",spouse:t?"bg-rose-500":"bg-rose-100",employee:t?"bg-indigo-500":"bg-indigo-100",projects:t?"bg-purple-500":"bg-purple-100",assets:t?"bg-emerald-500":"bg-emerald-100",expenses:t?"bg-orange-500":"bg-orange-100",documents:t?"bg-purple-500":"bg-purple-100"}[r]||(t?"bg-gray-500":"bg-gray-100")},I=()=>S.value.find(r=>r.id===g.value)||S.value[0],re=()=>G(g.value),W=()=>"text-white",le=r=>{const t=g.value===r;return{personal:t?"bg-blue-500":"bg-blue-100",spouse:t?"bg-rose-500":"bg-rose-100",employee:t?"bg-indigo-500":"bg-indigo-100",projects:t?"bg-purple-500":"bg-purple-100",assets:t?"bg-emerald-500":"bg-emerald-100",expenses:t?"bg-orange-500":"bg-orange-100",documents:t?"bg-purple-500":"bg-purple-100"}[r]||(t?"bg-gray-500":"bg-gray-100")},Z=w(null),a=w(null),s=w(!1);return Me(()=>n.data(),()=>{},{deep:!0}),Ue(()=>{Z.value&&clearTimeout(Z.value)}),(r,t)=>(i(),_(Te,null,{header:we(()=>{var o,l;return[e("div",as,[t[13]||(t[13]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-blue-50"},null,-1)),t[14]||(t[14]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),t[15]||(t[15]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",ns,[e("div",is,[e("div",ds,[x(d(ke),{class:"w-8 h-8 text-white"})]),e("div",null,[t[10]||(t[10]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-emerald-900 bg-clip-text text-transparent"}," Edit Client ",-1)),e("p",us,"Update "+m((o=f.client.user)==null?void 0:o.first_name)+" "+m((l=f.client.user)==null?void 0:l.last_name)+"'s information",1),e("div",cs,[e("div",ps,[t[8]||(t[8]=e("div",{class:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"},null,-1)),e("span",ms,m(Math.round(y.value))+"% Complete",1)]),e("div",gs,[t[9]||(t[9]=e("div",{class:"w-2 h-2 bg-emerald-400 rounded-full"},null,-1)),e("span",bs,m(g.value.charAt(0).toUpperCase()+g.value.slice(1))+" Section",1)])])])]),e("div",xs,[e("button",{onClick:t[0]||(t[0]=h=>d(J).visit(r.route("admin.clients.show",f.client.id))),class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[x(d(Se),{class:"w-5 h-5 mr-2"}),t[11]||(t[11]=e("span",{class:"font-semibold"},"View Client",-1))]),e("button",{onClick:t[1]||(t[1]=h=>d(J).visit(r.route("admin.clients.index"))),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[x(d(Ze),{class:"w-5 h-5 mr-2"}),t[12]||(t[12]=e("span",{class:"font-semibold"},"Back to Clients",-1))])])])])]}),default:we(()=>{var o;return[e("div",fs,[e("div",vs,[e("div",hs,[e("div",ys,[e("div",ws,[t[18]||(t[18]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Client Information Sections"),e("p",{class:"text-sm text-gray-600 mt-1"},"Update client profile sections as needed")],-1)),e("div",_s,[e("div",$s,[e("span",ks,m(Math.round(y.value))+"% Complete",1)]),s.value?(i(),p("div",Ss,[...t[16]||(t[16]=[e("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse"},null,-1),e("span",{class:"text-xs font-medium text-yellow-700"},"Auto-saving...",-1)])])):a.value?(i(),p("div",Cs,[t[17]||(t[17]=e("div",{class:"w-3 h-3 bg-green-400 rounded-full"},null,-1)),e("span",js,"Saved "+m(te(a.value)),1)])):k("",!0)])])]),e("div",Ds,[e("nav",As,[(i(!0),p(B,null,E(S.value,l=>(i(),p("button",{key:l.id,onClick:h=>g.value=l.id,class:$(["relative p-4 rounded-xl font-medium text-sm transition-all duration-300 border-2 group hover:shadow-md transform hover:scale-105",O(l.id)])},[e("div",Us,[e("div",{class:$(["w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300",G(l.id)])},[(i(),_(ie(l.icon),{class:$([C(l.id),"w-5 h-5"])},null,8,["class"]))],2),e("span",Vs,m(l.name),1),e("div",Ts,[v(l.id)===100?(i(),p("div",Fs)):(i(),p("div",{key:1,class:$(`w-2 h-2 rounded-full ${M(l.id)}`)},null,2)),e("span",Ns,m(v(l.id)===100?"Complete":"Pending"),1)])])],10,Ms))),128))])])])])]),e("div",Ps,[e("div",Bs,[e("div",Es,[e("div",zs,[e("div",Os,[e("div",{class:$(["w-8 h-8 rounded-lg flex items-center justify-center mr-3",re()])},[(i(),_(ie(I().icon),{class:$([W(),"w-4 h-4"])},null,8,["class"]))],2),e("div",null,[e("h3",qs,m(I().name),1),e("p",Is,m(I().description),1)])])]),e("div",Ls,[g.value==="personal"?(i(),_(Pe,{key:0,modelValue:d(n).personal,"onUpdate:modelValue":t[2]||(t[2]=l=>d(n).personal=l),data:f.client,errors:d(n).errors,"visa-status-options":f.visaStatusOptions,onUpdate:U},null,8,["modelValue","data","errors","visa-status-options"])):k("",!0),g.value==="spouse"?(i(),_(Be,{key:1,modelValue:d(n).spouse,"onUpdate:modelValue":t[3]||(t[3]=l=>d(n).spouse=l),errors:d(n).errors,"show-spouse":((o=d(n).personal)==null?void 0:o.maritalStatus)==="married",onUpdate:U},null,8,["modelValue","errors","show-spouse"])):k("",!0),g.value==="employee"?(i(),_(Ee,{key:2,modelValue:d(n).employee[0],"onUpdate:modelValue":t[4]||(t[4]=l=>d(n).employee[0]=l),errors:d(n).errors,onUpdate:Q},null,8,["modelValue","errors"])):k("",!0),g.value==="projects"?(i(),_(ze,{key:3,modelValue:d(n).projects,"onUpdate:modelValue":t[5]||(t[5]=l=>d(n).projects=l),errors:d(n).errors,onUpdate:U},null,8,["modelValue","errors"])):k("",!0),g.value==="assets"?(i(),_(Oe,{key:4,modelValue:d(n).assets,"onUpdate:modelValue":t[6]||(t[6]=l=>d(n).assets=l),errors:d(n).errors,onUpdate:U},null,8,["modelValue","errors"])):k("",!0),g.value==="expenses"?(i(),_(qe,{key:5,modelValue:d(n).expenses,"onUpdate:modelValue":t[7]||(t[7]=l=>d(n).expenses=l),errors:d(n).errors,onUpdate:U},null,8,["modelValue","errors"])):k("",!0),g.value==="documents"?(i(),_(ls,{key:6,"client-id":f.client.id,"document-types":f.documentTypes,"tax-years":f.taxYears,onUpdate:U},null,8,["client-id","document-types","tax-years"])):k("",!0)])])]),e("div",Rs,[e("div",Xs,[e("div",Ys,[e("div",Hs,[e("div",Gs,[x(d(Ve),{class:"w-4 h-4 text-white"})]),t[19]||(t[19]=e("h3",{class:"text-lg font-bold text-gray-900"},"Edit Progress",-1))])]),e("div",Ws,[e("div",Zs,[e("div",Ks,[t[20]||(t[20]=e("span",{class:"text-sm font-semibold text-gray-700"},"Overall Completion",-1)),e("span",Js,m(Math.round(y.value))+"%",1)]),e("div",Qs,[e("div",{class:"bg-gradient-to-r from-blue-500 to-emerald-500 h-3 rounded-full transition-all duration-500 shadow-sm",style:_e({width:`${y.value}%`})},null,4)]),t[21]||(t[21]=e("p",{class:"text-xs text-gray-500 mt-2"},"Update sections as needed",-1))]),e("div",eo,[(i(!0),p(B,null,E(S.value,l=>(i(),p("div",{key:l.id,class:$(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all duration-300 border-2 hover:shadow-md transform hover:scale-105",V(l.id)]),onClick:h=>g.value=l.id},[e("div",so,[e("div",{class:$(["w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-300",le(l.id)])},[(i(),_(ie(l.icon),{class:$([A(l.id),"w-4 h-4"])},null,8,["class"]))],2),e("div",null,[e("span",{class:$(["text-sm font-semibold block",T(l.id)])},m(l.name),3),e("span",{class:$(["text-xs opacity-75",T(l.id)])},m(v(l.id)===100?"Complete":v(l.id)>0?"In Progress":"Not Started"),3)])]),e("div",oo,[e("div",ro,[e("div",{class:$(["h-2 rounded-full transition-all duration-500",Y(l.id)]),style:_e({width:v(l.id)!==null?`${v(l.id)}%`:"0%"})},null,6)]),v(l.id)===100?(i(),p("div",lo)):v(l.id)>0?(i(),p("div",ao)):(i(),p("div",no))])],10,to))),128))]),e("div",io,[e("button",{onClick:H,disabled:d(n).processing,class:"w-full bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center"},[d(n).processing?(i(),p("svg",co,[...t[22]||(t[22]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),_(d(ke),{key:0,class:"w-5 h-5 mr-2"})),ue(" "+m(d(n).processing?"Updating Client...":"Update Client"),1)],8,uo),e("button",{onClick:ee,class:"w-full bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center"},[x(d(ce),{class:"w-5 h-5 mr-2"}),t[23]||(t[23]=ue(" Cancel ",-1))])]),e("div",po,[e("div",mo,[e("div",go,[x(d(Ge),{class:"w-3 h-3 text-white"})]),t[24]||(t[24]=e("h4",{class:"text-sm font-bold text-blue-900"},"Edit Notes",-1))]),t[25]||(t[25]=e("p",{class:"text-xs text-blue-700 mb-3 leading-relaxed"}," Update client information sections as needed. Changes are saved when you click Update Client. ",-1)),t[26]||(t[26]=e("div",{class:"space-y-2"},[e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline transition-all duration-200"}," ðŸ“‹ Edit Guidelines "),e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline transition-all duration-200"}," ðŸ”’ Data Security Policy ")],-1))]),y.value>=80?(i(),p("div",bo,[e("div",xo,[x(d(We),{class:"w-5 h-5 text-green-500 mr-2"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium text-green-800"},"Ready to update!",-1))]),t[28]||(t[28]=e("p",{class:"text-xs text-green-700 mt-1"}," Client information is comprehensive and ready for update. ",-1))])):k("",!0)])])])])]}),_:1}))}};export{No as default};
