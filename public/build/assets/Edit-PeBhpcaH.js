import{c,a as e,o as i,r as h,A as we,B as _e,g as j,b,u as d,j as le,k as O,l as ae,F,h as P,t as p,v as pe,e as k,p as S,f as ue,C as ne,T as $e,q as me,s as ke,D as Ce,w as ge,x as ie,n as be,N as G,z as Se}from"./app-BQNIn2f8.js";import{r as je,A as De}from"./AppLayout-DrkZ1JsK.js";import{r as Ae,a as Me,P as Ue,S as Te,E as Ve,b as Fe,A as Pe,c as Ne}from"./ExpensesManagementSection-BjCRTIuI.js";import{P as ze}from"./PdfViewer-wLknjSC3.js";import{r as de,_ as Ee,C as xe}from"./ChunkedUploadService-DtP1qhVP.js";import{r as R}from"./DocumentTextIcon-C37C6jlL.js";import{r as ce}from"./XMarkIcon-C9oP34lN.js";import{r as he}from"./EyeIcon-C9v1bN0S.js";import{r as fe}from"./PencilIcon-CwgArCE3.js";import{r as Be}from"./TrashIcon-B1YsfYMd.js";import{r as Ie}from"./UserIcon-Ccjs6dBn.js";import{r as Oe}from"./ReceiptRefundIcon-C_hJl84w.js";import{r as Re}from"./BriefcaseIcon-BGX3WsO3.js";import{r as qe}from"./CurrencyDollarIcon-Ckacq4pa.js";import{r as Le}from"./InformationCircleIcon-CAXtrswj.js";import{r as Xe}from"./CheckCircleIcon-C6paYfj3.js";import{r as Ye}from"./ArrowLeftIcon-bdj3p7VB.js";import"./ConsentBanner-DqKiPM_A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PlusIcon-B2ngb9dO.js";import"./ExclamationTriangleIcon-BVKwVj6z.js";import"./ChevronDownIcon-BqnFj7JT.js";function ve(_,m){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}const He={class:"space-y-6"},Ge={class:"bg-gradient-to-br from-purple-50 to-indigo-100 rounded-xl p-6 border border-purple-200"},Ke={class:"flex items-center justify-between mb-6"},We={class:"flex items-center space-x-3"},Je={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg"},Ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Qe=["value"],et=["value"],tt={class:"relative"},st={key:0,class:"space-y-2"},ot={class:"space-y-2"},rt={class:"flex items-center space-x-3"},lt={class:"text-sm font-medium text-gray-900"},at={class:"text-xs text-gray-500"},nt=["onClick"],it={class:"flex justify-end"},dt=["disabled"],ut={key:1,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},ct={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},pt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},mt={class:"flex items-center justify-between"},gt={class:"flex items-center space-x-3"},bt={class:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center"},xt={class:"text-sm text-gray-600"},ft={key:0,class:"p-12 text-center"},vt={class:"w-14 h-14 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},ht={key:1,class:"overflow-x-auto"},yt={class:"min-w-full"},wt={class:"bg-white divide-y divide-gray-100"},_t={class:"px-6 py-5 whitespace-nowrap"},$t={class:"flex items-center"},kt={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4 shadow-sm"},Ct={class:"text-sm font-semibold text-gray-900"},St={class:"text-xs text-gray-500 font-medium"},jt={class:"px-6 py-5 whitespace-nowrap"},Dt={class:"text-sm font-medium text-gray-900"},At={class:"px-6 py-5 whitespace-nowrap"},Mt={class:"text-sm font-semibold text-gray-900"},Ut={class:"px-6 py-5 whitespace-nowrap"},Tt={key:0,class:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"},Vt={key:1,class:"w-1.5 h-1.5 bg-rose-400 rounded-full mr-2"},Ft={key:2,class:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-2"},Pt={class:"px-6 py-5 whitespace-nowrap"},Nt={class:"text-sm text-gray-600 font-medium"},zt={class:"px-6 py-5 text-center"},Et={class:"flex justify-center space-x-2"},Bt=["onClick"],It=["onClick"],Ot=["onClick"],Rt={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center p-4"},qt={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden flex flex-col max-h-[90vh]"},Lt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"},Xt={class:"text-lg font-bold text-gray-900"},Yt={class:"text-sm text-gray-600 mt-1"},Ht={class:"flex-1 overflow-hidden"},Gt={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Kt={class:"relative top-20 mx-auto p-6 border w-96 shadow-2xl rounded-2xl bg-white"},Wt={class:"mt-3"},Jt={class:"flex items-center space-x-3 mb-6"},Zt={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center"},Qt={class:"space-y-6"},es={class:"flex justify-end space-x-3 pt-4"},ts=["disabled"],ss={__name:"DocumentManagementSection",props:{clientId:{type:Number,required:!0},documentTypes:{type:Object,default:()=>({w2:"W-2 Forms",1099:"1099 Forms",receipts:"Receipts",bank_statements:"Bank Statements",tax_returns:"Tax Returns",id_documents:"ID Documents",other:"Other"})},taxYears:{type:Array,default:()=>[]}},emits:["update"],setup(_,{emit:m}){const g=_,n=m,w=h([]),v=h([]),y=h(!1),q=h(!1),N=h(!1),z=h(!1),M=h(null),A=h(null),U=h(!1),f=h([]),L=h(new Map),x=h({document_type:"",tax_year:"",notes:""}),D=h({status:"",notes:""}),K=a=>{const s=Array.from(a.target.files);X(s)},W=a=>{const s=Array.from(a.dataTransfer.files);X(s)},X=a=>{const s=a.filter(u=>{const r=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return u.size<=26214400&&(r.includes(u.type)||/\.(pdf|doc|docx|jpg|jpeg|png|gif|txt|xls|xlsx)$/i.test(u.name))});v.value=[...v.value,...s]},J=a=>{v.value.splice(a,1)},E=a=>{if(!a)return"Unknown";const s=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,u)*100)/100+" "+s[u]},Z=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=async()=>{if(v.value.length!==0){y.value=!0;try{for(let s=0;s<v.value.length;s++){const u=v.value[s],C=`${Date.now()}_${s}_${Math.random().toString(36).substr(2,9)}`,r={fileId:C,fileName:u.name,fileSize:u.size,progress:0,uploadedChunks:0,totalChunks:Math.ceil(u.size/(5*1024*1024)),status:"initializing",speed:0,eta:0,lastProgress:0,lastTime:Date.now()};f.value.push(r),L.value.set(C,r);try{await xe.uploadFile(u,g.clientId,x.value.document_type,x.value.tax_year||null,x.value.notes||"",t=>{r.progress=t,r.uploadedChunks=Math.ceil(t/100*r.totalChunks),f.value=[...f.value]},t=>{r.status=t,f.value=[...f.value]}),r.status="completed"}catch(t){console.error(`Upload failed for ${u.name}:`,t),r.status="paused"}}f.value.filter(s=>s.status==="paused").length===0&&(v.value=[],x.value={document_type:"",tax_year:"",notes:""},await V(),n("update"),setTimeout(()=>{f.value=f.value.filter(s=>s.status!=="completed")},3e3))}catch(a){console.error("Upload failed:",a)}finally{y.value=!1}}},Q=async a=>{const s=v.value.find(u=>u.name===a.fileName);if(s){a.status="resuming";try{await xe.uploadFile(s,g.clientId,x.value.document_type,x.value.tax_year||null,x.value.notes||"",u=>{a.progress=u,a.uploadedChunks=Math.ceil(u/100*a.totalChunks),f.value=[...f.value]},u=>{a.status=u,f.value=[...f.value]}),a.status="completed",await V(),n("update"),setTimeout(()=>{f.value=f.value.filter(u=>u.status!=="completed")},3e3)}catch(u){console.error("Resume failed:",u),a.status="paused"}}},ee=a=>{const s=f.value.findIndex(u=>u.fileId===a.fileId);s!==-1&&f.value.splice(s,1),L.value.delete(a.fileId)},V=async()=>{try{const a=await ne.get(`/admin/clients/${g.clientId}/documents`);console.log("Documents loaded from API:",a.data.documents),w.value=a.data.documents||[]}catch(a){console.error("Failed to load documents by client:",a);try{const s=await ne.get(`/admin/documents?user_id=${g.clientId}`);console.log("Documents loaded from fallback:",s.data.documents),w.value=s.data.documents||[]}catch(s){console.error("Fallback load also failed:",s),w.value=[]}}},Y=()=>{V()},B=a=>{if(!a||!a.id){console.error("Invalid document:",a),alert("Unable to view document. Invalid document data.");return}console.log("Viewing document:",a.id,a.file_path),A.value=a,z.value=!0},te=()=>{z.value=!1,A.value=null},se=()=>{q.value=!1,M.value=null},oe=a=>{console.log("Selected document for status update:",a),M.value=a,D.value={status:a.status,notes:a.notes||""},N.value=!0},I=()=>{N.value=!1,M.value=null,D.value={status:"",notes:""}},H=async()=>{var a;U.value=!0;try{const s=M.value.id,u=`/admin/documents/${s}/status`;console.log("Updating document status:",{documentId:s,url:u,data:D.value});const C=await fetch(u,{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.content)||""},body:JSON.stringify(D.value)});if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const r=await C.json();console.log("Status update response:",r);const t=w.value.findIndex(o=>o.id===s);t!==-1&&(w.value[t].status=D.value.status,w.value[t].notes=D.value.notes),I(),n("update")}catch(s){console.error("Status update failed:",s)}finally{U.value=!1}},re=async a=>{if(confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`))try{console.log("Deleting document:",a.id);const s=await ne.delete(`/admin/documents/${a.id}`,{headers:{"X-Requested-With":"XMLHttpRequest"}});console.log("Delete successful:",s.data),await V(),n("update"),alert("Document deleted successfully!")}catch(s){console.error("Delete failed:",s);let u="Delete failed. Please try again.";s.response&&(console.error("Error response:",s.response.data),s.response.data.message?u=s.response.data.message:s.response.status===404?u="Document not found.":s.response.status===403&&(u="You do not have permission to delete this document.")),alert(u)}};return we(()=>{V()}),(a,s)=>{var C,r;const u=_e("DocumentViewModal");return i(),c("div",He,[e("div",Ge,[e("div",Ke,[e("div",We,[e("div",Je,[b(d(de),{class:"w-5 h-5 text-white"})]),s[7]||(s[7]=e("div",null,[e("h3",{class:"text-lg font-bold text-purple-900"},"Upload Documents"),e("p",{class:"text-sm text-purple-700"},"Add new documents for this client")],-1))])]),e("form",{onSubmit:le(T,["prevent"]),class:"space-y-4"},[e("div",Ze,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Document Type",-1)),O(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>x.value.document_type=t),class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900",required:""},[s[8]||(s[8]=e("option",{value:""},"Select document type",-1)),(i(!0),c(F,null,P(_.documentTypes,(t,o)=>(i(),c("option",{key:o,value:o},p(t),9,Qe))),128))],512),[[ae,x.value.document_type]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Tax Year",-1)),O(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>x.value.tax_year=t),class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[s[10]||(s[10]=e("option",{value:""},"Select tax year",-1)),(i(!0),c(F,null,P(_.taxYears,t=>(i(),c("option",{key:t,value:t},p(t),9,et))),128))],512),[[ae,x.value.tax_year]])])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Notes (Optional)",-1)),O(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>x.value.notes=t),rows:"3",placeholder:"Add any notes about this document...",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none text-gray-900",maxlength:"500"},null,512),[[pe,x.value.notes]])]),e("div",tt,[e("input",{ref:"fileInput",type:"file",onChange:K,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt,.xls,.xlsx",multiple:"",class:"hidden"},null,544),e("div",{onClick:s[3]||(s[3]=t=>a.$refs.fileInput.click()),onDragover:s[4]||(s[4]=le(()=>{},["prevent"])),onDrop:le(W,["prevent"]),class:"border-2 border-dashed border-purple-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-200"},[b(d(de),{class:"w-12 h-12 text-purple-400 mx-auto mb-4"}),s[13]||(s[13]=e("p",{class:"text-purple-700 font-semibold mb-2"},"Click to upload or drag and drop",-1)),s[14]||(s[14]=e("p",{class:"text-sm text-purple-600"},"PDF, DOC, DOCX, JPG, PNG, GIF, TXT, XLS, XLSX (Max 25MB each)",-1))],32)]),v.value.length>0?(i(),c("div",st,[s[15]||(s[15]=e("h4",{class:"text-sm font-semibold text-purple-800"},"Selected Files:",-1)),e("div",ot,[(i(!0),c(F,null,P(v.value,(t,o)=>(i(),c("div",{key:o,class:"flex items-center justify-between bg-white p-3 rounded-lg border border-purple-200"},[e("div",rt,[b(d(R),{class:"w-5 h-5 text-purple-600"}),e("div",null,[e("p",lt,p(t.name),1),e("p",at,p(E(t.size)),1)])]),e("button",{type:"button",onClick:l=>J(o),class:"text-red-500 hover:text-red-700 p-1"},[b(d(ce),{class:"w-4 h-4"})],8,nt)]))),128))])])):j("",!0),e("div",it,[e("button",{type:"submit",disabled:y.value||v.value.length===0,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2"},[y.value?(i(),c("svg",ut,[...s[16]||(s[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),k(d(de),{key:0,class:"w-5 h-5"})),e("span",null,p(y.value?"Uploading...":"Upload Documents"),1)],8,dt)])],32)]),e("div",ct,[e("div",pt,[e("div",mt,[e("div",gt,[e("div",bt,[b(d(R),{class:"w-4 h-4 text-white"})]),e("div",null,[s[17]||(s[17]=e("h3",{class:"text-lg font-bold text-gray-900"},"Client Documents",-1)),e("p",xt,p(w.value.length)+" documents uploaded",1)])]),e("button",{onClick:Y,class:"text-purple-600 hover:text-purple-800 text-sm font-medium"}," Refresh ")])]),w.value.length===0?(i(),c("div",ft,[e("div",vt,[b(d(R),{class:"w-8 h-8 text-purple-600"})]),s[18]||(s[18]=e("p",{class:"text-gray-500 font-medium"},"No documents uploaded yet",-1)),s[19]||(s[19]=e("p",{class:"text-gray-400 text-sm mt-1"},"Upload documents using the form above",-1))])):(i(),c("div",ht,[e("table",yt,[s[20]||(s[20]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Document "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Tax Year "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Uploaded "),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",wt,[(i(!0),c(F,null,P(w.value,t=>(i(),c("tr",{key:t.id,class:"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 transition-all duration-200 group"},[e("td",_t,[e("div",$t,[e("div",kt,[b(d(R),{class:"w-5 h-5 text-purple-600"})]),e("div",null,[e("div",Ct,p(t.name),1),e("div",St,p(E(t.file_size)),1)])])]),e("td",jt,[e("span",Dt,p(_.documentTypes[t.document_type]||t.document_type),1)]),e("td",At,[e("span",Mt,p(t.tax_year||"-"),1)]),e("td",Ut,[e("span",{class:S([{"bg-amber-100 text-amber-800 border border-amber-200":t.status==="pending","bg-emerald-100 text-emerald-800 border border-emerald-200":t.status==="approved","bg-rose-100 text-rose-800 border border-rose-200":t.status==="rejected"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold shadow-sm"])},[t.status==="approved"?(i(),c("span",Tt)):t.status==="rejected"?(i(),c("span",Vt)):(i(),c("span",Ft)),ue(" "+p(t.status.charAt(0).toUpperCase()+t.status.slice(1)),1)],2)]),e("td",Pt,[e("span",Nt,p(Z(t.created_at)),1)]),e("td",zt,[e("div",Et,[e("button",{onClick:o=>B(t),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Document"},[b(d(he),{class:"w-3 h-3"})],8,Bt),e("button",{onClick:o=>oe(t),class:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Update Status"},[b(d(fe),{class:"w-3 h-3"})],8,It),e("button",{onClick:o=>re(t),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Document"},[b(d(Be),{class:"w-3 h-3"})],8,Ot)])])]))),128))])])]))]),z.value?(i(),c("div",Rt,[e("div",qt,[e("div",Lt,[e("div",null,[e("h3",Xt,p((C=A.value)==null?void 0:C.name),1),e("p",Yt,p((r=A.value)==null?void 0:r.formatted_file_size),1)]),e("button",{onClick:te,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[b(d(ce),{class:"w-5 h-5"})])]),e("div",Ht,[A.value?(i(),k(ze,{key:0,"pdf-url":`/admin/documents/${A.value.id}/download`,"document-id":A.value.id.toString(),"document-name":A.value.name,height:600},null,8,["pdf-url","document-id","document-name"])):j("",!0)])])])):j("",!0),b(u,{show:q.value,document:M.value,onClose:se},null,8,["show","document"]),b(Ee,{uploads:f.value,onResume:Q,onCancel:ee},null,8,["uploads"]),N.value?(i(),c("div",Gt,[e("div",Kt,[e("div",Wt,[e("div",Jt,[e("div",Zt,[b(d(fe),{class:"w-5 h-5 text-purple-600"})]),s[21]||(s[21]=e("h3",{class:"text-xl font-bold text-gray-900"},"Update Document Status",-1))]),e("div",Qt,[e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),O(e("select",{"onUpdate:modelValue":s[5]||(s[5]=t=>D.value.status=t),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white",required:""},[...s[22]||(s[22]=[e("option",{value:"pending"},"Pending Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[ae,D.value.status]])]),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Notes (Optional)",-1)),O(e("textarea",{"onUpdate:modelValue":s[6]||(s[6]=t=>D.value.notes=t),rows:"4",placeholder:"Add any notes about this status change...",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none",maxlength:"500"},null,512),[[pe,D.value.notes]])]),e("div",es,[e("button",{type:"button",onClick:I,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all duration-200"}," Cancel "),e("button",{type:"button",onClick:H,disabled:U.value,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},p(U.value?"Updating...":"Update Status"),9,ts)])])])])])):j("",!0)])}}},os={class:"relative overflow-hidden"},rs={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2 pr-2 pl-2"},ls={class:"flex items-center space-x-4"},as={class:"w-14 h-14 bg-gradient-to-br from-emarald-500 via-green-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-blue-100"},ns={class:"mt-2 text-sm text-gray-600 font-medium"},is={class:"flex items-center space-x-4 mt-3"},ds={class:"flex items-center space-x-2"},us={class:"text-xs font-semibold text-blue-700"},cs={class:"flex items-center space-x-2"},ps={class:"text-xs font-semibold text-emerald-700"},ms={class:"flex items-center space-x-3"},gs={class:"py-6"},bs={class:"max-w-7xl mx-auto sm:px-6 lg:px-4"},xs={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},fs={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},vs={class:"flex items-center justify-between"},hs={class:"flex items-center space-x-3"},ys={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},ws={class:"text-sm font-semibold text-blue-600"},_s={key:0,class:"flex items-center space-x-2 bg-yellow-50 px-3 py-2 rounded-lg border border-yellow-200"},$s={key:1,class:"flex items-center space-x-2 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},ks={class:"text-xs font-medium text-green-700"},Cs={class:"p-6"},Ss={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-3","aria-label":"Tabs"},js=["onClick"],Ds={class:"flex flex-col items-center space-y-2"},As={class:"font-semibold text-center"},Ms={class:"flex items-center space-x-1"},Us={key:0,class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},Ts={class:"text-xs font-medium opacity-75"},Vs={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Fs={class:"lg:col-span-3"},Ps={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},Ns={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},zs={class:"flex items-center"},Es={class:"text-lg font-bold text-gray-900"},Bs={class:"text-sm text-gray-600"},Is={class:"p-8"},Os={class:"lg:col-span-1"},Rs={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden sticky top-6"},qs={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Ls={class:"flex items-center"},Xs={class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3"},Ys={class:"p-6"},Hs={class:"mb-6"},Gs={class:"flex items-center justify-between mb-3"},Ks={class:"text-sm font-bold text-blue-600"},Ws={class:"w-full bg-gray-200 rounded-full h-3 shadow-inner"},Js={class:"space-y-3 mb-6"},Zs=["onClick"],Qs={class:"flex items-center space-x-3"},eo={class:"flex items-center space-x-2"},to={class:"w-12 h-2 bg-gray-200 rounded-full shadow-inner"},so={key:0,class:"w-3 h-3 bg-green-500 rounded-full animate-pulse shadow-sm"},oo={key:1,class:"w-3 h-3 bg-amber-500 rounded-full shadow-sm"},ro={key:2,class:"w-3 h-3 bg-gray-300 rounded-full shadow-sm"},lo={class:"space-y-3"},ao=["disabled"],no={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},io={class:"mt-6 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4 border border-blue-200"},uo={class:"flex items-center mb-3"},co={class:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center mr-2"},po={key:0,class:"mt-4 p-4 bg-green-50 rounded-lg"},mo={class:"flex items-center"},No={__name:"Edit",props:{client:Object,visaStatusOptions:{type:Array,default:()=>[]},documentTypes:{type:Object,default:()=>({})},taxYears:{type:Array,default:()=>[]}},setup(_){var a,s,u,C;const m=_,g=h("personal"),n=$e({personal:{firstName:((a=m.client.user)==null?void 0:a.first_name)||"",middleName:((s=m.client.user)==null?void 0:s.middle_name)||"",lastName:((u=m.client.user)==null?void 0:u.last_name)||"",email:((C=m.client.user)==null?void 0:C.email)||"",phone:m.client.phone||"",ssn:m.client.ssn||"",dateOfBirth:m.client.date_of_birth||"",maritalStatus:m.client.marital_status||"single",occupation:m.client.occupation||"",insuranceCovered:m.client.insurance_covered||!1,streetNo:m.client.street_no||"",apartmentNo:m.client.apartment_no||"",zipCode:m.client.zip_code||"",city:m.client.city||"",state:m.client.state||"",country:m.client.country||"United States",mobileNumber:m.client.mobile_number||"",workNumber:m.client.work_number||"",visaStatus:m.client.visa_status||"",dateOfEntryUs:m.client.date_of_entry_us||""}}),w=me(()=>[{id:"personal",name:"Personal Details",icon:Ie,description:"Basic client information and contact details"},{id:"spouse",name:"Spouse Details",icon:Oe,description:"Spouse information for married clients"},{id:"employee",name:"Employment",icon:Re,description:"Employment and salary information"},{id:"projects",name:"Projects",icon:Ae,description:"Tax-related projects and business activities"},{id:"assets",name:"Assets",icon:qe,description:"Client assets and investments"},{id:"expenses",name:"Expenses",icon:Me,description:"Deductible expenses and tax-related costs"},{id:"documents",name:"Documents",icon:R,description:"Upload and manage client documents"}]),v=me(()=>{const r=w.value.map(o=>y(o.id)).filter(o=>o!==null),t=r.reduce((o,l)=>o+l,0);return r.length>0?t/r.length:0}),y=r=>{switch(r){case"personal":return Q();case"spouse":return ee();case"employee":return V();case"projects":return null;case"assets":return null;case"expenses":return null;case"documents":return null;default:return 0}},q=r=>{const t=y(r);return t===null?N(r):t===100?"bg-green-500":t>0?"bg-amber-500":"bg-gray-300"},N=r=>({personal:"bg-blue-500",spouse:"bg-rose-500",employee:"bg-indigo-500",projects:"bg-purple-500",assets:"bg-emerald-500",expenses:"bg-orange-500",documents:"bg-purple-500"})[r]||"bg-gray-500",z=r=>{var l,$;const t=g.value===r,o={personal:{active:"bg-blue-500 text-white shadow-lg transform scale-105 border-2 border-blue-600",inactive:"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:shadow-md hover:transform hover:scale-102 border border-blue-200"},spouse:{active:"bg-rose-500 text-white shadow-lg transform scale-105 border-2 border-rose-600",inactive:"bg-rose-100 text-rose-700 hover:bg-rose-200 hover:shadow-md hover:transform hover:scale-102 border border-rose-200"},employee:{active:"bg-indigo-500 text-white shadow-lg transform scale-105 border-2 border-indigo-600",inactive:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 hover:shadow-md hover:transform hover:scale-102 border border-indigo-200"},projects:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"},assets:{active:"bg-emerald-500 text-white shadow-lg transform scale-105 border-2 border-emerald-600",inactive:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 hover:shadow-md hover:transform hover:scale-102 border border-emerald-200"},expenses:{active:"bg-orange-500 text-white shadow-lg transform scale-105 border-2 border-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200 hover:shadow-md hover:transform hover:scale-102 border border-orange-200"},documents:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"}};return t?(l=o[r])==null?void 0:l.active:($=o[r])==null?void 0:$.inactive},M=r=>{const t=g.value===r;return{personal:t?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-blue-50",spouse:t?"bg-rose-100 border border-rose-200":"bg-gray-50 hover:bg-rose-50",employee:t?"bg-indigo-100 border border-indigo-200":"bg-gray-50 hover:bg-indigo-50",projects:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50",assets:t?"bg-emerald-100 border border-emerald-200":"bg-gray-50 hover:bg-emerald-50",expenses:t?"bg-orange-100 border border-orange-200":"bg-gray-50 hover:bg-orange-50",documents:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50"}[r]||"bg-gray-50 hover:bg-gray-100"},A=r=>{const t=g.value===r;return{personal:t?"text-blue-600":"text-gray-500",spouse:t?"text-rose-600":"text-gray-500",employee:t?"text-indigo-600":"text-gray-500",projects:t?"text-purple-600":"text-gray-500",assets:t?"text-emerald-600":"text-gray-500",expenses:t?"text-orange-600":"text-gray-500",documents:t?"text-purple-600":"text-gray-500"}[r]||"text-gray-500"},U=r=>{const t=g.value===r;return{personal:t?"text-blue-900":"text-gray-900",spouse:t?"text-rose-900":"text-gray-900",employee:t?"text-indigo-900":"text-gray-900",projects:t?"text-purple-900":"text-gray-900",assets:t?"text-emerald-900":"text-gray-900",expenses:t?"text-orange-900":"text-gray-900",documents:t?"text-purple-900":"text-gray-900"}[r]||"text-gray-900"},f=r=>g.value===r?"text-white":{personal:"text-blue-600",spouse:"text-rose-600",employee:"text-indigo-600",projects:"text-purple-600",assets:"text-emerald-600",expenses:"text-orange-600",documents:"text-purple-600"}[r]||"text-gray-600",L=r=>g.value===r?"bg-white bg-opacity-80":{personal:"bg-blue-400",spouse:"bg-rose-400",employee:"bg-indigo-400",projects:"bg-purple-400",assets:"bg-emerald-400",expenses:"bg-orange-400",documents:"bg-purple-400"}[r]||"bg-gray-400",x=()=>{},D=r=>{Array.isArray(n.employee)||(n.employee=[]),n.employee.length===0&&n.employee.push({}),n.employee[0]={...r}},K=()=>{const r={personal:E(n.personal),spouse:E(n.spouse),employee:Array.isArray(n.employee)?n.employee.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o}):[],projects:Array.isArray(n.projects)?n.projects.map(t=>{const o={...t};return delete o.taxYear,delete o.priority,delete o.created_at,delete o.updated_at,o.start_date&&(o.start_date=T(o.start_date)),o.due_date&&(o.due_date=T(o.due_date)),o.completion_date&&(o.completion_date=T(o.completion_date)),o}):[],assets:Array.isArray(n.assets)?n.assets.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o.date_of_purchase&&(o.date_of_purchase=T(o.date_of_purchase)),o}):[],expenses:Array.isArray(n.expenses)?n.expenses.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o.expense_date&&(o.expense_date=T(o.expense_date)),o}):[]};n.transform(()=>r).put(`/admin/clients/${m.client.id}`,{onSuccess:()=>{G.visit(`/admin/clients/${m.client.id}`)},onError:t=>{console.error("Failed to update client:",t)}})},W=()=>{G.visit(Se("admin.clients.show",m.client.id))},X=()=>{G.visit(`/admin/clients/${m.client.id}`)},J=()=>{G.visit("/admin/clients")},E=r=>{if(!r)return{};const t={};for(const[o,l]of Object.entries(r)){const $=o.replace(/[A-Z]/g,ye=>`_${ye.toLowerCase()}`);t[$]=l}return t},Z=r=>{const o=Math.floor((new Date-r)/1e3);return o<60?"just now":o<3600?`${Math.floor(o/60)}m ago`:o<86400?`${Math.floor(o/3600)}h ago`:`${Math.floor(o/86400)}d ago`},T=r=>{if(!r)return null;try{let t;if(typeof r=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(r))return r;t=new Date(r)}else if(r instanceof Date)t=r;else return null;if(isNaN(t.getTime()))return console.warn("Invalid date provided:",r),null;const o=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),$=String(t.getDate()).padStart(2,"0");return`${o}-${l}-${$}`}catch(t){return console.error("Error formatting date for backend:",t,r),null}},Q=()=>{const r=["firstName","lastName","email","phone"];return r.filter(o=>{const l=n.personal[o];return l&&l.toString().trim().length>0}).length/r.length*100},ee=()=>{var o;if(((o=n.personal)==null?void 0:o.maritalStatus)!=="married")return 100;const r=["firstName","lastName"];return r.filter(l=>{const $=n.spouse[l];return $&&$.toString().trim().length>0}).length/r.length*100},V=()=>{if(!n.employee||!Array.isArray(n.employee)||n.employee.length===0)return 0;const r=n.employee[0],t=["employerName","position"];return t.filter(l=>{const $=r[l];return $&&$.toString().trim().length>0}).length/t.length*100},Y=r=>{const t=g.value===r;return{personal:t?"bg-blue-500":"bg-blue-100",spouse:t?"bg-rose-500":"bg-rose-100",employee:t?"bg-indigo-500":"bg-indigo-100",projects:t?"bg-purple-500":"bg-purple-100",assets:t?"bg-emerald-500":"bg-emerald-100",expenses:t?"bg-orange-500":"bg-orange-100",documents:t?"bg-purple-500":"bg-purple-100"}[r]||(t?"bg-gray-500":"bg-gray-100")},B=()=>w.value.find(r=>r.id===g.value)||w.value[0],te=()=>Y(g.value),se=()=>"text-white",oe=r=>{const t=g.value===r;return{personal:t?"bg-blue-500":"bg-blue-100",spouse:t?"bg-rose-500":"bg-rose-100",employee:t?"bg-indigo-500":"bg-indigo-100",projects:t?"bg-purple-500":"bg-purple-100",assets:t?"bg-emerald-500":"bg-emerald-100",expenses:t?"bg-orange-500":"bg-orange-100",documents:t?"bg-purple-500":"bg-purple-100"}[r]||(t?"bg-gray-500":"bg-gray-100")},I=h(null),H=h(null),re=h(!1);return ke(()=>n.data(),()=>{},{deep:!0}),Ce(()=>{I.value&&clearTimeout(I.value)}),(r,t)=>(i(),k(De,null,{header:ge(()=>{var o,l;return[e("div",os,[t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-blue-50"},null,-1)),t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),t[13]||(t[13]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",rs,[e("div",ls,[e("div",as,[b(d(ve),{class:"w-8 h-8 text-white"})]),e("div",null,[t[8]||(t[8]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-emerald-900 bg-clip-text text-transparent"}," Edit Client ",-1)),e("p",ns,"Update "+p((o=_.client.user)==null?void 0:o.first_name)+" "+p((l=_.client.user)==null?void 0:l.last_name)+"'s information",1),e("div",is,[e("div",ds,[t[6]||(t[6]=e("div",{class:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"},null,-1)),e("span",us,p(Math.round(v.value))+"% Complete",1)]),e("div",cs,[t[7]||(t[7]=e("div",{class:"w-2 h-2 bg-emerald-400 rounded-full"},null,-1)),e("span",ps,p(g.value.charAt(0).toUpperCase()+g.value.slice(1))+" Section",1)])])])]),e("div",ms,[e("button",{onClick:X,class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[b(d(he),{class:"w-5 h-5 mr-2"}),t[9]||(t[9]=e("span",{class:"font-semibold"},"View Client",-1))]),e("button",{onClick:J,class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[b(d(Ye),{class:"w-5 h-5 mr-2"}),t[10]||(t[10]=e("span",{class:"font-semibold"},"Back to Clients",-1))])])])])]}),default:ge(()=>{var o;return[e("div",gs,[e("div",bs,[e("div",xs,[e("div",fs,[e("div",vs,[t[16]||(t[16]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Client Information Sections"),e("p",{class:"text-sm text-gray-600 mt-1"},"Update client profile sections as needed")],-1)),e("div",hs,[e("div",ys,[e("span",ws,p(Math.round(v.value))+"% Complete",1)]),re.value?(i(),c("div",_s,[...t[14]||(t[14]=[e("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse"},null,-1),e("span",{class:"text-xs font-medium text-yellow-700"},"Auto-saving...",-1)])])):H.value?(i(),c("div",$s,[t[15]||(t[15]=e("div",{class:"w-3 h-3 bg-green-400 rounded-full"},null,-1)),e("span",ks,"Saved "+p(Z(H.value)),1)])):j("",!0)])])]),e("div",Cs,[e("nav",Ss,[(i(!0),c(F,null,P(w.value,l=>(i(),c("button",{key:l.id,onClick:$=>g.value=l.id,class:S(["relative p-4 rounded-xl font-medium text-sm transition-all duration-300 border-2 group hover:shadow-md transform hover:scale-105",z(l.id)])},[e("div",Ds,[e("div",{class:S(["w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300",Y(l.id)])},[(i(),k(ie(l.icon),{class:S([f(l.id),"w-5 h-5"])},null,8,["class"]))],2),e("span",As,p(l.name),1),e("div",Ms,[y(l.id)===100?(i(),c("div",Us)):(i(),c("div",{key:1,class:S(`w-2 h-2 rounded-full ${L(l.id)}`)},null,2)),e("span",Ts,p(y(l.id)===100?"Complete":"Pending"),1)])])],10,js))),128))])])])])]),e("div",Vs,[e("div",Fs,[e("div",Ps,[e("div",Ns,[e("div",zs,[e("div",{class:S(["w-8 h-8 rounded-lg flex items-center justify-center mr-3",te()])},[(i(),k(ie(B().icon),{class:S([se(),"w-4 h-4"])},null,8,["class"]))],2),e("div",null,[e("h3",Es,p(B().name),1),e("p",Bs,p(B().description),1)])])]),e("div",Is,[g.value==="personal"?(i(),k(Ue,{key:0,modelValue:d(n).personal,"onUpdate:modelValue":t[0]||(t[0]=l=>d(n).personal=l),data:_.client,errors:d(n).errors,"visa-status-options":_.visaStatusOptions,onUpdate:x},null,8,["modelValue","data","errors","visa-status-options"])):j("",!0),g.value==="spouse"?(i(),k(Te,{key:1,modelValue:d(n).spouse,"onUpdate:modelValue":t[1]||(t[1]=l=>d(n).spouse=l),errors:d(n).errors,"show-spouse":((o=d(n).personal)==null?void 0:o.maritalStatus)==="married",onUpdate:x},null,8,["modelValue","errors","show-spouse"])):j("",!0),g.value==="employee"?(i(),k(Ve,{key:2,modelValue:d(n).employee[0],"onUpdate:modelValue":t[2]||(t[2]=l=>d(n).employee[0]=l),errors:d(n).errors,onUpdate:D},null,8,["modelValue","errors"])):j("",!0),g.value==="projects"?(i(),k(Fe,{key:3,modelValue:d(n).projects,"onUpdate:modelValue":t[3]||(t[3]=l=>d(n).projects=l),errors:d(n).errors,onUpdate:x},null,8,["modelValue","errors"])):j("",!0),g.value==="assets"?(i(),k(Pe,{key:4,modelValue:d(n).assets,"onUpdate:modelValue":t[4]||(t[4]=l=>d(n).assets=l),errors:d(n).errors,onUpdate:x},null,8,["modelValue","errors"])):j("",!0),g.value==="expenses"?(i(),k(Ne,{key:5,modelValue:d(n).expenses,"onUpdate:modelValue":t[5]||(t[5]=l=>d(n).expenses=l),errors:d(n).errors,onUpdate:x},null,8,["modelValue","errors"])):j("",!0),g.value==="documents"?(i(),k(ss,{key:6,"client-id":_.client.id,"document-types":_.documentTypes,"tax-years":_.taxYears,onUpdate:x},null,8,["client-id","document-types","tax-years"])):j("",!0)])])]),e("div",Os,[e("div",Rs,[e("div",qs,[e("div",Ls,[e("div",Xs,[b(d(je),{class:"w-4 h-4 text-white"})]),t[17]||(t[17]=e("h3",{class:"text-lg font-bold text-gray-900"},"Edit Progress",-1))])]),e("div",Ys,[e("div",Hs,[e("div",Gs,[t[18]||(t[18]=e("span",{class:"text-sm font-semibold text-gray-700"},"Overall Completion",-1)),e("span",Ks,p(Math.round(v.value))+"%",1)]),e("div",Ws,[e("div",{class:"bg-gradient-to-r from-blue-500 to-emerald-500 h-3 rounded-full transition-all duration-500 shadow-sm",style:be({width:`${v.value}%`})},null,4)]),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500 mt-2"},"Update sections as needed",-1))]),e("div",Js,[(i(!0),c(F,null,P(w.value,l=>(i(),c("div",{key:l.id,class:S(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all duration-300 border-2 hover:shadow-md transform hover:scale-105",M(l.id)]),onClick:$=>g.value=l.id},[e("div",Qs,[e("div",{class:S(["w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-300",oe(l.id)])},[(i(),k(ie(l.icon),{class:S([A(l.id),"w-4 h-4"])},null,8,["class"]))],2),e("div",null,[e("span",{class:S(["text-sm font-semibold block",U(l.id)])},p(l.name),3),e("span",{class:S(["text-xs opacity-75",U(l.id)])},p(y(l.id)===100?"Complete":y(l.id)>0?"In Progress":"Not Started"),3)])]),e("div",eo,[e("div",to,[e("div",{class:S(["h-2 rounded-full transition-all duration-500",q(l.id)]),style:be({width:y(l.id)!==null?`${y(l.id)}%`:"0%"})},null,6)]),y(l.id)===100?(i(),c("div",so)):y(l.id)>0?(i(),c("div",oo)):(i(),c("div",ro))])],10,Zs))),128))]),e("div",lo,[e("button",{onClick:K,disabled:d(n).processing,class:"w-full bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center"},[d(n).processing?(i(),c("svg",no,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),k(d(ve),{key:0,class:"w-5 h-5 mr-2"})),ue(" "+p(d(n).processing?"Updating Client...":"Update Client"),1)],8,ao),e("button",{onClick:W,class:"w-full bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center"},[b(d(ce),{class:"w-5 h-5 mr-2"}),t[21]||(t[21]=ue(" Cancel ",-1))])]),e("div",io,[e("div",uo,[e("div",co,[b(d(Le),{class:"w-3 h-3 text-white"})]),t[22]||(t[22]=e("h4",{class:"text-sm font-bold text-blue-900"},"Edit Notes",-1))]),t[23]||(t[23]=e("p",{class:"text-xs text-blue-700 mb-3 leading-relaxed"}," Update client information sections as needed. Changes are saved when you click Update Client. ",-1)),t[24]||(t[24]=e("div",{class:"space-y-2"},[e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline transition-all duration-200"}," ðŸ“‹ Edit Guidelines "),e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline transition-all duration-200"}," ðŸ”’ Data Security Policy ")],-1))]),v.value>=80?(i(),c("div",po,[e("div",mo,[b(d(Xe),{class:"w-5 h-5 text-green-500 mr-2"}),t[25]||(t[25]=e("span",{class:"text-sm font-medium text-green-800"},"Ready to update!",-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-green-700 mt-1"}," Client information is comprehensive and ready for update. ",-1))])):j("",!0)])])])])]}),_:1}))}};export{No as default};
