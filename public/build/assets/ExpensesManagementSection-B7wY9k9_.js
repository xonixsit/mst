import{c as p,o as c,a as e,l as T,f as k,d as z,u as j,p as U,e as F,t as u,q as K,s as Y,b as Se,I as de,m as G,A as be,g as oe,h as C,v as B,j as le,k as Z,B as fe,F as ae,r as me,z as Te,J as Le,n as He,_ as je}from"./app-BL31bG2i.js";import{_ as ce,b as Re}from"./AppLayout-CvciISU7.js";import{r as Ye}from"./EyeIcon-DMXrhZ7g.js";import{r as _e}from"./InformationCircleIcon-JvJXMXXn.js";import{r as ue}from"./PlusIcon-CBh1O4cJ.js";import{r as Ce}from"./TrashIcon-BWAE7kXh.js";import{a as Ze,r as We}from"./ReceiptRefundIcon-jhkC8QI_.js";import{r as Ke}from"./UserIcon-DyDwz620.js";import{r as Ne}from"./ExclamationTriangleIcon-CrA5_42S.js";function De(n,V){return c(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function Ge(n,V){return c(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function Je(n,V){return c(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})])}function Md(n,V){return c(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const Xe={class:"relative inline-block"},Qe={class:"relative"},Ee={__name:"HelpTooltip",props:{text:{type:String,required:!0},position:{type:String,default:"right",validator:n=>["left","right"].includes(n)}},setup(n){const V=T(!1);return(m,N)=>(c(),p("div",Xe,[e("button",{onMouseenter:N[0]||(N[0]=s=>V.value=!0),onMouseleave:N[1]||(N[1]=s=>V.value=!1),onFocus:N[2]||(N[2]=s=>V.value=!0),onBlur:N[3]||(N[3]=s=>V.value=!1),type:"button",class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600"},[z(j(Je),{class:"w-4 h-4"})],32),V.value?(c(),p("div",{key:0,class:U(["absolute z-10 w-64 p-2 mt-1 text-sm text-white bg-gray-900 rounded-lg shadow-lg",n.position==="left"?"right-0":"left-0"])},[e("div",Qe,[F(u(n.text)+" ",1),e("div",{class:U(["absolute w-2 h-2 bg-gray-900 transform rotate-45",n.position==="left"?"top-0 right-2 -mt-1":"top-0 left-2 -mt-1"])},null,2)])],2)):k("",!0)]))}};function et(n){if(!n||typeof n!="string")return"";const V=n.replace(/\D/g,"");if(V.length===9)return`***-**-${V.slice(-4)}`;if(V.length>=4){const m=V.slice(-4),N=Math.max(0,V.length-4),s="*".repeat(N);return V.length>=7?`${s.slice(0,3)}-${s.slice(3,5)}-${m}`:V.length>=5?`${s.slice(0,3)}-${s.slice(3)}${m}`:s+m}return n}function tt(n){return!n||typeof n!="string"?!1:n.replace(/\D/g,"").length>=4}function Me(n){if(!n)return"";let V=n.replace(/\D/g,"");return V=V.substring(0,9),V.length>=6?`${V.slice(0,3)}-${V.slice(3,5)}-${V.slice(5)}`:V.length>=4?`${V.slice(0,3)}-${V.slice(3)}`:V}function st(n,V,m){return!m||!n?"":V?n:tt(n)?et(n):n}const ot={class:"relative"},lt=["id","value","placeholder","disabled","readonly"],rt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},nt={class:"flex items-center space-x-1"},at={__name:"SSNInput",props:{modelValue:{type:String,default:""},inputId:{type:String,required:!0},placeholder:{type:String,default:"123-45-6789"},inputClasses:{type:String,default:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showSecurityIndicator:{type:Boolean,default:!0},showToggle:{type:Boolean,default:!1},autoMask:{type:Boolean,default:!0},isPreMasked:{type:Boolean,default:!1}},emits:["update:modelValue","focus","blur","input"],setup(n,{emit:V}){const m=n,N=V,s=T(null),a=T(!1),A=T(!0),I=T(m.modelValue||""),q=K(()=>I.value&&I.value.length>0),M=K(()=>!m.autoMask||m.isPreMasked&&I.value.includes("*")&&!a.value?I.value:a.value&&I.value.includes("*")?"":st(I.value,a.value||!A.value,q.value)),S=i=>{const D=i.target.value;if(D.includes("*")&&(D.length>I.value.length||!a.value)){i.target.value="",I.value="",N("update:modelValue",""),N("input","");return}const Q=Me(D);I.value=Q,i.target.value=Q,N("update:modelValue",Q),N("input",Q)},h=i=>{a.value=!0,de(()=>{s.value&&m.autoMask&&(s.value.value=I.value)}),N("focus",i)},t=i=>{if(a.value=!1,A.value=!0,I.value){const D=Me(I.value);D!==I.value&&(I.value=D,N("update:modelValue",D))}N("blur",i)},g=i=>{[8,9,27,13,46].includes(i.keyCode)||i.ctrlKey&&[65,67,86,88].includes(i.keyCode)||i.keyCode>=37&&i.keyCode<=40||(i.keyCode<48||i.keyCode>57)&&(i.keyCode<96||i.keyCode>105)&&i.preventDefault()},O=()=>{A.value=!A.value,de(()=>{s.value&&(s.value.value=M.value)})};return Y(()=>m.modelValue,i=>{i!==I.value&&(I.value=i||"")}),I.value=m.modelValue||"",(i,D)=>(c(),p("div",ot,[e("input",{id:n.inputId,ref_key:"inputRef",ref:s,value:M.value,type:"text",class:U(n.inputClasses),placeholder:n.placeholder,maxlength:11,disabled:n.disabled,readonly:n.readonly,onInput:S,onFocus:h,onBlur:t,onKeydown:g},null,42,lt),n.showSecurityIndicator&&q.value&&!a.value?(c(),p("div",rt,[e("div",nt,[z(j(De),{class:"h-4 w-4 text-gray-400"}),D[0]||(D[0]=e("span",{class:"text-xs text-gray-500"},"Secured",-1))])])):k("",!0),n.showToggle&&q.value?(c(),p("button",{key:1,type:"button",onClick:O,class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[A.value?(c(),Se(j(Ye),{key:0,class:"h-4 w-4"})):(c(),Se(j(De),{key:1,class:"h-4 w-4"}))])):k("",!0)]))}},Be=ce(at,[["__scopeId","data-v-75bfc2d3"]]);function it(n){const V=n.replace(/\D/g,"");return V?V.length<=3?`(${V}`:V.length<=6?`(${V.slice(0,3)}) ${V.slice(3)}`:`(${V.slice(0,3)}) ${V.slice(3,6)}-${V.slice(6,10)}`:""}function Ae(n){return n.replace(/\D/g,"")}function Ie(n){return Ae(n).length===10}function dt(n){if(!n)return"";const V=Ae(n);return V.length===10?`(${V.slice(0,3)}) ${V.slice(3,6)}-${V.slice(6)}`:n}function ut(n,V){const m=n.target,N=m.selectionStart,a=m.value.length,A=it(m.value);m.value=A;const q=A.length-a;let M=N+q;q>0&&(A[N]===")"||A[N]===" "||A[N]==="-")&&(M=N+1),setTimeout(()=>{m.setSelectionRange(M,M)},0),V&&V(A)}const mt={class:"personal-details-section"},ct={class:"bg-white rounded-lg shadow-sm border border-gray-200"},pt={class:"p-6"},ft={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gt={key:0,class:"mt-1 text-sm text-red-600"},xt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},yt={for:"ssn",class:"flex items-center text-sm font-medium text-gray-700 mb-1"},vt={key:0,class:"mt-1 text-sm text-red-600"},ht={key:0,class:"mt-1 text-sm text-red-600"},wt={for:"maritalStatus",class:"flex items-center text-sm font-medium text-gray-700 mb-1"},kt={key:0,class:"mt-1 text-sm text-red-600"},$t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_t={class:"flex items-center space-x-4 mt-2"},Ct={class:"flex items-center"},Vt={class:"border-t border-gray-200 pt-6"},St={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Nt={key:0,class:"mt-1 text-sm text-red-600"},Dt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Et={key:0,class:"mt-1 text-sm text-red-600"},Mt={key:0,class:"mt-1 text-sm text-red-600"},It=["value"],Bt={key:0,class:"mt-1 text-sm text-red-600"},At={class:"border-t border-gray-200 pt-6"},Pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ut={key:0,class:"border-t border-gray-200 pt-6"},Ot={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qt={class:"relative"},Ft={class:"block truncate text-left"},zt={key:0,class:"absolute bottom-full left-0 z-50 w-full mb-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto"},Tt={class:"py-1"},Lt=["onMousedown"],Ht={for:"date_of_entry_us",class:"block text-sm font-medium text-gray-700 mb-1"},jt={key:0,class:"text-xs text-gray-500 ml-1"},Rt=["disabled"],Yt={key:0,class:"mt-1 text-xs text-gray-500"},Zt={__name:"PersonalDetailsSection",props:{modelValue:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1},visaStatusOptions:{type:Array,default:()=>[{value:"",label:"Select visa status"},{value:"citizen",label:"US Citizen"},{value:"permanent_resident",label:"Permanent Resident"},{value:"h1b",label:"H-1B"},{value:"f1",label:"F-1 Student"},{value:"j1",label:"J-1 Exchange"},{value:"l1",label:"L-1 Intracompany"},{value:"other",label:"Other"}]}},emits:["update:modelValue","update","validate"],setup(n,{emit:V}){const m=n,N=V,s=G({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",maritalStatus:"",occupation:"",insuranceCovered:!1,streetNo:"",apartmentNo:"",zipCode:"",city:"",state:"",country:"United States",mobileNumber:"",workNumber:"",visaStatus:"",dateOfEntryUs:""}),a=G({}),A=T(!1),I=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],q=K(()=>!0),M=P=>{const o="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500";return a[P]?`${o} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:o},S=P=>{var l;const o=s[P];let y=null;switch(P){case"firstName":case"lastName":!o||o.trim().length===0?y=`${P==="firstName"?"First":"Last"} name is required`:o.length>50&&(y=`${P==="firstName"?"First":"Last"} name must be less than 50 characters`);break;case"email":o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)||(y="Please enter a valid email address"):y="Email address is required";break;case"phone":o?Ie(o)||(y="Please enter a valid 10-digit phone number"):y="Phone number is required";break;case"mobileNumber":case"workNumber":o&&!Ie(o)&&(y="Please enter a valid 10-digit phone number");break;case"ssn":!o&&!((l=m.data)!=null&&l.has_ssn)?y="Social Security Number is required":o&&!/^\d{3}-\d{2}-\d{4}$/.test(o)&&(y="SSN must be in format 123-45-6789");break;case"dateOfBirth":o?new Date(o)>=new Date&&(y="Date of birth must be in the past"):y="Date of birth is required";break;case"streetNo":(!o||o.trim().length===0)&&(y="Street address is required");break;case"zipCode":o?/^\d{5}(-\d{4})?$/.test(o)||(y="Please enter a valid ZIP code"):y="ZIP code is required";break;case"city":(!o||o.trim().length===0)&&(y="City is required");break;case"state":o||(y="State is required");break}return y?a[P]=y:delete a[P],N("validate",a),!y},h=(P,o)=>{s[P]=o,a[P]&&delete a[P],N("update:modelValue",{...s}),N("update",{...s})},t=P=>{var o;P&&P!==((o=m.data)==null?void 0:o.ssn_masked)&&(s.ssn=P,h("ssn",P))},g=(P,o)=>{ut(o,y=>{s[P]=y,h(P,y)})},O=P=>{const o=P.target.value;h("maritalStatus",o),N("marital-status-change",o)},i=()=>{const P=["firstName","lastName","email","phone","ssn","dateOfBirth","streetNo","zipCode","city","state"];let o=!0;P.forEach(y=>{S(y)||(o=!1)}),o&&N("submit",{...s})},D=()=>{A.value=!A.value},Q=()=>{setTimeout(()=>{A.value=!1},150)},re=P=>{s.visaStatus=P,A.value=!1,h("visaStatus",P)},J=()=>{const P=m.visaStatusOptions.find(o=>o.value===s.visaStatus);return P?P.label:""},ee=()=>{m.modelValue&&Object.keys(s).forEach(P=>{var o,y;if(m.modelValue[P]!==void 0){let l=m.modelValue[P];["phone","mobileNumber","workNumber"].includes(P)&&l&&(l=dt(l)),P==="ssn"&&(o=m.data)!=null&&o.has_ssn&&(y=m.data)!=null&&y.ssn_masked?s[P]="":s[P]=l}})};return Y(()=>m.errors,P=>{Object.keys(a).forEach(o=>delete a[o]),Object.assign(a,P)},{deep:!0}),Y(()=>m.modelValue,ee,{deep:!0}),be(()=>{ee()}),(P,o)=>{var y,l;return c(),p("div",mt,[e("div",ct,[o[69]||(o[69]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Personal Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Basic personal information and contact details")],-1)),e("div",pt,[e("form",{onSubmit:oe(i,["prevent"]),class:"space-y-6"},[e("div",ft,[e("div",null,[o[38]||(o[38]=e("label",{for:"firstName",class:"flex items-center text-sm font-medium text-gray-700 mb-1"},[F(" First Name "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Profile)")],-1)),C(e("input",{id:"firstName","onUpdate:modelValue":o[0]||(o[0]=r=>s.firstName=r),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50 cursor-not-allowed",placeholder:"Enter first name",readonly:"",disabled:""},null,512),[[B,s.firstName]]),o[39]||(o[39]=e("p",{class:"mt-1 text-xs text-gray-500"},[F(" Name fields can be updated in your "),e("a",{href:"/client/profile",class:"text-blue-600 hover:text-blue-800 underline"},"Profile"),F(" section. ")],-1))]),e("div",null,[o[40]||(o[40]=e("label",{for:"middleName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Middle Name "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Profile)")],-1)),C(e("input",{id:"middleName","onUpdate:modelValue":o[1]||(o[1]=r=>s.middleName=r),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50 cursor-not-allowed",placeholder:"Enter middle name",readonly:"",disabled:""},null,512),[[B,s.middleName]])]),e("div",null,[o[41]||(o[41]=e("label",{for:"lastName",class:"flex items-center text-sm font-medium text-gray-700 mb-1"},[F(" Last Name "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Profile)")],-1)),C(e("input",{id:"lastName","onUpdate:modelValue":o[2]||(o[2]=r=>s.lastName=r),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50 cursor-not-allowed",placeholder:"Enter last name",readonly:"",disabled:""},null,512),[[B,s.lastName]])])]),e("div",bt,[e("div",null,[o[42]||(o[42]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Email Address "),e("span",{class:"text-red-500"},"*"),e("span",{class:"text-xs text-gray-500 ml-1"},"(Contact admin to change)")],-1)),C(e("input",{id:"email","onUpdate:modelValue":o[3]||(o[3]=r=>s.email=r),type:"email",class:U(M("email")+" bg-gray-50 cursor-not-allowed"),placeholder:"Enter email address",readonly:"",disabled:""},null,2),[[B,s.email]]),o[43]||(o[43]=e("p",{class:"mt-1 text-xs text-gray-500"}," Your email address is used for account login and cannot be changed here. Contact your tax professional to update this information. ",-1))]),e("div",null,[o[44]||(o[44]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Phone Number "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"phone","onUpdate:modelValue":o[4]||(o[4]=r=>s.phone=r),type:"tel",class:U(M("phone")),placeholder:"(555) 123-4567",maxlength:"14",onBlur:o[5]||(o[5]=r=>S("phone")),onInput:o[6]||(o[6]=r=>g("phone",r))},null,34),[[B,s.phone]]),a.phone?(c(),p("p",gt,u(a.phone),1)):k("",!0)])]),e("div",xt,[e("div",null,[e("label",yt,[o[45]||(o[45]=F(" Social Security Number ",-1)),o[46]||(o[46]=e("span",{class:"text-red-500"},"*",-1)),z(Ee,{text:"Your 9-digit Social Security Number in format 123-45-6789. This is required for tax filing and must match your Social Security card exactly.",class:"ml-1"})]),z(Be,{"input-id":"ssn",modelValue:s.ssn,"onUpdate:modelValue":o[7]||(o[7]=r=>s.ssn=r),"input-classes":M("ssn"),placeholder:(y=n.data)!=null&&y.has_ssn&&((l=n.data)!=null&&l.ssn_masked)?`Current: ${n.data.ssn_masked} (leave empty to keep current)`:"123-45-6789","is-pre-masked":!0,onBlur:o[8]||(o[8]=r=>S("ssn")),onInput:t},null,8,["modelValue","input-classes","placeholder"]),a.ssn?(c(),p("p",vt,u(a.ssn),1)):k("",!0)]),e("div",null,[o[47]||(o[47]=e("label",{for:"dateOfBirth",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Date of Birth "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"dateOfBirth","onUpdate:modelValue":o[9]||(o[9]=r=>s.dateOfBirth=r),type:"date",class:U(M("dateOfBirth")),onBlur:o[10]||(o[10]=r=>S("dateOfBirth")),onInput:o[11]||(o[11]=r=>h("dateOfBirth",r.target.value))},null,34),[[B,s.dateOfBirth]]),a.dateOfBirth?(c(),p("p",ht,u(a.dateOfBirth),1)):k("",!0)]),e("div",null,[e("label",wt,[o[48]||(o[48]=F(" Marital Status ",-1)),o[49]||(o[49]=e("span",{class:"text-red-500"},"*",-1)),z(Ee,{text:"Your marital status as of December 31st of the tax year. If married, you'll need to provide spouse information in the next section.",class:"ml-1"})]),C(e("select",{id:"maritalStatus","onUpdate:modelValue":o[12]||(o[12]=r=>s.maritalStatus=r),class:U(M("maritalStatus")),onChange:O},[...o[50]||(o[50]=[Z('<option value="" data-v-08d4a46d>Select marital status</option><option value="single" data-v-08d4a46d>Single</option><option value="married" data-v-08d4a46d>Married</option><option value="divorced" data-v-08d4a46d>Divorced</option><option value="widowed" data-v-08d4a46d>Widowed</option>',5)])],34),[[le,s.maritalStatus]]),a.maritalStatus?(c(),p("p",kt,u(a.maritalStatus),1)):k("",!0)])]),e("div",$t,[e("div",null,[o[51]||(o[51]=e("label",{for:"occupation",class:"block text-sm font-medium text-gray-700 mb-1"}," Occupation ",-1)),C(e("input",{id:"occupation","onUpdate:modelValue":o[13]||(o[13]=r=>s.occupation=r),type:"text",class:U(M("occupation")),placeholder:"Enter occupation",onInput:o[14]||(o[14]=r=>h("occupation",r.target.value))},null,34),[[B,s.occupation]])]),e("div",null,[o[53]||(o[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Insurance Coverage ",-1)),e("div",_t,[e("label",Ct,[C(e("input",{"onUpdate:modelValue":o[15]||(o[15]=r=>s.insuranceCovered=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",onChange:o[16]||(o[16]=r=>h("insuranceCovered",r.target.checked))},null,544),[[fe,s.insuranceCovered]]),o[52]||(o[52]=e("span",{class:"ml-2 text-sm text-gray-700"},"I have insurance coverage",-1))])])])]),e("div",Vt,[o[61]||(o[61]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Address Information",-1)),e("div",St,[e("div",null,[o[54]||(o[54]=e("label",{for:"streetNo",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Street Number/Address "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"streetNo","onUpdate:modelValue":o[17]||(o[17]=r=>s.streetNo=r),type:"text",class:U(M("streetNo")),placeholder:"123 Main Street",onBlur:o[18]||(o[18]=r=>S("streetNo")),onInput:o[19]||(o[19]=r=>h("streetNo",r.target.value))},null,34),[[B,s.streetNo]]),a.streetNo?(c(),p("p",Nt,u(a.streetNo),1)):k("",!0)]),e("div",null,[o[55]||(o[55]=e("label",{for:"apartmentNo",class:"block text-sm font-medium text-gray-700 mb-1"}," Apartment/Unit Number ",-1)),C(e("input",{id:"apartmentNo","onUpdate:modelValue":o[20]||(o[20]=r=>s.apartmentNo=r),type:"text",class:U(M("apartmentNo")),placeholder:"Apt 4B",onInput:o[21]||(o[21]=r=>h("apartmentNo",r.target.value))},null,34),[[B,s.apartmentNo]])])]),e("div",Dt,[e("div",null,[o[56]||(o[56]=e("label",{for:"zipCode",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" ZIP Code "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"zipCode","onUpdate:modelValue":o[22]||(o[22]=r=>s.zipCode=r),type:"text",class:U(M("zipCode")),placeholder:"12345",maxlength:"10",onBlur:o[23]||(o[23]=r=>S("zipCode")),onInput:o[24]||(o[24]=r=>h("zipCode",r.target.value))},null,34),[[B,s.zipCode]]),a.zipCode?(c(),p("p",Et,u(a.zipCode),1)):k("",!0)]),e("div",null,[o[57]||(o[57]=e("label",{for:"city",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" City "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"city","onUpdate:modelValue":o[25]||(o[25]=r=>s.city=r),type:"text",class:U(M("city")),placeholder:"New York",onBlur:o[26]||(o[26]=r=>S("city")),onInput:o[27]||(o[27]=r=>h("city",r.target.value))},null,34),[[B,s.city]]),a.city?(c(),p("p",Mt,u(a.city),1)):k("",!0)]),e("div",null,[o[59]||(o[59]=e("label",{for:"state",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" State "),e("span",{class:"text-red-500"},"*")],-1)),C(e("select",{id:"state","onUpdate:modelValue":o[28]||(o[28]=r=>s.state=r),class:U(M("state")),onChange:o[29]||(o[29]=r=>h("state",r.target.value))},[o[58]||(o[58]=e("option",{value:""},"Select state",-1)),(c(),p(ae,null,me(I,r=>e("option",{key:r.code,value:r.code},u(r.name),9,It)),64))],34),[[le,s.state]]),a.state?(c(),p("p",Bt,u(a.state),1)):k("",!0)]),e("div",null,[o[60]||(o[60]=e("label",{for:"country",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Country "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"country","onUpdate:modelValue":o[30]||(o[30]=r=>s.country=r),type:"text",class:U(M("country")),placeholder:"United States",onInput:o[31]||(o[31]=r=>h("country",r.target.value))},null,34),[[B,s.country]])])])]),e("div",At,[o[64]||(o[64]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Additional Contact Information",-1)),e("div",Pt,[e("div",null,[o[62]||(o[62]=e("label",{for:"mobileNumber",class:"block text-sm font-medium text-gray-700 mb-1"}," Mobile Number ",-1)),C(e("input",{id:"mobileNumber","onUpdate:modelValue":o[32]||(o[32]=r=>s.mobileNumber=r),type:"tel",class:U(M("mobileNumber")),placeholder:"(555) 123-4567",maxlength:"14",onInput:o[33]||(o[33]=r=>g("mobileNumber",r))},null,34),[[B,s.mobileNumber]])]),e("div",null,[o[63]||(o[63]=e("label",{for:"workNumber",class:"block text-sm font-medium text-gray-700 mb-1"}," Work Number ",-1)),C(e("input",{id:"workNumber","onUpdate:modelValue":o[34]||(o[34]=r=>s.workNumber=r),type:"tel",class:U(M("workNumber")),placeholder:"(555) 987-6543",maxlength:"14",onInput:o[35]||(o[35]=r=>g("workNumber",r))},null,34),[[B,s.workNumber]])])])]),q.value?(c(),p("div",Ut,[o[68]||(o[68]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Immigration Information",-1)),e("div",Ot,[e("div",null,[o[66]||(o[66]=e("label",{for:"visaStatus",class:"block text-sm font-medium text-gray-700 mb-1"}," Visa Status ",-1)),e("div",qt,[e("button",{type:"button",class:U(M("visaStatus")+" visa-dropdown-button"),onClick:D,onBlur:Q},[e("span",Ft,u(J()||"Select visa status"),1),o[65]||(o[65]=e("span",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})])],-1))],34),A.value?(c(),p("div",zt,[e("ul",Tt,[(c(!0),p(ae,null,me(n.visaStatusOptions,r=>(c(),p("li",{key:r.value,onMousedown:R=>re(r.value),class:U(["px-3 py-2 text-sm text-gray-900 cursor-pointer hover:bg-blue-50 hover:text-blue-900",{"bg-blue-100 text-blue-900":s.visaStatus===r.value}])},u(r.label),43,Lt))),128))])])):k("",!0)])]),e("div",null,[e("label",Ht,[o[67]||(o[67]=F(" Date of Entry to US ",-1)),s.visaStatus==="citizen"?(c(),p("span",jt,"(Not applicable for US Citizens)")):k("",!0)]),C(e("input",{id:"dateOfEntryUs","onUpdate:modelValue":o[36]||(o[36]=r=>s.dateOfEntryUs=r),type:"date",class:U(M("dateOfEntryUs")),disabled:s.visaStatus==="citizen",onInput:o[37]||(o[37]=r=>h("dateOfEntryUs",r.target.value))},null,42,Rt),[[B,s.dateOfEntryUs]]),s.visaStatus==="citizen"?(c(),p("p",Yt," This field is not required for US Citizens ")):k("",!0)])])])):k("",!0)],32)])])])}}},Id=ce(Zt,[["__scopeId","data-v-08d4a46d"]]),Wt={class:"spouse-details-section"},Kt={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Gt={class:"flex items-center"},Jt={class:"flex-shrink-0"},Xt={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Qt={class:"p-6"},es={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ts=["disabled"],ss={key:0,class:"mt-1 text-sm text-red-600"},os=["disabled"],ls={key:0,class:"mt-1 text-sm text-red-600"},rs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ns={key:0,class:"mt-1 text-sm text-red-600"},as=["disabled"],is={key:0,class:"mt-1 text-sm text-red-600"},ds={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},us=["disabled"],ms={key:0,class:"mt-1 text-sm text-red-600"},cs=["disabled"],ps={key:0,class:"mt-1 text-sm text-red-600"},fs=["disabled"],bs={__name:"SpouseDetailsSection",props:{modelValue:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},showSpouse:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:V}){const m=n,N=V,s=G({firstName:"",lastName:"",ssn:"",dateOfBirth:"",email:"",phone:"",occupation:""}),a=G({}),A=O=>{const i="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500";return a[O]?`${i} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:i},I=O=>{if(!m.showSpouse)return!0;const i=s[O];let D=null;switch(O){case"firstName":!i||i.trim().length===0?D="Spouse first name is required":i.length>50&&(D="First name must be less than 50 characters");break;case"lastName":!i||i.trim().length===0?D="Spouse last name is required":i.length>50&&(D="Last name must be less than 50 characters");break;case"ssn":i&&!/^\d{3}-\d{2}-\d{4}$/.test(i)&&(D="SSN must be in format 123-45-6789");break;case"dateOfBirth":i&&new Date(i)>=new Date&&(D="Date of birth must be in the past");break;case"email":i&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)&&(D="Please enter a valid email address");break;case"phone":i&&!/^[\+]?[1-9][\d]{0,15}$/.test(i.replace(/\D/g,""))&&(D="Please enter a valid phone number");break}return D?a[O]=D:delete a[O],N("validate",a),!D},q=(O,i)=>{s[O]=i,a[O]&&delete a[O],N("update:modelValue",{...s}),N("update",{...s})},M=O=>{s.ssn=O,q("ssn",O)},S=O=>{let i=O.target.value.replace(/\D/g,"");i.length>=7?i=`(${i.slice(0,3)}) ${i.slice(3,6)}-${i.slice(6,10)}`:i.length>=4?i=`(${i.slice(0,3)}) ${i.slice(3)}`:i.length>=1&&(i=`(${i}`),s.phone=i,O.target.value=i,q("phone",i)},h=()=>{if(!m.showSpouse)return;const O=["firstName","lastName"];let i=!0;O.forEach(D=>{I(D)||(i=!1)}),i&&N("submit",{...s})},t=()=>{m.showSpouse||(Object.keys(s).forEach(O=>{s[O]=""}),Object.keys(a).forEach(O=>delete a[O]),N("update:modelValue",{...s}),N("update",{...s}),N("validate",{}))},g=()=>{m.modelValue&&m.showSpouse&&Object.keys(s).forEach(O=>{m.modelValue[O]!==void 0&&(s[O]=m.modelValue[O])})};return Y(()=>m.errors,O=>{Object.keys(a).forEach(i=>delete a[i]),Object.assign(a,O)},{deep:!0}),Y(()=>m.modelValue,g,{deep:!0}),Y(()=>m.showSpouse,O=>{O?g():t()},{immediate:!0}),be(()=>{m.showSpouse&&g()}),(O,i)=>(c(),p("div",Wt,[n.showSpouse?(c(),p("div",Xt,[i[28]||(i[28]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Spouse Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Information about your spouse for tax filing purposes")],-1)),e("div",Qt,[e("form",{onSubmit:oe(h,["prevent"]),class:"space-y-6"},[e("div",es,[e("div",null,[i[19]||(i[19]=e("label",{for:"spouseFirstName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" First Name "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"spouseFirstName","onUpdate:modelValue":i[0]||(i[0]=D=>s.firstName=D),type:"text",class:U(A("firstName")),placeholder:"Enter spouse's first name",disabled:n.readonly,onBlur:i[1]||(i[1]=D=>I("firstName")),onInput:i[2]||(i[2]=D=>q("firstName",D.target.value))},null,42,ts),[[B,s.firstName]]),a.firstName?(c(),p("p",ss,u(a.firstName),1)):k("",!0)]),e("div",null,[i[20]||(i[20]=e("label",{for:"spouseLastName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Last Name "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"spouseLastName","onUpdate:modelValue":i[3]||(i[3]=D=>s.lastName=D),type:"text",class:U(A("lastName")),placeholder:"Enter spouse's last name",disabled:n.readonly,onBlur:i[4]||(i[4]=D=>I("lastName")),onInput:i[5]||(i[5]=D=>q("lastName",D.target.value))},null,42,os),[[B,s.lastName]]),a.lastName?(c(),p("p",ls,u(a.lastName),1)):k("",!0)])]),e("div",rs,[e("div",null,[i[21]||(i[21]=e("label",{for:"spouseSSN",class:"block text-sm font-medium text-gray-700 mb-1"}," Social Security Number ",-1)),z(Be,{"input-id":"spouseSSN",modelValue:s.ssn,"onUpdate:modelValue":i[6]||(i[6]=D=>s.ssn=D),"input-classes":A("ssn"),placeholder:"123-45-6789",disabled:n.readonly,"is-pre-masked":!0,onBlur:i[7]||(i[7]=D=>I("ssn")),onInput:M},null,8,["modelValue","input-classes","disabled"]),a.ssn?(c(),p("p",ns,u(a.ssn),1)):k("",!0),i[22]||(i[22]=e("p",{class:"mt-1 text-xs text-gray-500"}," Optional but recommended for joint tax filing ",-1))]),e("div",null,[i[23]||(i[23]=e("label",{for:"spouseDateOfBirth",class:"block text-sm font-medium text-gray-700 mb-1"}," Date of Birth ",-1)),C(e("input",{id:"spouseDateOfBirth","onUpdate:modelValue":i[8]||(i[8]=D=>s.dateOfBirth=D),type:"date",class:U(A("dateOfBirth")),disabled:n.readonly,onBlur:i[9]||(i[9]=D=>I("dateOfBirth")),onInput:i[10]||(i[10]=D=>q("dateOfBirth",D.target.value))},null,42,as),[[B,s.dateOfBirth]]),a.dateOfBirth?(c(),p("p",is,u(a.dateOfBirth),1)):k("",!0)])]),e("div",ds,[e("div",null,[i[24]||(i[24]=e("label",{for:"spouseEmail",class:"block text-sm font-medium text-gray-700 mb-1"}," Email Address ",-1)),C(e("input",{id:"spouseEmail","onUpdate:modelValue":i[11]||(i[11]=D=>s.email=D),type:"email",class:U(A("email")),placeholder:"spouse@example.com",disabled:n.readonly,onBlur:i[12]||(i[12]=D=>I("email")),onInput:i[13]||(i[13]=D=>q("email",D.target.value))},null,42,us),[[B,s.email]]),a.email?(c(),p("p",ms,u(a.email),1)):k("",!0)]),e("div",null,[i[25]||(i[25]=e("label",{for:"spousePhone",class:"block text-sm font-medium text-gray-700 mb-1"}," Phone Number ",-1)),C(e("input",{id:"spousePhone","onUpdate:modelValue":i[14]||(i[14]=D=>s.phone=D),type:"tel",class:U(A("phone")),placeholder:"(555) 123-4567",disabled:n.readonly,onBlur:i[15]||(i[15]=D=>I("phone")),onInput:S},null,42,cs),[[B,s.phone]]),a.phone?(c(),p("p",ps,u(a.phone),1)):k("",!0)])]),e("div",null,[i[26]||(i[26]=e("label",{for:"spouseOccupation",class:"block text-sm font-medium text-gray-700 mb-1"}," Occupation ",-1)),C(e("input",{id:"spouseOccupation","onUpdate:modelValue":i[16]||(i[16]=D=>s.occupation=D),type:"text",class:U(A("occupation")),placeholder:"Enter spouse's occupation",disabled:n.readonly,onInput:i[17]||(i[17]=D=>q("occupation",D.target.value))},null,42,fs),[[B,s.occupation]]),i[27]||(i[27]=e("p",{class:"mt-1 text-xs text-gray-500"}," Employment information helps with tax deductions and credits ",-1))])],32)])])):(c(),p("div",Kt,[e("div",Gt,[e("div",Jt,[z(j(_e),{class:"h-5 w-5 text-blue-400"})]),i[18]||(i[18]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Spouse Information Not Required "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("p",null,'Spouse details are only required when marital status is set to "Married". Please update your marital status in the Personal Details section if you need to add spouse information.')])],-1))])]))]))}},Bd=ce(bs,[["__scopeId","data-v-6a14daa7"]]),gs={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-start justify-center p-4 pt-8 overflow-y-auto"},xs={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all flex flex-col mb-8"},ys={class:"bg-gradient-to-r from-slate-50 via-red-50 to-rose-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},vs={class:"relative flex items-center justify-between"},hs={class:"flex items-center space-x-3"},ws={class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-red-900 to-rose-900 bg-clip-text text-transparent"},ks={class:"text-sm text-gray-600 font-medium"},$s={class:"p-8 max-h-[70vh] overflow-y-auto"},_s={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Cs={class:"space-y-2"},Vs={key:0,class:"mt-1 text-sm text-red-600"},Ss={class:"space-y-2"},Ns={class:"relative"},Ds={key:0,class:"mt-1 text-sm text-red-600"},Es={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},Ms={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Is={class:"space-y-2"},Bs={key:0,class:"mt-1 text-sm text-red-600"},As={class:"space-y-2"},Ps={key:0,class:"mt-1 text-sm text-red-600"},Us={class:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200"},Os={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qs={class:"space-y-2"},Fs={key:0,class:"mt-1 text-sm text-red-600"},zs={class:"space-y-2"},Ts={key:0,class:"mt-1 text-sm text-red-600"},Ls={class:"bg-gradient-to-br from-orange-50 to-amber-100 rounded-xl p-6 border border-orange-200"},Hs={class:"space-y-6"},js={class:"flex items-center space-x-3"},Rs={key:0,class:"space-y-2"},Ys={class:"relative"},Zs={key:0,class:"mt-1 text-sm text-red-600"},Ws={class:"space-y-4"},Ks={key:0,class:"mt-1 text-sm text-red-600"},Gs={key:0,class:"mt-1 text-sm text-red-600"},Js={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Pe={__name:"ExpenseModal",props:{show:{type:Boolean,default:!1},expense:{type:Object,default:null},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:V}){const m=n,N=V,s=K(()=>m.expense&&m.expense.id),a=G({id:null,category:"",particulars:"",date:"",amount:"",taxPayer:"",spouse:"",receiptNumber:"",is_deductible:!0,deductiblePercentage:100,remarks:""}),A=h=>{const t="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500";return m.errors[h]?`${t} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:t};K(()=>{const h="block w-full pl-7 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500";return m.errors.amount?`${h} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:h});const I=()=>{Object.assign(a,{id:null,category:"",particulars:"",date:"",amount:"",taxPayer:"",spouse:"",receiptNumber:"",is_deductible:!0,deductiblePercentage:100,remarks:""})},q=()=>{m.expense?Object.assign(a,m.expense):I()},M=()=>{N("save",{...a})},S=()=>{N("close")};return Y(()=>m.show,h=>{h&&q()}),Y(()=>m.expense,q,{deep:!0}),(h,t)=>n.show?(c(),p("div",gs,[e("div",xs,[e("div",ys,[t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-red-100/40 to-transparent rounded-bl-full"},null,-1)),e("div",vs,[e("div",hs,[t[10]||(t[10]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-600 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("div",null,[e("h3",ws,u(s.value?"Edit Expense":"Add New Expense"),1),e("p",ks,u(s.value?"Update expense details and information":"Add a new business or personal expense"),1)])]),e("button",{onClick:S,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",$s,[e("form",{onSubmit:oe(M,["prevent"]),class:"space-y-8"},[t[29]||(t[29]=e("div",{class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},[e("div",{class:"flex items-center mb-6"},[e("div",{class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"}),e("svg",{ass:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("h4",{class:"text-lg font-bold text-blue-900"},"Basic Information")],-1)),e("div",_s,[e("div",Cs,[t[14]||(t[14]=e("label",{for:"category",class:"block text-sm font-semibold text-blue-700"},[F(" Category "),e("span",{class:"text-red-500"},"*")],-1)),C(e("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=g=>a.category=g),class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900",required:""},[...t[13]||(t[13]=[Z('<option value="">Select category</option><option value="miscellaneous">Miscellaneous</option><option value="residency">Residency</option><option value="business">Business</option><option value="medical">Medical</option><option value="education">Education</option><option value="charitable">Charitable</option><option value="travel">Travel</option><option value="office">Office</option><option value="professional">Professional</option><option value="other">Other</option>',11)])],512),[[le,a.category]]),n.errors.category?(c(),p("p",Vs,u(n.errors.category),1)):k("",!0)]),e("div",Ss,[t[16]||(t[16]=e("label",{for:"amount",class:"block text-sm font-semibold text-blue-700"},[F(" Amount "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ns,[t[15]||(t[15]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),C(e("input",{id:"amount","onUpdate:modelValue":t[1]||(t[1]=g=>a.amount=g),type:"number",step:"0.01",min:"0",class:"w-full pl-8 pr-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900",placeholder:"0.00",required:""},null,512),[[B,a.amount]])]),n.errors.amount?(c(),p("p",Ds,u(n.errors.amount),1)):k("",!0)])]),e("div",Es,[t[19]||(t[19]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-green-900">Date &amp; Receipt</h4></div>',1)),e("div",Ms,[e("div",Is,[t[17]||(t[17]=e("label",{for:"date",class:"block text-sm font-semibold text-green-700"},[F(" Date "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"date","onUpdate:modelValue":t[2]||(t[2]=g=>a.date=g),type:"date",class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900",required:""},null,512),[[B,a.date]]),n.errors.date?(c(),p("p",Bs,u(n.errors.date),1)):k("",!0)]),e("div",As,[t[18]||(t[18]=e("label",{for:"receiptNumber",class:"block text-sm font-semibold text-green-700"}," Receipt Number ",-1)),C(e("input",{id:"receiptNumber","onUpdate:modelValue":t[3]||(t[3]=g=>a.receiptNumber=g),type:"text",class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter receipt number (optional)"},null,512),[[B,a.receiptNumber]]),n.errors.receiptNumber?(c(),p("p",Ps,u(n.errors.receiptNumber),1)):k("",!0)])])]),e("div",Us,[t[22]||(t[22]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><h4 class="text-lg font-bold text-purple-900">Taxpayer Information</h4></div>',1)),e("div",Os,[e("div",qs,[t[20]||(t[20]=e("label",{for:"taxPayer",class:"block text-sm font-semibold text-purple-700"},[F(" Tax Payer "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"taxPayer","onUpdate:modelValue":t[4]||(t[4]=g=>a.taxPayer=g),type:"text",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter taxpayer name",required:""},null,512),[[B,a.taxPayer]]),n.errors.taxPayer?(c(),p("p",Fs,u(n.errors.taxPayer),1)):k("",!0)]),e("div",zs,[t[21]||(t[21]=e("label",{for:"spouse",class:"block text-sm font-semibold text-purple-700"}," Spouse ",-1)),C(e("input",{id:"spouse","onUpdate:modelValue":t[5]||(t[5]=g=>a.spouse=g),type:"text",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter spouse name (if applicable)"},null,512),[[B,a.spouse]]),n.errors.spouse?(c(),p("p",Ts,u(n.errors.spouse),1)):k("",!0)])])]),e("div",Ls,[t[26]||(t[26]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-orange-900">Tax Deduction</h4></div>',1)),e("div",Hs,[e("div",js,[C(e("input",{id:"is_deductible","onUpdate:modelValue":t[6]||(t[6]=g=>a.is_deductible=g),type:"checkbox",class:"w-4 h-4 rounded border-orange-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"},null,512),[[fe,a.is_deductible]]),t[23]||(t[23]=e("label",{for:"is_deductible",class:"text-sm font-semibold text-orange-700"}," Tax deductible ",-1))]),a.is_deductible?(c(),p("div",Rs,[t[25]||(t[25]=e("label",{for:"deductiblePercentage",class:"block text-sm font-semibold text-orange-700"}," Deductible Percentage ",-1)),e("div",Ys,[C(e("input",{id:"deductiblePercentage","onUpdate:modelValue":t[7]||(t[7]=g=>a.deductiblePercentage=g),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-3 pr-8 border-2 border-orange-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 text-gray-900",placeholder:"100"},null,512),[[B,a.deductiblePercentage]]),t[24]||(t[24]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),n.errors.deductiblePercentage?(c(),p("p",Zs,u(n.errors.deductiblePercentage),1)):k("",!0)])):k("",!0)])]),e("div",Ws,[e("div",null,[t[27]||(t[27]=e("label",{for:"particulars",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Description "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"particulars","onUpdate:modelValue":t[8]||(t[8]=g=>a.particulars=g),type:"text",class:U(A("particulars")),placeholder:"Enter expense description",required:""},null,2),[[B,a.particulars]]),n.errors.particulars?(c(),p("p",Ks,u(n.errors.particulars),1)):k("",!0)]),e("div",null,[t[28]||(t[28]=e("label",{for:"remarks",class:"block text-sm font-medium text-gray-700 mb-1"}," Remarks ",-1)),C(e("textarea",{id:"remarks","onUpdate:modelValue":t[9]||(t[9]=g=>a.remarks=g),rows:"3",class:U(A("remarks")),placeholder:"Additional notes about this expense..."},null,2),[[B,a.remarks]]),n.errors.remarks?(c(),p("p",Gs,u(n.errors.remarks),1)):k("",!0)])]),e("div",Js,[e("button",{type:"button",onClick:M,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"},u(s.value?"Update":"Add")+" Expense ",1),e("button",{type:"button",onClick:S,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):k("",!0)}},Xs={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Qs={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},eo={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},to={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},so={class:"sm:flex sm:items-start"},oo={class:"w-full"},lo={key:0,class:"space-y-4"},ro={class:"flex items-center justify-between"},no={class:"text-right"},ao={class:"text-lg font-semibold text-gray-900"},io={key:0,class:"text-sm text-green-600"},uo={key:1,class:"text-sm text-gray-500"},mo={class:"text-sm text-gray-900"},co={class:"grid grid-cols-2 gap-4"},po={class:"text-sm text-gray-900"},fo={class:"text-sm text-gray-900 capitalize"},bo={key:0},go={class:"text-sm text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded"},xo={key:1,class:"bg-green-50 border border-green-200 rounded-md p-3"},yo={class:"flex"},vo={class:"ml-3"},ho={class:"mt-1 text-sm text-green-700"},wo={key:2},ko={class:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md"},Ue={__name:"ExpenseViewModal",props:{show:{type:Boolean,default:!1},expense:{type:Object,default:null}},emits:["close","edit"],setup(n,{emit:V}){const m=n,N=V,s=S=>{const h={business:"bg-blue-100 text-blue-800",medical:"bg-red-100 text-red-800",education:"bg-green-100 text-green-800",charitable:"bg-purple-100 text-purple-800",travel:"bg-yellow-100 text-yellow-800",office:"bg-indigo-100 text-indigo-800",professional:"bg-pink-100 text-pink-800",miscellaneous:"bg-gray-100 text-gray-800",other:"bg-gray-100 text-gray-800"};return h[S]||h.other},a=S=>S?new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",A=S=>parseFloat(S||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),I=S=>{if(!S.is_deductible)return"$0.00";const h=parseFloat(S.amount||0),t=parseFloat(S.deductiblePercentage||100)/100;return"$"+(h*t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},q=()=>{N("close")},M=()=>{N("edit",m.expense)};return(S,h)=>n.show?(c(),p("div",Xs,[e("div",Qs,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:q}),e("div",eo,[e("div",to,[e("div",so,[e("div",oo,[e("div",{class:"flex items-center justify-between mb-4"},[h[0]||(h[0]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Expense Details ",-1)),e("button",{onClick:M,class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Edit ")]),n.expense?(c(),p("div",lo,[e("div",ro,[e("span",{class:U([s(n.expense.category),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},u(n.expense.category),3),e("div",no,[e("p",ao," $"+u(A(n.expense.amount)),1),n.expense.is_deductible?(c(),p("p",io,u(n.expense.deductiblePercentage)+"% deductible ",1)):(c(),p("p",uo," Not deductible "))])]),e("div",null,[h[1]||(h[1]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),e("p",mo,u(n.expense.particulars),1)]),e("div",co,[e("div",null,[h[2]||(h[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),e("p",po,u(a(n.expense.date)),1)]),e("div",null,[h[3]||(h[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tax Payer",-1)),e("p",fo,u(n.expense.taxPayer),1)])]),n.expense.receiptNumber?(c(),p("div",bo,[h[4]||(h[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Receipt Number",-1)),e("p",go,u(n.expense.receiptNumber),1)])):k("",!0),n.expense.is_deductible?(c(),p("div",xo,[e("div",yo,[h[6]||(h[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",vo,[h[5]||(h[5]=e("h4",{class:"text-sm font-medium text-green-800"},"Tax Deductible",-1)),e("div",ho,[e("p",null,u(n.expense.deductiblePercentage)+"% of this expense ("+u(I(n.expense))+") is tax deductible.",1)])])])])):k("",!0),n.expense.remarks?(c(),p("div",wo,[h[7]||(h[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Remarks",-1)),e("p",ko,u(n.expense.remarks),1)])):k("",!0)])):k("",!0)])])]),e("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[e("button",{type:"button",onClick:q,class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):k("",!0)}},$o={class:"employee-information-section"},_o={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Co={class:"p-6"},Vo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},So=["disabled"],No={key:0,class:"mt-1 text-sm text-red-600"},Do=["disabled"],Eo={key:0,class:"mt-1 text-sm text-red-600"},Mo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Io=["disabled"],Bo={key:0,class:"mt-1 text-sm text-red-600"},Ao=["disabled"],Po=["disabled"],Uo={class:"border-t border-gray-200 pt-6"},Oo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qo={class:"relative"},Fo=["disabled"],zo={key:0,class:"mt-1 text-sm text-red-600"},To=["disabled"],Lo={class:"border-t border-gray-200 pt-6"},Ho={class:"space-y-4"},jo={class:"flex items-center space-x-3"},Ro=["disabled"],Yo={class:"flex items-center space-x-3"},Zo=["disabled"],Wo={class:"flex items-center space-x-3"},Ko=["disabled"],Go={class:"flex items-center space-x-3"},Jo=["disabled"],Xo={class:"border-t border-gray-200 pt-6"},Qo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},el={class:"md:col-span-2"},tl=["disabled"],sl=["disabled"],ol=["disabled"],ll=["disabled"],rl={class:"border-t border-gray-200 pt-6"},nl=["disabled"],al={class:"mt-4"},il=["disabled"],dl={__name:"EmployeeInformationSection",props:{modelValue:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:V}){const m=n,N=V,s=G({id:null,employerName:"",position:"",startDate:"",endDate:"",employmentType:"",salary:"",payFrequency:"",workLocation:"",notes:"",employerAddress:"",employerCity:"",employerState:"",employerZipCode:"",benefits:{healthInsurance:!1,retirementPlan:!1,dentalInsurance:!1,visionInsurance:!1},expenses:[]}),a=T(!1),A=T(!1),I=T(null),q=T({}),M=G({}),S=y=>{const l="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500";return M[y]?`${l} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:l},h=K(()=>{const y="block w-full pl-7 pr-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500";return M.salary?`${y} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:y}),t=y=>{console.log("fieldName",y);const l=s[y];let r=null;switch(y){case"employerName":!l||l.trim().length===0?r="Employer name is required":l.length>100&&(r="Employer name must be less than 100 characters");break;case"position":!l||l.trim().length===0?r="Job title/position is required":l.length>100&&(r="Position must be less than 100 characters");break;case"startDate":l&&new Date(l)>new Date&&(r="Start date cannot be in the future");break;case"salary":l&&(isNaN(l)||parseFloat(l)<0)&&(r="Salary must be a valid positive number");break}return r?M[y]=r:delete M[y],N("validate",M),!r},g=(y,l)=>{s[y]=l,M[y]&&delete M[y],console.log("EmployeeInformationSection handleInput:",{fieldName:y,value:l,localData:{...s}}),N("update:modelValue",{...s}),N("update",{...s})},O=(y,l)=>{s.benefits[y]=l,N("update:modelValue",{...s}),N("update",{...s})},i=()=>{const y=["employerName","position"];let l=!0;y.forEach(r=>{console.log("field",r),t(r)||(l=!1)}),console.log("localData",...s),l&&N("submit",{...s})},D=()=>{m.modelValue&&Object.keys(s).forEach(y=>{m.modelValue[y]!==void 0&&(y==="benefits"&&typeof m.modelValue[y]=="object"?s[y]={...s[y],...m.modelValue[y]}:y==="expenses"&&Array.isArray(m.modelValue[y])?s[y]=[...m.modelValue[y]]:s[y]=m.modelValue[y])})};Y(()=>m.errors,y=>{Object.keys(M).forEach(l=>delete M[l]),Object.assign(M,y)},{deep:!0}),Y(()=>m.modelValue,D,{deep:!0});const Q=(y=null)=>{I.value=y,q.value={},a.value=!0},re=()=>{a.value=!1,I.value=null,q.value={}},J=()=>{A.value=!1,I.value=null},ee=y=>{J(),Q(y)},P=y=>{const l=o(y);if(Object.keys(l).length>0){q.value=l;return}if(s.expenses||(s.expenses=[]),y.id){const r=s.expenses.findIndex(R=>R.id===y.id);r!==-1&&(s.expenses[r]={...y})}else{const r={...y,id:Date.now()};s.expenses.push(r)}N("update:modelValue",{...s}),N("update",{...s}),re()},o=y=>{const l={};return y.category||(l.category="Category is required"),(!y.particulars||y.particulars.trim().length===0)&&(l.particulars="Description is required"),y.expense_date||(l.expense_date="Date is required"),(!y.amount||parseFloat(y.amount)<=0)&&(l.amount="Amount must be greater than 0"),y.tax_payer||(l.tax_payer="Tax payer is required"),l};return be(()=>{D()}),(y,l)=>(c(),p("div",$o,[e("div",_o,[l[64]||(l[64]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Employee Information"),e("p",{class:"text-sm text-gray-600 mt-1"},"Employment details for tax preparation and deductions")],-1)),e("div",Co,[e("form",{onSubmit:oe(i,["prevent"]),class:"space-y-6"},[e("div",Vo,[e("div",null,[l[38]||(l[38]=e("label",{for:"employerName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Employer Name "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"employerName","onUpdate:modelValue":l[0]||(l[0]=r=>s.employerName=r),type:"text",class:U(S("employerName")),placeholder:"Enter employer name",disabled:n.readonly,onBlur:l[1]||(l[1]=r=>t("employerName")),onInput:l[2]||(l[2]=r=>g("employerName",r.target.value))},null,42,So),[[B,s.employerName]]),M.employerName?(c(),p("p",No,u(M.employerName),1)):k("",!0)]),e("div",null,[l[39]||(l[39]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Job Title/Position "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"position","onUpdate:modelValue":l[3]||(l[3]=r=>s.position=r),type:"text",class:U(S("position")),placeholder:"Enter job title",disabled:n.readonly,onBlur:l[4]||(l[4]=r=>t("position")),onInput:l[5]||(l[5]=r=>g("position",r.target.value))},null,42,Do),[[B,s.position]]),M.position?(c(),p("p",Eo,u(M.position),1)):k("",!0)])]),e("div",Mo,[e("div",null,[l[40]||(l[40]=e("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"}," Start Date ",-1)),C(e("input",{id:"startDate","onUpdate:modelValue":l[6]||(l[6]=r=>s.startDate=r),type:"date",class:U(S("startDate")),disabled:n.readonly,onBlur:l[7]||(l[7]=r=>t("startDate")),onInput:l[8]||(l[8]=r=>g("startDate",r.target.value))},null,42,Io),[[B,s.startDate]]),M.startDate?(c(),p("p",Bo,u(M.startDate),1)):k("",!0)]),e("div",null,[l[41]||(l[41]=e("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 mb-1"}," End Date ",-1)),C(e("input",{id:"endDate","onUpdate:modelValue":l[9]||(l[9]=r=>s.endDate=r),type:"date",class:U(S("endDate")),disabled:n.readonly,onInput:l[10]||(l[10]=r=>g("endDate",r.target.value))},null,42,Ao),[[B,s.endDate]]),l[42]||(l[42]=e("p",{class:"mt-1 text-xs text-gray-500"}," Leave blank if currently employed ",-1))]),e("div",null,[l[44]||(l[44]=e("label",{for:"employmentType",class:"block text-sm font-medium text-gray-700 mb-1"}," Employment Status ",-1)),C(e("select",{id:"employmentType","onUpdate:modelValue":l[11]||(l[11]=r=>s.employmentType=r),class:U(S("employmentType")),disabled:n.readonly,onChange:l[12]||(l[12]=r=>g("employmentType",r.target.value))},[...l[43]||(l[43]=[Z('<option value="" data-v-64a7249e>Select status</option><option value="full-time" data-v-64a7249e>Full-time</option><option value="part-time" data-v-64a7249e>Part-time</option><option value="contract" data-v-64a7249e>Contract</option><option value="temporary" data-v-64a7249e>Temporary</option><option value="terminated" data-v-64a7249e>Terminated</option>',6)])],42,Po),[[le,s.employmentType]])])]),e("div",Uo,[l[49]||(l[49]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Compensation Information",-1)),e("div",Oo,[e("div",null,[l[46]||(l[46]=e("label",{for:"salary",class:"block text-sm font-medium text-gray-700 mb-1"}," Annual Salary/Wage ",-1)),e("div",qo,[l[45]||(l[45]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),C(e("input",{id:"salary","onUpdate:modelValue":l[13]||(l[13]=r=>s.salary=r),type:"number",step:"0.01",min:"0",class:U(h.value),placeholder:"0.00",disabled:n.readonly,onBlur:l[14]||(l[14]=r=>t("salary")),onInput:l[15]||(l[15]=r=>g("salary",r.target.value))},null,42,Fo),[[B,s.salary]])]),M.salary?(c(),p("p",zo,u(M.salary),1)):k("",!0)]),e("div",null,[l[48]||(l[48]=e("label",{for:"payFrequency",class:"block text-sm font-medium text-gray-700 mb-1"}," Pay Frequency ",-1)),C(e("select",{id:"payFrequency","onUpdate:modelValue":l[16]||(l[16]=r=>s.payFrequency=r),class:U(S("payFrequency")),disabled:n.readonly,onChange:l[17]||(l[17]=r=>g("payFrequency",r.target.value))},[...l[47]||(l[47]=[Z('<option value="" data-v-64a7249e>Select frequency</option><option value="weekly" data-v-64a7249e>Weekly</option><option value="bi-weekly" data-v-64a7249e>Bi-weekly</option><option value="semi-monthly" data-v-64a7249e>Semi-monthly</option><option value="monthly" data-v-64a7249e>Monthly</option><option value="annually" data-v-64a7249e>Annually</option>',6)])],42,To),[[le,s.payFrequency]])])])]),e("div",Lo,[l[54]||(l[54]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Benefits Information",-1)),e("div",Ho,[e("div",jo,[C(e("input",{id:"healthInsurance","onUpdate:modelValue":l[18]||(l[18]=r=>s.benefits.healthInsurance=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[19]||(l[19]=r=>O("healthInsurance",r.target.checked))},null,40,Ro),[[fe,s.benefits.healthInsurance]]),l[50]||(l[50]=e("label",{for:"healthInsurance",class:"text-sm text-gray-700"}," Health Insurance provided by employer ",-1))]),e("div",Yo,[C(e("input",{id:"retirementPlan","onUpdate:modelValue":l[20]||(l[20]=r=>s.benefits.retirementPlan=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[21]||(l[21]=r=>O("retirementPlan",r.target.checked))},null,40,Zo),[[fe,s.benefits.retirementPlan]]),l[51]||(l[51]=e("label",{for:"retirementPlan",class:"text-sm text-gray-700"}," 401(k) or other retirement plan ",-1))]),e("div",Wo,[C(e("input",{id:"dentalInsurance","onUpdate:modelValue":l[22]||(l[22]=r=>s.benefits.dentalInsurance=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[23]||(l[23]=r=>O("dentalInsurance",r.target.checked))},null,40,Ko),[[fe,s.benefits.dentalInsurance]]),l[52]||(l[52]=e("label",{for:"dentalInsurance",class:"text-sm text-gray-700"}," Dental Insurance ",-1))]),e("div",Go,[C(e("input",{id:"visionInsurance","onUpdate:modelValue":l[24]||(l[24]=r=>s.benefits.visionInsurance=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[25]||(l[25]=r=>O("visionInsurance",r.target.checked))},null,40,Jo),[[fe,s.benefits.visionInsurance]]),l[53]||(l[53]=e("label",{for:"visionInsurance",class:"text-sm text-gray-700"}," Vision Insurance ",-1))])])]),e("div",Xo,[l[59]||(l[59]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Employer Address",-1)),e("div",Qo,[e("div",el,[l[55]||(l[55]=e("label",{for:"employerAddress",class:"block text-sm font-medium text-gray-700 mb-1"}," Street Address ",-1)),C(e("input",{id:"employerAddress","onUpdate:modelValue":l[26]||(l[26]=r=>s.employerAddress=r),type:"text",class:U(S("employerAddress")),placeholder:"Enter employer street address",disabled:n.readonly,onInput:l[27]||(l[27]=r=>g("employerAddress",r.target.value))},null,42,tl),[[B,s.employerAddress]])]),e("div",null,[l[56]||(l[56]=e("label",{for:"employerCity",class:"block text-sm font-medium text-gray-700 mb-1"}," City ",-1)),C(e("input",{id:"employerCity","onUpdate:modelValue":l[28]||(l[28]=r=>s.employerCity=r),type:"text",class:U(S("employerCity")),placeholder:"Enter city",disabled:n.readonly,onInput:l[29]||(l[29]=r=>g("employerCity",r.target.value))},null,42,sl),[[B,s.employerCity]])]),e("div",null,[l[57]||(l[57]=e("label",{for:"employerState",class:"block text-sm font-medium text-gray-700 mb-1"}," State ",-1)),C(e("input",{id:"employerState","onUpdate:modelValue":l[30]||(l[30]=r=>s.employerState=r),type:"text",class:U(S("employerState")),placeholder:"Enter state",maxlength:"2",disabled:n.readonly,onInput:l[31]||(l[31]=r=>g("employerState",r.target.value))},null,42,ol),[[B,s.employerState]])]),e("div",null,[l[58]||(l[58]=e("label",{for:"employerZipCode",class:"block text-sm font-medium text-gray-700 mb-1"}," ZIP Code ",-1)),C(e("input",{id:"employerZipCode","onUpdate:modelValue":l[32]||(l[32]=r=>s.employerZipCode=r),type:"text",class:U(S("employerZipCode")),placeholder:"Enter ZIP code",disabled:n.readonly,onInput:l[33]||(l[33]=r=>g("employerZipCode",r.target.value))},null,42,ll),[[B,s.employerZipCode]])])])]),e("div",rl,[l[63]||(l[63]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Additional Information",-1)),e("div",null,[l[61]||(l[61]=e("label",{for:"workLocation",class:"block text-sm font-medium text-gray-700 mb-1"}," Work Location ",-1)),C(e("select",{id:"workLocation","onUpdate:modelValue":l[34]||(l[34]=r=>s.workLocation=r),class:U(S("workLocation")),disabled:n.readonly,onChange:l[35]||(l[35]=r=>g("workLocation",r.target.value))},[...l[60]||(l[60]=[Z('<option value="" data-v-64a7249e>Select work location</option><option value="office" data-v-64a7249e>Office</option><option value="remote" data-v-64a7249e>Remote</option><option value="hybrid" data-v-64a7249e>Hybrid</option><option value="field" data-v-64a7249e>Field work</option><option value="multiple" data-v-64a7249e>Multiple locations</option>',6)])],42,nl),[[le,s.workLocation]])]),e("div",al,[l[62]||(l[62]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 mb-1"}," Additional Notes ",-1)),C(e("textarea",{id:"notes","onUpdate:modelValue":l[36]||(l[36]=r=>s.notes=r),rows:"3",class:U(S("notes")),placeholder:"Any additional employment information relevant for tax preparation...",disabled:n.readonly,onInput:l[37]||(l[37]=r=>g("notes",r.target.value))},null,42,il),[[B,s.notes]])])])],32)])]),z(Pe,{show:a.value,expense:I.value,errors:q.value,onClose:re,onSave:P},null,8,["show","expense","errors"]),z(Ue,{show:A.value,expense:I.value,onClose:J,onEdit:ee},null,8,["show","expense"])]))}},Ad=ce(dl,[["__scopeId","data-v-64a7249e"]]),ul={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-start justify-center p-4 pt-8 overflow-y-auto"},ml={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all flex flex-col mb-8"},cl={class:"bg-gradient-to-r from-slate-50 via-indigo-50 to-purple-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},pl={class:"relative flex items-center justify-between"},fl={class:"flex items-center space-x-3"},bl={class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},gl={class:"text-sm text-gray-600 font-medium"},xl={class:"p-8 max-h-[70vh] overflow-y-auto"},yl={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},vl={class:"space-y-6"},hl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wl={class:"space-y-2"},kl={key:0,class:"mt-1 text-sm text-red-600"},$l={class:"space-y-2"},_l={key:0,class:"mt-1 text-sm text-red-600"},Cl={class:"space-y-2"},Vl={key:0,class:"mt-1 text-sm text-red-600"},Sl={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},Nl={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Dl={class:"space-y-2"},El=["value"],Ml={class:"space-y-2"},Il={key:0,class:"mt-1 text-sm text-red-600"},Bl={class:"space-y-2"},Al={class:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200"},Pl={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ul={class:"space-y-2"},Ol={class:"space-y-2"},ql={class:"space-y-2"},Fl={class:"bg-gradient-to-br from-orange-50 to-amber-100 rounded-xl p-6 border border-orange-200"},zl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Tl={class:"space-y-2"},Ll={class:"space-y-2"},Hl={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200"},jl={class:"space-y-2"},Rl={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 bg-white px-8 pb-8"},Yl={__name:"ProjectModal",props:{show:{type:Boolean,default:!1},project:{type:Object,default:null},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:V}){const m=n,N=V,s=K(()=>m.project&&m.project.id),a=G({id:null,project_name:"",project_description:"",project_type:"",taxYear:new Date().getFullYear(),status:"pending",priority:"medium",startDate:"",dueDate:"",completionDate:"",estimatedHours:"",actualHours:"",notes:""}),A=K(()=>{const h=new Date().getFullYear(),t=[];for(let g=h+1;g>=h-5;g--)t.push(g);return t}),I=()=>{Object.assign(a,{id:null,project_name:"",project_description:"",project_type:"",taxYear:new Date().getFullYear(),status:"pending",priority:"medium",startDate:"",dueDate:"",completionDate:"",estimatedHours:"",actualHours:"",notes:""})},q=()=>{m.project?Object.assign(a,{id:m.project.id,project_name:m.project.project_name||"",project_description:m.project.project_description||"",project_type:m.project.project_type||"",taxYear:m.project.taxYear||m.project.tax_year||new Date().getFullYear(),status:m.project.status||"pending",priority:m.project.priority||"medium",startDate:m.project.startDate||m.project.start_date||"",dueDate:m.project.dueDate||m.project.due_date||"",completionDate:m.project.completionDate||m.project.completion_date||"",estimatedHours:m.project.estimatedHours||m.project.estimated_hours||"",actualHours:m.project.actualHours||m.project.actual_hours||"",notes:m.project.notes||""}):I()},M=()=>{N("save",{...a})},S=()=>{N("close")};return Y(()=>m.show,h=>{h&&q()}),Y(()=>m.project,q,{deep:!0}),(h,t)=>n.show?(c(),p("div",ul,[e("div",ml,[e("div",cl,[t[14]||(t[14]=e("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-indigo-100/40 to-transparent rounded-bl-full"},null,-1)),e("div",pl,[e("div",fl,[t[12]||(t[12]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",null,[e("h3",bl,u(s.value?"Edit Project":"Add New Project"),1),e("p",gl,u(s.value?"Update project details and information":"Create a new project for your client"),1)])]),e("button",{onClick:S,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",xl,[e("form",{onSubmit:oe(M,["prevent"]),class:"space-y-8"},[e("div",yl,[t[19]||(t[19]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-blue-900">Basic Information</h4></div>',1)),e("div",vl,[e("div",hl,[e("div",wl,[t[15]||(t[15]=e("label",{for:"project_name",class:"block text-sm font-semibold text-blue-700"},[F(" Project Name "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"project_name","onUpdate:modelValue":t[0]||(t[0]=g=>a.project_name=g),type:"text",class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter project name",required:""},null,512),[[B,a.project_name]]),n.errors.name?(c(),p("p",kl,u(n.errors.name),1)):k("",!0)]),e("div",$l,[t[17]||(t[17]=e("label",{for:"project_type",class:"block text-sm font-semibold text-blue-700"},[F(" Project Type "),e("span",{class:"text-red-500"},"*")],-1)),C(e("select",{id:"project_type","onUpdate:modelValue":t[1]||(t[1]=g=>a.project_type=g),class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900",required:""},[...t[16]||(t[16]=[Z('<option value="">Select project type</option><option value="tax_preparation">Tax Preparation</option><option value="tax_planning">Tax Planning</option><option value="audit_support">Audit Support</option><option value="consultation">Consultation</option><option value="bookkeeping">Bookkeeping</option><option value="payroll">Payroll Services</option><option value="business_formation">Business Formation</option><option value="other">Other</option>',9)])],512),[[le,a.project_type]]),n.errors.type?(c(),p("p",_l,u(n.errors.type),1)):k("",!0)])]),e("div",Cl,[t[18]||(t[18]=e("label",{for:"description",class:"block text-sm font-semibold text-blue-700"}," Description ",-1)),C(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=g=>a.project_description=g),rows:"3",class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Describe the project details and scope..."},null,512),[[B,a.project_description]]),n.errors.project_description?(c(),p("p",Vl,u(n.errors.description),1)):k("",!0)])])]),e("div",Sl,[t[26]||(t[26]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h4 class="text-lg font-bold text-green-900">Project Settings</h4></div>',1)),e("div",Nl,[e("div",Dl,[t[21]||(t[21]=e("label",{for:"taxYear",class:"block text-sm font-semibold text-green-700"}," Tax Year ",-1)),C(e("select",{id:"taxYear","onUpdate:modelValue":t[3]||(t[3]=g=>a.taxYear=g),class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white text-gray-900"},[t[20]||(t[20]=e("option",{value:"2025"},"2025",-1)),(c(!0),p(ae,null,me(A.value,g=>(c(),p("option",{key:g,value:g},u(g),9,El))),128))],512),[[le,a.taxYear]])]),e("div",Ml,[t[23]||(t[23]=e("label",{for:"status",class:"block text-sm font-semibold text-green-700"},[F(" Status "),e("span",{class:"text-red-500"},"*")],-1)),C(e("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=g=>a.status=g),class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white text-gray-900",required:""},[...t[22]||(t[22]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)])],512),[[le,a.status]]),n.errors.status?(c(),p("p",Il,u(n.errors.status),1)):k("",!0)]),e("div",Bl,[t[25]||(t[25]=e("label",{for:"priority",class:"block text-sm font-semibold text-green-700"}," Priority ",-1)),C(e("select",{id:"priority","onUpdate:modelValue":t[5]||(t[5]=g=>a.priority=g),class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white text-gray-900"},[...t[24]||(t[24]=[e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1),e("option",{value:"urgent"},"Urgent",-1)])],512),[[le,a.priority]])])])]),e("div",Al,[t[30]||(t[30]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-purple-900">Timeline</h4></div>',1)),e("div",Pl,[e("div",Ul,[t[27]||(t[27]=e("label",{for:"startDate",class:"block text-sm font-semibold text-purple-700"}," Start Date ",-1)),C(e("input",{id:"startDate","onUpdate:modelValue":t[6]||(t[6]=g=>a.startDate=g),type:"date",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"mm/dd/yyyy"},null,512),[[B,a.startDate]])]),e("div",Ol,[t[28]||(t[28]=e("label",{for:"dueDate",class:"block text-sm font-semibold text-purple-700"}," Due Date ",-1)),C(e("input",{id:"dueDate","onUpdate:modelValue":t[7]||(t[7]=g=>a.dueDate=g),type:"date",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"mm/dd/yyyy"},null,512),[[B,a.dueDate]])]),e("div",ql,[t[29]||(t[29]=e("label",{for:"completionDate",class:"block text-sm font-semibold text-purple-700"}," Completion Date ",-1)),C(e("input",{id:"completionDate","onUpdate:modelValue":t[8]||(t[8]=g=>a.completionDate=g),type:"date",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"mm/dd/yyyy"},null,512),[[B,a.completionDate]])])])]),e("div",Fl,[t[33]||(t[33]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-orange-900">Hours Tracking</h4></div>',1)),e("div",zl,[e("div",Tl,[t[31]||(t[31]=e("label",{for:"estimatedHours",class:"block text-sm font-semibold text-orange-700"}," Estimated Hours ",-1)),C(e("input",{id:"estimatedHours","onUpdate:modelValue":t[9]||(t[9]=g=>a.estimatedHours=g),type:"number",step:"0.5",min:"0",class:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 text-gray-900",placeholder:"0.0"},null,512),[[B,a.estimatedHours]])]),e("div",Ll,[t[32]||(t[32]=e("label",{for:"actualHours",class:"block text-sm font-semibold text-orange-700"}," Actual Hours ",-1)),C(e("input",{id:"actualHours","onUpdate:modelValue":t[10]||(t[10]=g=>a.actualHours=g),type:"number",step:"0.5",min:"0",class:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 text-gray-900",placeholder:"0.0"},null,512),[[B,a.actualHours]])])])]),e("div",Hl,[t[35]||(t[35]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><h4 class="text-lg font-bold text-gray-900">Additional Notes</h4></div>',1)),e("div",jl,[t[34]||(t[34]=e("label",{for:"notes",class:"block text-sm font-semibold text-gray-700"}," Notes ",-1)),C(e("textarea",{id:"notes","onUpdate:modelValue":t[11]||(t[11]=g=>a.notes=g),rows:"3",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Additional project notes..."},null,512),[[B,a.notes]])])])],32)]),e("div",Rl,[e("button",{type:"button",onClick:S,class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[...t[36]||(t[36]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),F(" Cancel ",-1)])]),e("button",{type:"button",onClick:M,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[t[37]||(t[37]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),F(" "+u(s.value?"Update":"Add")+" Project ",1)])])])])):k("",!0)}},Zl={class:"project-details-section"},Wl={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Kl={class:"px-6 py-4 border-b border-gray-200"},Gl={class:"flex items-center justify-between"},Jl=["disabled"],Xl={class:"p-6"},Ql={key:0,class:"text-center py-12"},er={class:"mt-6 flex justify-center"},tr=["disabled"],sr={key:1,class:"space-y-4"},or=["onClick"],lr={class:"flex items-center space-x-3"},rr={class:"flex-shrink-0"},nr={class:"text-lg font-medium text-gray-900"},ar={class:"text-sm text-gray-500"},ir={key:0},dr={key:1},ur={class:"flex items-center space-x-2"},mr=["onClick","disabled"],cr=["onClick","disabled"],pr={key:0,class:"border-t border-gray-200 p-4 bg-gray-50"},fr={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},br={class:"ml-2 text-gray-900 capitalize"},gr={class:"ml-2"},xr={class:"ml-2 text-gray-900"},yr={class:"ml-2 text-gray-900"},vr={class:"ml-2 text-gray-900"},hr={class:"ml-2 text-gray-900"},wr={class:"ml-2 text-gray-900"},kr={key:0},$r={key:1},_r={class:"mt-4"},Cr={class:"mt-1 text-gray-900"},Vr={class:"mt-4"},Sr={class:"mt-1 text-gray-900"},Nr={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Dr={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Er={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Mr={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ir={class:"sm:flex sm:items-start"},Br={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Ar={class:"mt-2"},Pr={key:0,class:"mt-3 p-3 bg-gray-50 rounded-md"},Ur={class:"text-sm font-medium text-gray-900"},Or={class:"text-sm text-gray-600"},qr={key:0,class:"text-sm text-gray-600"},Fr={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},zr={__name:"ProjectDetailsSection",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:V}){const m=n,N=V,s=G([]),a=G({}),A=T(!1),I=T(null),q=T({}),M=T(!1),S=T(null),h=G({});K(()=>{const $=new Date().getFullYear(),w=[];for(let d=0;d<=5;d++)w.push($-d);return w});const t=()=>{m.readonly||(I.value=null,q.value={},A.value=!0)},g=$=>{m.readonly||(I.value=$,q.value={},A.value=!0)},O=()=>{A.value=!1,I.value=null,q.value={}},i=$=>{const w=D($);if(console.log($),Object.keys(w).length>0){q.value=w;return}if($.id&&s.find(d=>d.id===$.id)){const d=s.findIndex(L=>L.id===$.id);d!==-1&&(s[d]={...$})}else{const d={...$,id:Date.now()};s.push(d)}P(),O()},D=$=>{const w={};return(!$.project_name||$.project_name.trim().length===0)&&(w.project_name="Project name is required"),$.project_type||(w.project_type="Project type is required"),$.status||(w.status="Status is required"),w},Q=$=>{a[$]=!a[$]},re=$=>{m.readonly||(S.value=$,M.value=!0)},J=$=>{if(m.readonly)return;s.splice($,1),Object.keys(h).forEach(d=>{d.startsWith(`projects.${$}.`)&&delete h[d]});const w={};Object.keys(h).forEach(d=>{const L=d.match(/^projects\.(\d+)\.(.+)$/);if(L){const f=parseInt(L[1]),x=L[2];f>$?w[`projects.${f-1}.${x}`]=h[d]:f<$&&(w[d]=h[d])}else w[d]=h[d]}),Object.keys(h).forEach(d=>delete h[d]),Object.assign(h,w),P(),ee()},ee=()=>{M.value=!1,S.value=null},P=()=>{const $=s.map(w=>({...w}));N("update:modelValue",$),N("update",$)},o=()=>{s.splice(0,s.length),m.modelValue&&Array.isArray(m.modelValue)&&m.modelValue.forEach($=>{s.push({...$})}),s.forEach(($,w)=>{a[w]===void 0&&(a[w]=!1)})};Y(()=>m.errors,$=>{Object.keys(h).forEach(w=>delete h[w]),Object.assign(h,$)},{deep:!0}),Y(()=>m.modelValue,o,{deep:!0});const y=$=>$?$.replace("_"," "):"",l=$=>$?$.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase()):"",r=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",R=$=>{const w={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return w[$]||w.pending},ie=$=>{const w={low:"text-gray-600",medium:"text-blue-600",high:"text-orange-600",urgent:"text-red-600"};return w[$]||w.medium},pe=$=>{const w=parseFloat(($==null?void 0:$.estimatedHours)||($==null?void 0:$.estimated_hours)||0),L=parseFloat(($==null?void 0:$.actualHours)||($==null?void 0:$.actual_hours)||0)-w;return L>0?`+${L}h`:`${L}h`},ge=$=>{const w=parseFloat(($==null?void 0:$.estimatedHours)||($==null?void 0:$.estimated_hours)),L=parseFloat(($==null?void 0:$.actualHours)||($==null?void 0:$.actual_hours))-w;return L>0?"text-red-600":L<0?"text-green-600":"text-gray-600"};return be(()=>{o()}),($,w)=>(c(),p(ae,null,[e("div",Zl,[e("div",Wl,[e("div",Kl,[e("div",Gl,[w[2]||(w[2]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Project Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Tax-related projects and their current status")],-1)),e("button",{onClick:t,disabled:n.readonly,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center"},[z(j(ue),{class:"w-4 h-4 mr-2"}),w[1]||(w[1]=F(" Add Project ",-1))],8,Jl)])]),e("div",Xl,[s.length===0?(c(),p("div",Ql,[z(j(Ge),{class:"mx-auto h-12 w-12 text-gray-400"}),w[4]||(w[4]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No projects",-1)),w[5]||(w[5]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first tax project.",-1)),e("div",er,[e("button",{onClick:t,disabled:n.readonly,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none inline-flex items-center"},[z(j(ue),{class:"w-4 h-4 mr-2"}),w[3]||(w[3]=F(" Add Project ",-1))],8,tr)])])):(c(),p("div",sr,[(c(!0),p(ae,null,me(s,(d,L)=>(c(),p("div",{key:d.id||L,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",{class:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:f=>Q(L)},[e("div",lr,[e("div",rr,[e("div",{class:U([R(d==null?void 0:d.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},u(y(d==null?void 0:d.status)),3)]),e("div",null,[e("h3",nr,u((d==null?void 0:d.project_name)||`Project ${L+1}`),1),e("p",ar,[F(u(l(d==null?void 0:d.project_type))+" ",1),d!=null&&d.taxYear||d!=null&&d.tax_year?(c(),p("span",ir," "+u(d.taxYear||d.tax_year),1)):k("",!0),d!=null&&d.dueDate||d!=null&&d.due_date?(c(),p("span",dr," Due: "+u(r(d.dueDate||d.due_date)),1)):k("",!0)])])]),e("div",ur,[e("button",{onClick:oe(f=>g(d),["stop"]),disabled:n.readonly,class:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed"},[...w[6]||(w[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,mr),e("button",{onClick:oe(f=>re(L),["stop"]),disabled:n.readonly,class:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"},[z(j(Ce),{class:"w-4 h-4"})],8,cr),(c(),p("svg",{class:U(["w-5 h-5 text-gray-400 transition-transform",a[L]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...w[7]||(w[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,or),a[L]?(c(),p("div",pr,[e("div",fr,[e("div",null,[w[8]||(w[8]=e("span",{class:"font-medium text-gray-700"},"Priority:",-1)),e("span",{class:U([ie((d==null?void 0:d.priority)||"medium"),"ml-2 capitalize"])},u((d==null?void 0:d.priority)||"Medium"),3)]),e("div",null,[w[9]||(w[9]=e("span",{class:"font-medium text-gray-700"},"Type:",-1)),e("span",br,u(l((d==null?void 0:d.type)||(d==null?void 0:d.project_type))||"Not specified"),1)]),e("div",null,[w[10]||(w[10]=e("span",{class:"font-medium text-gray-700"},"Status:",-1)),e("span",gr,[e("span",{class:U([R(d==null?void 0:d.status),"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize"])},u(y(d==null?void 0:d.status)||"Not specified"),3)])]),e("div",null,[w[11]||(w[11]=e("span",{class:"font-medium text-gray-700"},"Start Date:",-1)),e("span",xr,u(r((d==null?void 0:d.startDate)||(d==null?void 0:d.start_date))||"Not set"),1)]),e("div",null,[w[12]||(w[12]=e("span",{class:"font-medium text-gray-700"},"Due Date:",-1)),e("span",yr,u(r((d==null?void 0:d.dueDate)||(d==null?void 0:d.due_date))||"Not set"),1)]),e("div",null,[w[13]||(w[13]=e("span",{class:"font-medium text-gray-700"},"Completed:",-1)),e("span",vr,u(r((d==null?void 0:d.completionDate)||(d==null?void 0:d.completion_date))||"Not completed"),1)]),e("div",null,[w[14]||(w[14]=e("span",{class:"font-medium text-gray-700"},"Est. Hours:",-1)),e("span",hr,u(d!=null&&d.estimatedHours||d!=null&&d.estimated_hours?`${d.estimatedHours||d.estimated_hours}h`:"Not set"),1)]),e("div",null,[w[15]||(w[15]=e("span",{class:"font-medium text-gray-700"},"Actual Hours:",-1)),e("span",wr,u(d!=null&&d.actualHours||d!=null&&d.actual_hours?`${d.actualHours||d.actual_hours}h`:"Not tracked"),1)]),(d!=null&&d.estimatedHours||d!=null&&d.estimated_hours)&&(d!=null&&d.actualHours||d!=null&&d.actual_hours)?(c(),p("div",kr,[w[16]||(w[16]=e("span",{class:"font-medium text-gray-700"},"Variance:",-1)),e("span",{class:U([ge(d),"ml-2"])},u(pe(d)),3)])):(c(),p("div",$r,[...w[17]||(w[17]=[e("span",{class:"font-medium text-gray-700"},"Variance:",-1),e("span",{class:"ml-2 text-gray-500"},"Not available",-1)])]))]),e("div",_r,[w[18]||(w[18]=e("span",{class:"font-medium text-gray-700"},"Description:",-1)),e("p",Cr,u((d==null?void 0:d.project_description)||"No description provided"),1)]),e("div",Vr,[w[19]||(w[19]=e("span",{class:"font-medium text-gray-700"},"Notes:",-1)),e("p",Sr,u((d==null?void 0:d.notes)||"No notes added"),1)])])):k("",!0)]))),128))]))])])]),z(Yl,{show:A.value,project:I.value,errors:q.value,onClose:O,onSave:i},null,8,["show","project","errors"]),M.value?(c(),p("div",Nr,[e("div",Dr,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:ee}),e("div",Er,[e("div",Mr,[e("div",Ir,[w[22]||(w[22]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",Br,[w[21]||(w[21]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Project ",-1)),e("div",Ar,[w[20]||(w[20]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this project? This action cannot be undone and will permanently remove the project from your records. ",-1)),S.value!==null&&s[S.value]?(c(),p("div",Pr,[e("p",Ur,u(s[S.value].project_name||`Project ${S.value+1}`),1),e("p",Or,u(l(s[S.value].project_type)),1),s[S.value].status?(c(),p("p",qr,"Status: "+u(y(s[S.value].status)),1)):k("",!0)])):k("",!0)])])])]),e("div",Fr,[e("button",{type:"button",onClick:w[0]||(w[0]=d=>J(S.value)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete Project "),e("button",{type:"button",onClick:ee,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):k("",!0)],64))}},Pd=ce(zr,[["__scopeId","data-v-a1e8e94f"]]),Tr={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-start justify-center p-4 pt-8 overflow-y-auto"},Lr={class:"relative w-full max-w-3xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all flex flex-col mb-8"},Hr={class:"bg-gradient-to-r from-slate-50 via-green-50 to-emerald-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},jr={class:"relative flex items-center justify-between"},Rr={class:"flex items-center space-x-3"},Yr={class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-green-900 to-emerald-900 bg-clip-text text-transparent"},Zr={class:"text-sm text-gray-600 font-medium"},Wr={class:"p-8 max-h-[70vh] overflow-y-auto"},Kr={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},Gr={class:"space-y-6"},Jr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xr={class:"space-y-2"},Qr={key:0,class:"mt-1 text-sm text-red-600"},en={class:"space-y-2"},tn={key:0,class:"mt-1 text-sm text-red-600"},sn={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},on={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ln={class:"space-y-2"},rn={key:0,class:"mt-1 text-sm text-red-600"},nn={class:"space-y-2"},an={class:"relative"},dn={key:0,class:"mt-1 text-sm text-red-600"},un={class:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200"},mn={class:"space-y-6"},cn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pn={class:"space-y-2"},fn={class:"relative"},bn={key:0,class:"mt-1 text-sm text-red-600"},gn={class:"space-y-2"},xn={class:"relative"},yn={key:0,class:"mt-1 text-sm text-red-600"},vn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},hn={class:"space-y-2"},wn={class:"relative"},kn={key:0,class:"mt-1 text-sm text-red-600"},$n={class:"space-y-2"},_n={class:"relative"},Cn={key:0,class:"mt-1 text-sm text-red-600"},Vn={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200"},Sn={class:"space-y-2"},Nn={key:0,class:"mt-1 text-sm text-red-600"},Dn={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 bg-white px-8 pb-8"},En={__name:"AssetModal",props:{show:{type:Boolean,default:!1},asset:{type:Object,default:null},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:V}){const m=n,N=V,s=K(()=>m.asset&&m.asset.id),a=G({id:null,asset_name:"",asset_type:"",date_of_purchase:"",percentage_used_in_business:"",cost_of_acquisition:"",any_reimbursement:"",current_value:"",depreciation_rate:"",description:""}),A=()=>{Object.assign(a,{id:null,asset_name:"",asset_type:"",date_of_purchase:"",percentage_used_in_business:"",cost_of_acquisition:"",any_reimbursement:"",current_value:"",depreciation_rate:"",description:""})},I=h=>{if(!h)return"";let t;if(typeof h=="string")t=new Date(h);else if(h instanceof Date)t=h;else return"";return t.toISOString().split("T")[0]},q=()=>{m.asset?Object.assign(a,{id:m.asset.id,asset_name:m.asset.asset_name||"",asset_type:m.asset.asset_type||"",date_of_purchase:I(m.asset.date_of_purchase),percentage_used_in_business:m.asset.percentage_used_in_business||"",cost_of_acquisition:m.asset.cost_of_acquisition||"",any_reimbursement:m.asset.any_reimbursement||"",current_value:m.asset.current_value||"",depreciation_rate:m.asset.depreciation_rate||"",description:m.asset.description||""}):A()},M=()=>{N("save",{...a})},S=()=>{N("close")};return Y(()=>m.show,h=>{h&&q()}),Y(()=>m.asset,q,{deep:!0}),(h,t)=>n.show?(c(),p("div",Tr,[e("div",Lr,[e("div",Hr,[t[11]||(t[11]=e("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-green-100/40 to-transparent rounded-bl-full"},null,-1)),e("div",jr,[e("div",Rr,[t[9]||(t[9]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",null,[e("h3",Yr,u(s.value?"Edit Asset":"Add New Asset"),1),e("p",Zr,u(s.value?"Update asset details and information":"Add a new business or personal asset"),1)])]),e("button",{onClick:S,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Wr,[e("form",{onSubmit:oe(M,["prevent"]),class:"space-y-8"},[e("div",Kr,[t[15]||(t[15]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-blue-900">Basic Information</h4></div>',1)),e("div",Gr,[e("div",Jr,[e("div",Xr,[t[12]||(t[12]=e("label",{for:"asset_name",class:"block text-sm font-semibold text-blue-700"},[F(" Asset Name "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"asset_name","onUpdate:modelValue":t[0]||(t[0]=g=>a.asset_name=g),type:"text",class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter asset name",required:""},null,512),[[B,a.asset_name]]),n.errors.asset_name?(c(),p("p",Qr,u(n.errors.asset_name),1)):k("",!0)]),e("div",en,[t[14]||(t[14]=e("label",{for:"asset_type",class:"block text-sm font-semibold text-blue-700"}," Asset Type ",-1)),C(e("select",{id:"asset_type","onUpdate:modelValue":t[1]||(t[1]=g=>a.asset_type=g),class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900"},[...t[13]||(t[13]=[Z('<option value="">Select asset type</option><option value="equipment">Equipment</option><option value="vehicle">Vehicle</option><option value="furniture">Furniture</option><option value="computer">Computer/Technology</option><option value="machinery">Machinery</option><option value="building">Building</option><option value="land">Land</option><option value="other">Other</option>',9)])],512),[[le,a.asset_type]]),n.errors.asset_type?(c(),p("p",tn,u(n.errors.asset_type),1)):k("",!0)])])])]),e("div",sn,[t[19]||(t[19]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-green-900">Purchase Information</h4></div>',1)),e("div",on,[e("div",ln,[t[16]||(t[16]=e("label",{for:"date_of_purchase",class:"block text-sm font-semibold text-green-700"},[F(" Purchase Date "),e("span",{class:"text-red-500"},"*")],-1)),C(e("input",{id:"date_of_purchase","onUpdate:modelValue":t[2]||(t[2]=g=>a.date_of_purchase=g),type:"date",class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900",required:""},null,512),[[B,a.date_of_purchase]]),n.errors.date_of_purchase?(c(),p("p",rn,u(n.errors.date_of_purchase),1)):k("",!0)]),e("div",nn,[t[18]||(t[18]=e("label",{for:"percentage_used_in_business",class:"block text-sm font-semibold text-green-700"},[F(" Business Use % "),e("span",{class:"text-red-500"},"*")],-1)),e("div",an,[C(e("input",{id:"percentage_used_in_business","onUpdate:modelValue":t[3]||(t[3]=g=>a.percentage_used_in_business=g),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-3 pr-8 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900",placeholder:"0.00",required:""},null,512),[[B,a.percentage_used_in_business]]),t[17]||(t[17]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),n.errors.percentage_used_in_business?(c(),p("p",dn,u(n.errors.percentage_used_in_business),1)):k("",!0)])])]),e("div",un,[t[28]||(t[28]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div><h4 class="text-lg font-bold text-purple-900">Financial Information</h4></div>',1)),e("div",mn,[e("div",cn,[e("div",pn,[t[21]||(t[21]=e("label",{for:"cost_of_acquisition",class:"block text-sm font-semibold text-purple-700"},[F(" Cost of Acquisition "),e("span",{class:"text-red-500"},"*")],-1)),e("div",fn,[t[20]||(t[20]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),C(e("input",{id:"cost_of_acquisition","onUpdate:modelValue":t[4]||(t[4]=g=>a.cost_of_acquisition=g),type:"number",min:"0",step:"0.01",class:"w-full pl-8 pr-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00",required:""},null,512),[[B,a.cost_of_acquisition]])]),n.errors.cost_of_acquisition?(c(),p("p",bn,u(n.errors.cost_of_acquisition),1)):k("",!0)]),e("div",gn,[t[23]||(t[23]=e("label",{for:"any_reimbursement",class:"block text-sm font-semibold text-purple-700"}," Reimbursement ",-1)),e("div",xn,[t[22]||(t[22]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),C(e("input",{id:"any_reimbursement","onUpdate:modelValue":t[5]||(t[5]=g=>a.any_reimbursement=g),type:"number",min:"0",step:"0.01",class:"w-full pl-8 pr-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00"},null,512),[[B,a.any_reimbursement]])]),n.errors.any_reimbursement?(c(),p("p",yn,u(n.errors.any_reimbursement),1)):k("",!0)])]),e("div",vn,[e("div",hn,[t[25]||(t[25]=e("label",{for:"current_value",class:"block text-sm font-semibold text-purple-700"}," Current Value ",-1)),e("div",wn,[t[24]||(t[24]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),C(e("input",{id:"current_value","onUpdate:modelValue":t[6]||(t[6]=g=>a.current_value=g),type:"number",min:"0",step:"0.01",class:"w-full pl-8 pr-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00"},null,512),[[B,a.current_value]])]),n.errors.current_value?(c(),p("p",kn,u(n.errors.current_value),1)):k("",!0)]),e("div",$n,[t[27]||(t[27]=e("label",{for:"depreciation_rate",class:"block text-sm font-semibold text-purple-700"}," Depreciation Rate ",-1)),e("div",_n,[C(e("input",{id:"depreciation_rate","onUpdate:modelValue":t[7]||(t[7]=g=>a.depreciation_rate=g),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-3 pr-8 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00"},null,512),[[B,a.depreciation_rate]]),t[26]||(t[26]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),n.errors.depreciation_rate?(c(),p("p",Cn,u(n.errors.depreciation_rate),1)):k("",!0)])])])]),e("div",Vn,[t[30]||(t[30]=Z('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><h4 class="text-lg font-bold text-gray-900">Additional Details</h4></div>',1)),e("div",Sn,[t[29]||(t[29]=e("label",{for:"description",class:"block text-sm font-semibold text-gray-700"}," Description ",-1)),C(e("textarea",{id:"description","onUpdate:modelValue":t[8]||(t[8]=g=>a.description=g),rows:"3",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Additional details about the asset..."},null,512),[[B,a.description]]),n.errors.description?(c(),p("p",Nn,u(n.errors.description),1)):k("",!0)])])],32)]),e("div",Dn,[e("button",{type:"button",onClick:S,class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),F(" Cancel ",-1)])]),e("button",{type:"button",onClick:M,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[t[32]||(t[32]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),F(" "+u(s.value?"Update":"Add")+" Asset ",1)])])])])):k("",!0)}},Mn={class:"asset-details-section"},In={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Bn={class:"px-6 py-4 border-b border-gray-200"},An={class:"flex items-center justify-between"},Pn=["disabled"],Un={class:"p-6"},On={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},qn={class:"flex"},Fn={class:"flex-shrink-0"},zn={key:0,class:"text-center py-12"},Tn={class:"mt-6"},Ln=["disabled"],Hn={key:1,class:"space-y-4"},jn=["onClick"],Rn={class:"flex items-center space-x-3"},Yn={class:"flex-shrink-0"},Zn={class:"text-lg font-medium text-gray-900"},Wn={class:"text-sm text-gray-500"},Kn={key:0},Gn={key:1},Jn={class:"flex items-center space-x-2"},Xn=["onClick","disabled"],Qn=["onClick","disabled"],ea={key:0,class:"border-t border-gray-200 p-4 bg-gray-50"},ta={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},sa={class:"ml-2 text-gray-900 capitalize"},oa={class:"ml-2 text-gray-900"},la={class:"ml-2 text-gray-900"},ra={class:"ml-2 text-gray-900"},na={class:"ml-2 text-gray-900"},aa={class:"ml-2 text-gray-900"},ia={class:"ml-2 text-gray-900"},da={class:"ml-2 text-gray-900"},ua={class:"ml-2 text-gray-900"},ma={class:"ml-2 text-gray-900"},ca={class:"ml-2 text-gray-900"},pa={key:0},fa={key:1},ba={class:"mt-4"},ga={class:"mt-1 text-gray-900"},xa={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ya={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},va={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ha={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},wa={class:"sm:flex sm:items-start"},ka={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},$a={class:"mt-2"},_a={key:0,class:"mt-3 p-3 bg-gray-50 rounded-md"},Ca={class:"text-sm font-medium text-gray-900"},Va={class:"text-sm text-gray-600"},Sa={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Na={__name:"AssetDetailsSection",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:V}){const m=n,N=V,s=G([]),a=G({}),A=T(!1),I=T(null),q=T({}),M=T(!1),S=T(null),h=G({}),t=f=>!f||f===0?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),g=f=>f?new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",O=f=>f?f.replace("_"," ").replace(/\b\w/g,x=>x.toUpperCase()):"",i=f=>{const x={equipment:"bg-blue-100 text-blue-800",vehicle:"bg-green-100 text-green-800",furniture:"bg-purple-100 text-purple-800",computer:"bg-indigo-100 text-indigo-800",machinery:"bg-orange-100 text-orange-800",building:"bg-red-100 text-red-800",land:"bg-yellow-100 text-yellow-800",other:"bg-gray-100 text-gray-800"};return x[f]||x.other},D=f=>{if(!(f!=null&&f.cost_of_acquisition))return"$0.00";const x=parseFloat(f.cost_of_acquisition),v=parseFloat(f.any_reimbursement||0);return t(x-v)},Q=f=>{if(!(f!=null&&f.cost_of_acquisition)||!(f!=null&&f.percentage_used_in_business))return"$0.00";const x=parseFloat(f.cost_of_acquisition),v=parseFloat(f.percentage_used_in_business)/100;return t(x*v)},re=f=>{if(!(f!=null&&f.cost_of_acquisition)||!(f!=null&&f.percentage_used_in_business))return t((f==null?void 0:f.cost_of_acquisition)||0);const x=parseFloat(f.cost_of_acquisition),v=(100-parseFloat(f.percentage_used_in_business))/100;return t(x*v)},J=f=>{if(!(f!=null&&f.date_of_purchase))return"Unknown";const x=new Date(f.date_of_purchase),v=new Date,H=Math.floor((v-x)/(365.25*24*60*60*1e3)),X=Math.floor((v-x)/(30.44*24*60*60*1e3));return H>0?`${H} year${H!==1?"s":""}`:X>0?`${X} month${X!==1?"s":""}`:"Less than a month"},ee=f=>{if(!(f!=null&&f.current_value)||!(f!=null&&f.cost_of_acquisition))return"N/A";const x=parseFloat(f.current_value),v=parseFloat(f.cost_of_acquisition),H=x-v,X=(H/v*100).toFixed(1);return`${t(H)} (${H>=0?"+":""}${X}%)`},P=f=>{if(!(f!=null&&f.current_value)||!(f!=null&&f.cost_of_acquisition))return"text-gray-600";const x=parseFloat(f.current_value),v=parseFloat(f.cost_of_acquisition);return x>=v?"text-green-600":"text-red-600"},o=()=>{m.readonly||(I.value=null,q.value={},A.value=!0)},y=f=>{m.readonly||(I.value=f,q.value={},A.value=!0)},l=()=>{A.value=!1,I.value=null,q.value={}},r=f=>{const x=R(f);if(Object.keys(x).length>0){q.value=x;return}if(f.id&&s.find(v=>v.id===f.id)){const v=s.findIndex(H=>H.id===f.id);v!==-1&&(s[v]={...f})}else{const v={...f,id:Date.now()};s.push(v)}d(),l()},R=f=>{const x={};return(!f.asset_name||f.asset_name.trim().length===0)&&(x.asset_name="Asset name is required"),f.date_of_purchase||(x.date_of_purchase="Purchase date is required"),!f.percentage_used_in_business&&f.percentage_used_in_business!==0?x.percentage_used_in_business="Business use percentage is required":(f.percentage_used_in_business<0||f.percentage_used_in_business>100)&&(x.percentage_used_in_business="Business use percentage must be between 0 and 100"),(!f.cost_of_acquisition||f.cost_of_acquisition<=0)&&(x.cost_of_acquisition="Cost of acquisition is required and must be greater than 0"),x},ie=f=>{a[f]=!a[f]},pe=f=>{m.readonly||(S.value=f,M.value=!0)},ge=f=>{if(m.readonly)return;s.splice(f,1),Object.keys(h).forEach(v=>{v.startsWith(`assets.${f}.`)&&delete h[v]});const x={};Object.keys(h).forEach(v=>{const H=v.match(/^assets\.(\d+)\.(.+)$/);if(H){const X=parseInt(H[1]),xe=H[2];X>f?x[`assets.${X-1}.${xe}`]=h[v]:X<f&&(x[v]=h[v])}else x[v]=h[v]}),Object.keys(h).forEach(v=>delete h[v]),Object.assign(h,x),d(),$()},$=()=>{M.value=!1,S.value=null},w=f=>{if(!f)return null;try{let x;if(typeof f=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(f))return f;x=new Date(f)}else if(f instanceof Date)x=f;else return null;if(isNaN(x.getTime()))return console.warn("Invalid date provided:",f),null;const v=x.getFullYear(),H=String(x.getMonth()+1).padStart(2,"0"),X=String(x.getDate()).padStart(2,"0");return`${v}-${H}-${X}`}catch(x){return console.error("Error formatting date for backend:",x,f),null}},d=()=>{const f=s.map(x=>({...x,date_of_purchase:w(x.date_of_purchase)}));N("update:modelValue",f),N("update",f)},L=()=>{s.splice(0,s.length),m.modelValue&&Array.isArray(m.modelValue)&&m.modelValue.forEach(f=>{s.push({...f})}),s.forEach((f,x)=>{a[x]===void 0&&(a[x]=!1)})};return Y(()=>m.errors,f=>{Object.keys(h).forEach(x=>delete h[x]),Object.assign(h,f)},{deep:!0}),Y(()=>m.modelValue,L,{deep:!0}),be(()=>{L()}),(f,x)=>(c(),p(ae,null,[e("div",Mn,[e("div",In,[e("div",Bn,[e("div",An,[x[2]||(x[2]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Asset Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Business and personal assets for tax purposes")],-1)),e("button",{onClick:o,disabled:n.readonly,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center"},[z(j(ue),{class:"w-4 h-4 mr-2"}),x[1]||(x[1]=F(" Add Asset ",-1))],8,Pn)])]),e("div",Un,[e("div",On,[e("div",qn,[e("div",Fn,[z(j(_e),{class:"h-5 w-5 text-blue-400"})]),x[3]||(x[3]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Asset Information Guidelines "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Include all business-related assets and equipment"),e("li",null,"Percentage used in business affects tax deductions"),e("li",null,"Keep receipts and documentation for all asset purchases"),e("li",null,"Reimbursements reduce the deductible amount")])])],-1))])]),s.length===0?(c(),p("div",zn,[z(j(Re),{class:"mx-auto h-12 w-12 text-gray-400"}),x[5]||(x[5]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No assets",-1)),x[6]||(x[6]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first business or personal asset.",-1)),e("div",Tn,[e("button",{onClick:o,disabled:n.readonly,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none inline-flex items-center"},[z(j(ue),{class:"w-4 h-4 mr-2"}),x[4]||(x[4]=F(" Add Asset ",-1))],8,Ln)])])):(c(),p("div",Hn,[(c(!0),p(ae,null,me(s,(v,H)=>(c(),p("div",{key:v.id||H,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",{class:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:X=>ie(H)},[e("div",Rn,[e("div",Yn,[e("div",{class:U([i(v==null?void 0:v.asset_type),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},u(O(v==null?void 0:v.asset_type)),3)]),e("div",null,[e("h3",Zn,u((v==null?void 0:v.asset_name)||`Asset ${H+1}`),1),e("p",Wn,[F(u(t(v==null?void 0:v.cost_of_acquisition))+" ",1),v!=null&&v.percentage_used_in_business?(c(),p("span",Kn," "+u(v.percentage_used_in_business)+"% business use",1)):k("",!0),v!=null&&v.date_of_purchase?(c(),p("span",Gn," Purchased "+u(g(v.date_of_purchase)),1)):k("",!0)])])]),e("div",Jn,[e("button",{onClick:oe(X=>y(v),["stop"]),disabled:n.readonly,class:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed"},[...x[7]||(x[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Xn),e("button",{onClick:oe(X=>pe(H),["stop"]),disabled:n.readonly,class:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"},[z(j(Ce),{class:"w-4 h-4"})],8,Qn),(c(),p("svg",{class:U(["w-5 h-5 text-gray-400 transition-transform",a[H]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...x[8]||(x[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,jn),a[H]?(c(),p("div",ea,[e("div",ta,[e("div",null,[x[9]||(x[9]=e("span",{class:"font-medium text-gray-700"},"Type:",-1)),e("span",sa,u(O(v==null?void 0:v.asset_type)||"Not specified"),1)]),e("div",null,[x[10]||(x[10]=e("span",{class:"font-medium text-gray-700"},"Purchase Date:",-1)),e("span",oa,u(g(v==null?void 0:v.date_of_purchase)||"Not set"),1)]),e("div",null,[x[11]||(x[11]=e("span",{class:"font-medium text-gray-700"},"Business Use:",-1)),e("span",la,u((v==null?void 0:v.percentage_used_in_business)||0)+"%",1)]),e("div",null,[x[12]||(x[12]=e("span",{class:"font-medium text-gray-700"},"Acquisition Cost:",-1)),e("span",ra,u(t(v==null?void 0:v.cost_of_acquisition)),1)]),e("div",null,[x[13]||(x[13]=e("span",{class:"font-medium text-gray-700"},"Reimbursement:",-1)),e("span",na,u(t(v==null?void 0:v.any_reimbursement)||"None"),1)]),e("div",null,[x[14]||(x[14]=e("span",{class:"font-medium text-gray-700"},"Net Cost:",-1)),e("span",aa,u(D(v)),1)]),e("div",null,[x[15]||(x[15]=e("span",{class:"font-medium text-gray-700"},"Business Cost:",-1)),e("span",ia,u(Q(v)),1)]),e("div",null,[x[16]||(x[16]=e("span",{class:"font-medium text-gray-700"},"Personal Cost:",-1)),e("span",da,u(re(v)),1)]),e("div",null,[x[17]||(x[17]=e("span",{class:"font-medium text-gray-700"},"Current Value:",-1)),e("span",ua,u(t(v==null?void 0:v.current_value)||"Not set"),1)]),e("div",null,[x[18]||(x[18]=e("span",{class:"font-medium text-gray-700"},"Depreciation Rate:",-1)),e("span",ma,u(v!=null&&v.depreciation_rate?`${v.depreciation_rate}%`:"Not set"),1)]),e("div",null,[x[19]||(x[19]=e("span",{class:"font-medium text-gray-700"},"Age:",-1)),e("span",ca,u(J(v)),1)]),v!=null&&v.current_value&&(v!=null&&v.cost_of_acquisition)?(c(),p("div",pa,[x[20]||(x[20]=e("span",{class:"font-medium text-gray-700"},"Value Change:",-1)),e("span",{class:U([P(v),"ml-2"])},u(ee(v)),3)])):(c(),p("div",fa,[...x[21]||(x[21]=[e("span",{class:"font-medium text-gray-700"},"Value Change:",-1),e("span",{class:"ml-2 text-gray-500"},"Not available",-1)])]))]),e("div",ba,[x[22]||(x[22]=e("span",{class:"font-medium text-gray-700"},"Description:",-1)),e("p",ga,u((v==null?void 0:v.description)||"No description provided"),1)])])):k("",!0)]))),128))]))])])]),z(En,{show:A.value,asset:I.value,errors:q.value,onClose:l,onSave:r},null,8,["show","asset","errors"]),M.value?(c(),p("div",xa,[e("div",ya,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:$}),e("div",va,[e("div",ha,[e("div",wa,[x[25]||(x[25]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",ka,[x[24]||(x[24]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Asset ",-1)),e("div",$a,[x[23]||(x[23]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this asset? This action cannot be undone and will permanently remove the asset from your records. ",-1)),S.value!==null&&s[S.value]?(c(),p("div",_a,[e("p",Ca,u(s[S.value].asset_name),1),e("p",Va,u(t(s[S.value].cost_of_acquisition)),1)])):k("",!0)])])])]),e("div",Sa,[e("button",{type:"button",onClick:x[0]||(x[0]=v=>ge(S.value)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete Asset "),e("button",{type:"button",onClick:$,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):k("",!0)],64))}},Ud=ce(Na,[["__scopeId","data-v-9f03c4b9"]]),Da={class:"expenses-management-section"},Ea={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ma={class:"px-6 py-4 border-b border-gray-200"},Ia={class:"flex items-center justify-between"},Ba={class:"flex items-center space-x-4"},Aa={class:"text-right mr-4"},Pa={class:"text-lg font-semibold text-gray-900"},Ua=["disabled"],Oa={class:"p-6"},qa={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},Fa={class:"flex"},za={class:"flex-shrink-0"},Ta={key:0,class:"text-center py-12"},La={class:"mt-6"},Ha=["disabled"],ja={key:1,class:"space-y-4"},Ra=["onClick"],Ya={class:"flex items-center space-x-3"},Za={class:"flex-shrink-0"},Wa={class:"text-lg font-medium text-gray-900"},Ka={class:"text-sm text-gray-500"},Ga={key:0},Ja={key:1},Xa={class:"flex items-center space-x-2"},Qa=["onClick"],ei=["onClick","disabled"],ti=["onClick","disabled"],si={class:"px-4 pb-4 border-t border-gray-100"},oi={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"},li={class:"ml-2 text-gray-900"},ri={class:"ml-2 text-gray-900"},ni={class:"ml-2 text-gray-900"},ai={class:"ml-2 text-gray-900"},ii={key:0},di={class:"ml-2 text-gray-900"},ui={key:1},mi={class:"ml-2 text-gray-900"},ci={key:2},pi={class:"ml-2 text-gray-900"},fi={key:0,class:"mt-4"},bi={class:"mt-1 text-gray-900"},gi={key:2,class:"mt-6 text-center"},xi=["disabled"],yi={key:3,class:"mt-6 bg-white rounded-lg border border-gray-200 shadow-sm"},vi={class:"p-6"},hi={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},wi={class:"flex flex-col items-center"},ki={class:"relative w-80 h-80"},$i=["id"],_i={class:"mt-4 text-center"},Ci={class:"text-2xl font-bold text-gray-900"},Vi={class:"space-y-6"},Si={class:"grid grid-cols-2 gap-4"},Ni={class:"bg-blue-50 rounded-lg p-4 text-center"},Di={class:"text-2xl font-bold text-blue-600"},Ei={class:"bg-green-50 rounded-lg p-4 text-center"},Mi={class:"text-2xl font-bold text-green-600"},Ii={class:"space-y-3"},Bi={class:"flex items-center space-x-3"},Ai={class:"font-medium text-gray-900"},Pi={class:"text-sm text-gray-500"},Ui={class:"text-right"},Oi={class:"font-semibold text-gray-900"},qi={class:"text-sm text-gray-500"},Fi={key:0},zi={class:"space-y-3"},Ti={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-lg"},Li={class:"flex items-center space-x-3"},Hi={class:"text-right"},ji={class:"font-semibold text-blue-900"},Ri={class:"text-sm text-blue-700"},Yi={key:1,class:"flex items-center justify-between p-3 bg-purple-50 rounded-lg"},Zi={class:"flex items-center space-x-3"},Wi={class:"text-right"},Ki={class:"font-semibold text-purple-900"},Gi={class:"text-sm text-purple-700"},Ji={key:1},Xi={class:"space-y-3"},Qi={key:0,class:"flex items-center justify-between p-3 bg-green-50 rounded-lg"},ed={class:"text-right"},td={class:"font-semibold text-green-900"},sd={class:"text-sm text-green-700"},od={key:1,class:"flex items-center justify-between p-3 bg-red-50 rounded-lg"},ld={class:"text-right"},rd={class:"font-semibold text-red-900"},nd={class:"text-sm text-red-700"},ad={key:4,class:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4"},id={class:"flex"},dd={class:"flex-shrink-0"},ud={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},md={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},cd={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},pd={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},fd={class:"sm:flex sm:items-start"},bd={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},gd={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},xd={class:"mt-2"},yd={key:0,class:"mt-3 p-3 bg-gray-50 rounded-md"},vd={class:"text-sm font-medium text-gray-900"},hd={class:"text-sm text-gray-500"},wd={__name:"ExpensesManagementSection",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:V}){const m=n,N=V,s=G([]),a=T(""),A=G({}),I=G({}),q=T(!1),M=T(!1),S=T(null),h=T({}),t=T(!1),g=T(null),O=T(null);let i=null;const D=["#3B82F6","#EF4444","#10B981","#8B5CF6","#F59E0B","#EC4899","#6366F1","#84CC16","#F97316","#06B6D4"],Q=[{key:"category",label:"Category",type:"select",required:!0,placeholder:"Select category",options:[{value:"miscellaneous",label:"Miscellaneous"},{value:"residency",label:"Residency"},{value:"business",label:"Business"},{value:"medical",label:"Medical"},{value:"education",label:"Education"},{value:"charitable",label:"Charitable"},{value:"travel",label:"Travel"},{value:"office",label:"Office Supplies"},{value:"professional",label:"Professional Services"},{value:"other",label:"Other"}]},{key:"particulars",label:"Particulars",type:"text",required:!0,placeholder:"Describe the expense",maxLength:200},{key:"date",label:"Date",type:"date",required:!0},{key:"amount",label:"Amount",type:"currency",required:!0,placeholder:"0.00",validate:_=>_&&(isNaN(_)||parseFloat(_)<=0)?"Amount must be a positive number":null},{key:"taxPayer",label:"Taxpayer",type:"text",placeholder:"Taxpayer name",maxLength:100},{key:"spouse",label:"Spouse",type:"text",placeholder:"Spouse name (if applicable)",maxLength:100},{key:"receiptNumber",label:"Receipt Number",type:"text",placeholder:"Receipt/Invoice number",maxLength:255},{key:"deductiblePercentage",label:"Deductible %",type:"percentage",placeholder:"0-100",validate:_=>_&&(isNaN(_)||parseFloat(_)<0||parseFloat(_)>100)?"Percentage must be between 0 and 100":null},{key:"remarks",label:"Remarks",type:"textarea",placeholder:"Additional notes or comments...",rows:2}],re=K(()=>a.value?s.filter(_=>_.category===a.value):s),J=K(()=>s.reduce((_,b)=>_+(parseFloat(b.amount)||0),0)),ee=K(()=>s.reduce((_,b)=>b.taxPayer&&b.taxPayer.trim()?_+(parseFloat(b.amount)||0):_,0)),P=K(()=>s.reduce((_,b)=>b.spouse&&b.spouse.trim()?_+(parseFloat(b.amount)||0):_,0)),o=K(()=>{const _={};return s.forEach(b=>{var E,te;const W=b.category||"other",ne=((te=(E=Q.find(se=>se.key==="category"))==null?void 0:E.options.find(se=>se.value===W))==null?void 0:te.label)||"Other";_[W]||(_[W]={name:ne,count:0,amount:0}),_[W].count++,_[W].amount+=parseFloat(b.amount)||0}),Object.values(_).sort((b,W)=>W.amount-b.amount)}),y=K(()=>s.reduce((_,b)=>{const W=parseFloat(b.amount)||0,ne=parseFloat(b.deductible_percentage)||0;return _+W*(ne/100)},0)),l=K(()=>J.value-y.value),r=K(()=>o.value.length===0?null:{labels:o.value.map(_=>_.name),datasets:[{data:o.value.map(_=>_.amount),backgroundColor:D.slice(0,o.value.length),borderWidth:2,borderColor:"#ffffff",hoverBorderWidth:3,hoverBorderColor:"#ffffff"}]}),R=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_||0),ie=_=>_?new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",pe=_=>_?_.replace("_"," ").replace(/\b\w/g,b=>b.toUpperCase()):"",ge=_=>({business:"bg-blue-100 text-blue-800",medical:"bg-red-100 text-red-800",education:"bg-green-100 text-green-800",charitable:"bg-purple-100 text-purple-800",travel:"bg-yellow-100 text-yellow-800",office:"bg-indigo-100 text-indigo-800",professional:"bg-pink-100 text-pink-800",miscellaneous:"bg-gray-100 text-gray-800",residency:"bg-orange-100 text-orange-800"})[_]||"bg-gray-100 text-gray-800",$=_=>{A[_]=!A[_]},w=()=>{},d=(_=null)=>{S.value=_,h.value={},q.value=!0},L=()=>{q.value=!1,S.value=null,h.value={}},f=_=>{S.value=_,M.value=!0},x=()=>{M.value=!1,S.value=null},v=_=>{x(),d(_)},H=_=>{const b=qe(_);if(Object.keys(b).length>0){h.value=b;return}if(_.id){const W=s.findIndex(ne=>ne.id===_.id);W!==-1&&(s[W]={..._})}else{const W={..._,id:Date.now()};s.push(W)}N("update:modelValue",[...s]),N("update",[...s]),setTimeout(()=>{ye()},50),L()},X=_=>{g.value={expense:s[_],index:_},t.value=!0},xe=()=>{t.value=!1,g.value=null},Oe=()=>{g.value&&(s.splice(g.value.index,1),N("update:modelValue",[...s]),N("update",[...s]),setTimeout(()=>{ye()},50)),xe()},qe=_=>{const b={};return _.category||(b.category="Category is required"),(!_.particulars||_.particulars.trim().length===0)&&(b.particulars="Description is required"),_.date||(b.date="Date is required"),(!_.amount||parseFloat(_.amount)<=0)&&(b.amount="Amount must be greater than 0"),_.taxPayer||(b.taxPayer="Tax payer is required"),b},he=async()=>{if(!(!O.value||!r.value||r.value.datasets[0].data.length===0))try{const{Chart:_,ArcElement:b,Tooltip:W,Legend:ne,DoughnutController:E}=await je(async()=>{const{Chart:se,ArcElement:we,Tooltip:ve,Legend:ke,DoughnutController:$e}=await import("./chart-B6x78Jwj.js");return{Chart:se,ArcElement:we,Tooltip:ve,Legend:ke,DoughnutController:$e}},[]);_.register(b,W,ne,E);const te=O.value.getContext("2d");i&&(i.destroy(),i=null),i=new _(te,{type:"doughnut",data:r.value,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(se){const we=se.label||"",ve=se.parsed,ke=se.dataset.data.reduce((Fe,ze)=>Fe+ze,0),$e=(ve/ke*100).toFixed(1);return`${we}: ${R(ve)} (${$e}%)`}},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#ffffff",borderWidth:1}},cutout:"60%",animation:{animateRotate:!0,duration:1e3}}})}catch(_){console.error("Error initializing chart:",_)}},ye=async()=>{if(!r.value||r.value.datasets[0].data.length===0){i&&(i.destroy(),i=null);return}if(i&&i.canvas)try{i.data=r.value,i.update("active")}catch(_){console.error("Error updating chart:",_),i&&(i.destroy(),i=null),await de(),he()}else await de(),he()},Ve=()=>{s.splice(0,s.length),m.modelValue&&Array.isArray(m.modelValue)&&s.push(...m.modelValue.map(_=>({..._})))};return Y(()=>m.errors,_=>{Object.keys(I).forEach(b=>delete I[b]),Object.assign(I,_)},{deep:!0}),Y(()=>m.modelValue,async()=>{Ve(),await de(),ye()},{deep:!0}),Y(r,async()=>{await de(),ye()},{deep:!0}),be(async()=>{Ve(),await de(),s.length>0&&setTimeout(()=>{he()},100)}),Te(()=>{i&&(i.destroy(),i=null)}),(_,b)=>{var W,ne;return c(),p("div",Da,[e("div",Ea,[e("div",Ma,[e("div",Ia,[b[7]||(b[7]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Expense Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Add and manage your deductible expenses")],-1)),e("div",Ba,[C(e("select",{"onUpdate:modelValue":b[0]||(b[0]=E=>a.value=E),class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900",onChange:w},[...b[4]||(b[4]=[Z('<option value="" data-v-37062d15>All Categories</option><option value="miscellaneous" data-v-37062d15>Miscellaneous</option><option value="residency" data-v-37062d15>Residency</option><option value="business" data-v-37062d15>Business</option><option value="medical" data-v-37062d15>Medical</option><option value="education" data-v-37062d15>Education</option><option value="charitable" data-v-37062d15>Charitable</option>',7)])],544),[[le,a.value]]),e("div",Aa,[b[5]||(b[5]=e("p",{class:"text-sm text-gray-500"},"Total Expenses",-1)),e("p",Pa,u(R(J.value)),1)]),e("button",{onClick:b[1]||(b[1]=E=>d()),disabled:n.readonly,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[z(j(ue),{class:"w-4 h-4 mr-1"}),b[6]||(b[6]=F(" Add Expense ",-1))],8,Ua)])])]),e("div",Oa,[e("div",qa,[e("div",Fa,[e("div",za,[z(j(_e),{class:"h-5 w-5 text-blue-400"})]),b[8]||(b[8]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Expense Information Guidelines "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Keep detailed records and receipts for all business expenses"),e("li",null,"Separate personal and business expenses for accurate deductions"),e("li",null,"Include both taxpayer and spouse expenses when applicable"),e("li",null,"Categorize expenses properly for maximum tax benefits")])])],-1))])]),s.length===0?(c(),p("div",Ta,[z(j(Ze),{class:"mx-auto h-12 w-12 text-gray-400"}),b[10]||(b[10]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No expenses",-1)),b[11]||(b[11]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first deductible expense.",-1)),e("div",La,[e("button",{onClick:b[2]||(b[2]=E=>d()),disabled:n.readonly,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[z(j(ue),{class:"w-4 h-4 mr-2"}),b[9]||(b[9]=F(" Add Expense ",-1))],8,Ha)])])):(c(),p("div",ja,[(c(!0),p(ae,null,me(re.value,(E,te)=>(c(),p("div",{key:E.id||te,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",{class:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:se=>$(te)},[e("div",Ya,[e("div",Za,[e("div",{class:U([ge(E==null?void 0:E.category),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},u(pe(E==null?void 0:E.category)),3)]),e("div",null,[e("h3",Wa,u((E==null?void 0:E.particulars)||`Expense ${te+1}`),1),e("p",Ka,[F(u(R(E==null?void 0:E.amount))+" ",1),E!=null&&E.tax_payer?(c(),p("span",Ga," "+u(E.tax_payer),1)):k("",!0),E!=null&&E.expense_date?(c(),p("span",Ja," "+u(ie(E.expense_date)),1)):k("",!0)])])]),e("div",Xa,[e("button",{onClick:oe(se=>f(E),["stop"]),class:"text-blue-600 hover:text-blue-800"},[...b[12]||(b[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Qa),e("button",{onClick:oe(se=>d(E),["stop"]),disabled:n.readonly,class:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed"},[...b[13]||(b[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ei),e("button",{onClick:oe(se=>X(te),["stop"]),disabled:n.readonly,class:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"},[z(j(Ce),{class:"w-4 h-4"})],8,ti),(c(),p("svg",{class:U(["w-5 h-5 text-gray-400 transition-transform",A[te]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...b[14]||(b[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,Ra),C(e("div",si,[e("div",oi,[e("div",null,[b[15]||(b[15]=e("span",{class:"font-medium text-gray-700"},"Category:",-1)),e("span",li,u(pe(E==null?void 0:E.category)||"Not set"),1)]),e("div",null,[b[16]||(b[16]=e("span",{class:"font-medium text-gray-700"},"Amount:",-1)),e("span",ri,u(R(E==null?void 0:E.amount)||"Not set"),1)]),e("div",null,[b[17]||(b[17]=e("span",{class:"font-medium text-gray-700"},"Date:",-1)),e("span",ni,u(ie(E==null?void 0:E.expense_date)||"Not set"),1)]),e("div",null,[b[18]||(b[18]=e("span",{class:"font-medium text-gray-700"},"Taxpayer:",-1)),e("span",ai,u((E==null?void 0:E.tax_payer)||"Not set"),1)]),E!=null&&E.spouse?(c(),p("div",ii,[b[19]||(b[19]=e("span",{class:"font-medium text-gray-700"},"Spouse:",-1)),e("span",di,u(E.spouse),1)])):k("",!0),E!=null&&E.deductible_percentage?(c(),p("div",ui,[b[20]||(b[20]=e("span",{class:"font-medium text-gray-700"},"Deductible:",-1)),e("span",mi,u(E.deductible_percentage)+"%",1)])):k("",!0),E!=null&&E.receipt_number?(c(),p("div",ci,[b[21]||(b[21]=e("span",{class:"font-medium text-gray-700"},"Receipt #:",-1)),e("span",pi,u(E.receipt_number),1)])):k("",!0)]),E!=null&&E.remarks?(c(),p("div",fi,[b[22]||(b[22]=e("span",{class:"font-medium text-gray-700"},"Remarks:",-1)),e("p",bi,u(E.remarks),1)])):k("",!0)],512),[[Le,A[te]]])]))),128))])),s.length>0?(c(),p("div",gi,[e("button",{onClick:b[3]||(b[3]=E=>d()),disabled:n.readonly,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[z(j(ue),{class:"w-4 h-4 mr-2"}),b[23]||(b[23]=F(" Add Another Expense ",-1))],8,xi)])):k("",!0),s.length>0?(c(),p("div",yi,[b[34]||(b[34]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Expense Analytics"),e("p",{class:"text-sm text-gray-600 mt-1"},"Visual breakdown of your expenses by category")],-1)),e("div",vi,[e("div",hi,[e("div",wi,[e("div",ki,[e("canvas",{ref_key:"pieChartCanvas",ref:O,id:`expense-chart-${Math.random().toString(36).substr(2,9)}`,class:"max-w-full max-h-full"},null,8,$i)]),e("div",_i,[e("p",Ci,u(R(J.value)),1),b[24]||(b[24]=e("p",{class:"text-sm text-gray-500"},"Total Expenses",-1))])]),e("div",Vi,[e("div",Si,[e("div",Ni,[e("div",Di,u(s.length),1),b[25]||(b[25]=e("div",{class:"text-sm text-blue-800"},"Total Expenses",-1))]),e("div",Ei,[e("div",Mi,u(o.value.length),1),b[26]||(b[26]=e("div",{class:"text-sm text-green-800"},"Categories",-1))])]),e("div",null,[b[27]||(b[27]=e("h4",{class:"text-md font-semibold text-gray-900 mb-4"},"Category Breakdown",-1)),e("div",Ii,[(c(!0),p(ae,null,me(o.value,(E,te)=>(c(),p("div",{key:E.name,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",Bi,[e("div",{class:"w-4 h-4 rounded-full",style:He({backgroundColor:D[te%D.length]})},null,4),e("div",null,[e("p",Ai,u(E.name),1),e("p",Pi,u(E.count)+" expense"+u(E.count!==1?"s":""),1)])]),e("div",Ui,[e("p",Oi,u(R(E.amount)),1),e("p",qi,u((E.amount/J.value*100).toFixed(1))+"%",1)])]))),128))])]),ee.value>0||P.value>0?(c(),p("div",Fi,[b[30]||(b[30]=e("h4",{class:"text-md font-semibold text-gray-900 mb-4"},"Taxpayer vs Spouse",-1)),e("div",zi,[ee.value>0?(c(),p("div",Ti,[e("div",Li,[z(j(Ke),{class:"w-5 h-5 text-blue-600"}),b[28]||(b[28]=e("span",{class:"font-medium text-blue-900"},"Taxpayer",-1))]),e("div",Hi,[e("p",ji,u(R(ee.value)),1),e("p",Ri,u((ee.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0),P.value>0?(c(),p("div",Yi,[e("div",Zi,[z(j(We),{class:"w-5 h-5 text-purple-600"}),b[29]||(b[29]=e("span",{class:"font-medium text-purple-900"},"Spouse",-1))]),e("div",Wi,[e("p",Ki,u(R(P.value)),1),e("p",Gi,u((P.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0)])])):k("",!0),y.value>0||l.value>0?(c(),p("div",Ji,[b[33]||(b[33]=e("h4",{class:"text-md font-semibold text-gray-900 mb-4"},"Tax Deductibility",-1)),e("div",Xi,[y.value>0?(c(),p("div",Qi,[b[31]||(b[31]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-green-500 rounded-full"}),e("span",{class:"font-medium text-green-900"},"Deductible")],-1)),e("div",ed,[e("p",td,u(R(y.value)),1),e("p",sd,u((y.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0),l.value>0?(c(),p("div",od,[b[32]||(b[32]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-red-500 rounded-full"}),e("span",{class:"font-medium text-red-900"},"Non-Deductible")],-1)),e("div",ld,[e("p",rd,u(R(l.value)),1),e("p",nd,u((l.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0)])])):k("",!0)])])])])):k("",!0),s.length>0?(c(),p("div",ad,[e("div",id,[e("div",dd,[z(j(Ne),{class:"h-5 w-5 text-blue-400"})]),b[35]||(b[35]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Tax Deduction Information "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Business expenses are generally fully deductible"),e("li",null,"Personal expenses may have limitations or require itemization"),e("li",null,"Medical expenses must exceed 7.5% of AGI to be deductible"),e("li",null,"Charitable contributions have specific documentation requirements"),e("li",null,"Consult with your tax professional for specific deduction rules")])])],-1))])])):k("",!0)])]),z(Pe,{show:q.value,expense:S.value,errors:h.value,onClose:L,onSave:H},null,8,["show","expense","errors"]),z(Ue,{show:M.value,expense:S.value,onClose:x,onEdit:v},null,8,["show","expense"]),t.value?(c(),p("div",ud,[e("div",md,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:xe}),e("div",cd,[e("div",pd,[e("div",fd,[e("div",bd,[z(j(Ne),{class:"h-6 w-6 text-red-600"})]),e("div",gd,[b[37]||(b[37]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Expense ",-1)),e("div",xd,[b[36]||(b[36]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this expense? This action cannot be undone. ",-1)),g.value?(c(),p("div",yd,[e("p",vd,u((W=g.value.expense)==null?void 0:W.particulars),1),e("p",hd,u(R((ne=g.value.expense)==null?void 0:ne.amount)),1)])):k("",!0)])])])]),e("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[e("button",{type:"button",onClick:Oe,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete "),e("button",{type:"button",onClick:xe,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):k("",!0)])}}},Od=ce(wd,[["__scopeId","data-v-37062d15"]]);export{Ud as A,Ad as E,Id as P,Bd as S,Md as a,Pd as b,Od as c,Je as d,Ge as r};
