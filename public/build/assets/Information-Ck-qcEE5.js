import{c as n,a as e,o as l,l as j,f as g,d as $,u as i,t as f,F as P,r as O,e as R,p as h,T as J,q as W,z as xe,s as Q,A as ye,b as C,w as L,x as ee,n as te,g as he,h as Y,D as we,j as _e,v as ke}from"./app-GRZgmf8C.js";import{_ as Se,A as $e}from"./AppLayout-BbOvuLl0.js";import{r as Ce,a as De,P as je,S as Ae,E as Ee,b as Me,A as Ne,c as Te,d as Re}from"./ExpensesManagementSection-Bs-tBu5w.js";import{r as K}from"./ExclamationTriangleIcon-C5BvAH-_.js";import{r as se}from"./XMarkIcon-LRaEmfZK.js";import{r as Ue}from"./UserIcon-Bd0yqKCN.js";import{r as Ve}from"./ReceiptRefundIcon-BOtPKrwy.js";import{r as Pe}from"./BriefcaseIcon-RRw0vWO_.js";import{r as Oe}from"./CurrencyDollarIcon-Du9R_KJS.js";import{r as re}from"./CheckCircleIcon-D01D_lHT.js";import"./EyeIcon-DviHvIxU.js";import"./InformationCircleIcon-USICMEpg.js";import"./PlusIcon-J3srIKxR.js";import"./TrashIcon-Csepx0fN.js";function Fe(m,b){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const qe={key:0,class:"error-display"},Be={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},Ie={class:"flex items-start"},Le={class:"flex-shrink-0"},ze={class:"ml-3 flex-1"},He={class:"text-sm font-medium text-red-800"},We={class:"mt-2 text-sm text-red-700"},Ye={key:0,class:"mt-3"},Ke={class:"mt-1 list-disc list-inside space-y-1"},Ge={class:"font-medium"},Xe={key:1,class:"mt-3"},Ze={class:"mt-1 list-disc list-inside space-y-1"},Je={key:0,class:"mt-4"},Qe={key:0,class:"mt-2 bg-red-100 rounded p-3 text-xs font-mono"},et={class:"space-y-2"},tt={key:0},st={key:1},rt={key:2},ot={key:3},lt={key:1,class:"mt-4 p-3 bg-blue-50 rounded border border-blue-200"},at={class:"text-sm text-blue-800"},nt={class:"bg-blue-100 px-1 py-0.5 rounded text-xs font-mono"},it={class:"mt-2 flex space-x-2"},dt={class:"flex-shrink-0 ml-4"},ut={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},ct={class:"flex items-center"},mt={class:"text-sm text-red-700"},pt={__name:"ErrorDisplay",props:{error:{type:[Object,String],default:null},showDetails:{type:Boolean,default:!0}},emits:["close","report"],setup(m,{emit:b}){const u=m,x=b,D=j(!1),A=j(!1),M=()=>{D.value=!D.value},w=v=>v.replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,c=>c.toUpperCase()).trim(),o=v=>{try{return new Date(v).toLocaleString()}catch{return v}},N=async()=>{var v;if((v=u.error)!=null&&v.error_id)try{await navigator.clipboard.writeText(u.error.error_id),A.value=!0,setTimeout(()=>{A.value=!1},2e3)}catch(c){console.error("Failed to copy error ID:",c)}},z=()=>{var k,y,F,U,q,B,I;const v={error_id:(k=u.error)==null?void 0:k.error_id,error_code:(y=u.error)==null?void 0:y.code,timestamp:(F=u.error)==null?void 0:F.timestamp,user_agent:navigator.userAgent,url:window.location.href};x("report",v);const c=encodeURIComponent(`Error Report - ${((U=u.error)==null?void 0:U.code)||"Unknown Error"}`),_=encodeURIComponent(`Error ID: ${(q=u.error)==null?void 0:q.error_id}
Error Code: ${(B=u.error)==null?void 0:B.code}
Timestamp: ${(I=u.error)==null?void 0:I.timestamp}
URL: ${window.location.href}

Please describe what you were doing when this error occurred:

`);window.open(`mailto:support@mysupertax.com?subject=${c}&body=${_}`)};return(v,c)=>m.error?(l(),n("div",qe,[m.error.code&&m.error.code.startsWith("ERR_")?(l(),n("div",Be,[e("div",Ie,[e("div",Le,[$(i(K),{class:"h-5 w-5 text-red-400"})]),e("div",ze,[e("h3",He,f(m.error.title||"Error Occurred"),1),e("div",We,[e("p",null,f(m.error.message),1),m.error.validation_errors?(l(),n("div",Ye,[c[2]||(c[2]=e("p",{class:"font-medium"},"Please correct the following:",-1)),e("ul",Ke,[(l(!0),n(P,null,O(m.error.validation_errors,(_,k)=>(l(),n("li",{key:k},[e("span",Ge,f(w(k))+":",1),R(" "+f(Array.isArray(_)?_[0]:_),1)]))),128))])])):g("",!0),m.error.suggestions&&m.error.suggestions.length>0?(l(),n("div",Xe,[c[3]||(c[3]=e("p",{class:"font-medium"},"Suggested actions:",-1)),e("ul",Ze,[(l(!0),n(P,null,O(m.error.suggestions,_=>(l(),n("li",{key:_},f(_),1))),128))])])):g("",!0)]),m.showDetails?(l(),n("div",Je,[e("button",{onClick:M,class:"text-sm text-red-600 hover:text-red-500 font-medium flex items-center"},[e("span",null,f(D.value?"Hide":"Show")+" Technical Details",1),$(i(Fe),{class:h(["ml-1 h-4 w-4 transition-transform",D.value?"rotate-180":""])},null,8,["class"])]),D.value?(l(),n("div",Qe,[e("div",et,[m.error.error_id?(l(),n("div",tt,[c[4]||(c[4]=e("span",{class:"font-semibold"},"Error ID:",-1)),R(" "+f(m.error.error_id),1)])):g("",!0),m.error.code?(l(),n("div",st,[c[5]||(c[5]=e("span",{class:"font-semibold"},"Error Code:",-1)),R(" "+f(m.error.code),1)])):g("",!0),m.error.timestamp?(l(),n("div",rt,[c[6]||(c[6]=e("span",{class:"font-semibold"},"Timestamp:",-1)),R(" "+f(o(m.error.timestamp)),1)])):g("",!0),m.error.details&&m.error.details.debug_message?(l(),n("div",ot,[c[7]||(c[7]=e("span",{class:"font-semibold"},"Debug:",-1)),R(" "+f(m.error.details.debug_message),1)])):g("",!0)])])):g("",!0)])):g("",!0),m.error.error_id?(l(),n("div",lt,[e("p",at,[c[8]||(c[8]=e("strong",null,"Need help?",-1)),c[9]||(c[9]=R(" Contact support and provide this error ID: ",-1)),e("code",nt,f(m.error.error_id),1)]),e("div",it,[e("button",{onClick:N,class:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700"},f(A.value?"Copied!":"Copy Error ID"),1),e("button",{onClick:z,class:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700"}," Report Issue ")])])):g("",!0)]),e("div",dt,[e("button",{onClick:c[0]||(c[0]=_=>v.$emit("close")),class:"text-red-400 hover:text-red-600"},[$(i(se),{class:"h-5 w-5"})])])])])):(l(),n("div",ut,[e("div",ct,[$(i(K),{class:"h-5 w-5 text-red-400 mr-3"}),e("p",mt,f(m.error.message||m.error),1),e("button",{onClick:c[1]||(c[1]=_=>v.$emit("close")),class:"ml-auto text-red-400 hover:text-red-600"},[$(i(se),{class:"h-5 w-5"})])])]))])):g("",!0)}},gt=Se(pt,[["__scopeId","data-v-64e97f4b"]]),ft={class:"relative overflow-hidden"},bt={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},vt={class:"flex items-center space-x-4"},xt={class:"flex items-center space-x-4 mt-3"},yt={class:"flex items-center space-x-2"},ht={class:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},wt={class:"max-w-7xl mx-auto"},_t={class:"flex items-center"},kt={class:"text-sm text-red-700"},St={class:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200 mb-6 p-2 rounded-t-lg"},$t={class:"flex space-x-2","aria-label":"Tabs"},Ct=["onClick"],Dt={class:"flex items-center justify-center space-x-2"},jt={class:"font-medium"},At={key:0,class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},Et={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},Mt={class:"lg:col-span-3"},Nt={class:"p-6"},Tt={class:"lg:col-span-1"},Rt={class:"bg-white shadow rounded-lg p-6 sticky top-6"},Ut={class:"mb-6"},Vt={class:"flex items-center justify-between mb-2"},Pt={class:"text-sm text-gray-500"},Ot={class:"w-full bg-gray-200 rounded-full h-2"},Ft={class:"space-y-3 mb-6"},qt=["onClick"],Bt={class:"flex items-center space-x-3"},It={class:"flex items-center space-x-2"},Lt={class:"w-8 h-2 bg-gray-200 rounded-full"},zt={key:1,class:"w-2 h-2 bg-green-500 rounded-full"},Ht={key:2,class:"w-2 h-2 bg-amber-500 rounded-full"},Wt={key:3,class:"w-2 h-2 bg-gray-300 rounded-full"},Yt={class:"space-y-3"},Kt=["disabled"],Gt=["disabled"],Xt={key:0,class:"text-xs text-gray-500 mt-1 text-center"},Zt={class:"mt-6 p-4 bg-blue-50 rounded-lg"},Jt={key:0,class:"mb-3 p-2 bg-blue-100 rounded text-xs text-blue-800"},Qt={class:"space-y-2"},es={key:0,class:"mt-4 p-4 bg-green-50 rounded-lg"},ts={class:"flex items-center"},ss={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},rs={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},os={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ls={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},as={class:"sm:flex sm:items-start"},ns={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},is={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ds={class:"text-lg leading-6 font-medium text-gray-900"},us={class:"mt-2"},cs={class:"text-sm text-gray-500 mb-4"},ms={key:0,class:"text-sm text-gray-700 space-y-2"},ps={key:1,class:"text-sm text-gray-700 space-y-2"},gs={key:2,class:"text-sm text-gray-700 space-y-2"},fs={key:3,class:"text-sm text-gray-700"},bs={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},vs={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},xs={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ys={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},hs={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ws={class:"sm:flex sm:items-start"},_s={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},ks={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Ss={class:"mt-4 space-y-4"},$s={class:"space-y-2"},Cs=["value"],Ds={class:"ml-2 text-sm text-gray-700"},js={key:0,class:"ml-2 text-xs text-blue-600"},As={key:1,class:"ml-2 text-xs text-green-600"},Es={key:2,class:"ml-2 text-xs text-yellow-600"},Ms={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ns=["disabled"],Ys={__name:"Information",props:{clientData:{type:Object,default:()=>({})},visaStatusOptions:{type:Array,default:()=>[]}},setup(m){const b=m,u=j("personal"),x=j("idle"),D=j(null),A=j(!1),M=j(!1),w=J({sections:[],message:"",priority:"normal"}),o=J({personal:{firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",maritalStatus:"single",occupation:"",insuranceCovered:!1,streetNo:"",apartmentNo:"",zipCode:"",city:"",state:"",country:"United States",mobileNumber:"",workNumber:"",visaStatus:"",dateOfEntryUs:""},spouse:{firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",occupation:""},employee:[{}],projects:[],assets:[],expenses:[]}),N=W(()=>[{id:"personal",name:"Personal Details",icon:Ue},{id:"spouse",name:"Spouse Details",icon:Ve},{id:"employee",name:"Employment",icon:Pe},{id:"projects",name:"Projects",icon:Ce},{id:"assets",name:"Assets",icon:Oe},{id:"expenses",name:"Expenses",icon:De}]),z=[{id:"personal",name:"Personal Details"},{id:"spouse",name:"Spouse Details"},{id:"employee",name:"Employment"},{id:"projects",name:"Projects"},{id:"assets",name:"Assets"},{id:"expenses",name:"Expenses"}],v=j(null),c=j(!1),_=W(()=>{var s;switch(x.value){case"saving":return"Saving...";case"saved":return"All changes saved";case"error":return((s=v.value)==null?void 0:s.message)||"Save failed - click for details";default:return"Auto-save enabled"}}),k=W(()=>{const s=N.value.map(a=>y(a.id)).filter(a=>a!==null),t=s.reduce((a,p)=>a+p,0);return s.length>0?t/s.length:0}),y=s=>{switch(s){case"personal":return ge();case"spouse":return fe();case"employee":return be();case"projects":return null;case"assets":return null;case"expenses":return null;default:return 0}},F=s=>{const t=y(s);return t===null?U(s):t===100?"bg-green-500":t>0?"bg-amber-500":"bg-gray-300"},U=s=>({personal:"bg-blue-500",spouse:"bg-rose-500",employee:"bg-indigo-500",projects:"bg-purple-500",assets:"bg-emerald-500",expenses:"bg-orange-500"})[s]||"bg-gray-500",q=s=>{var p,d;const t=u.value===s,a={personal:{active:"bg-blue-500 text-white shadow-lg transform scale-105 border-2 border-blue-600",inactive:"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:shadow-md hover:transform hover:scale-102 border border-blue-200"},spouse:{active:"bg-rose-500 text-white shadow-lg transform scale-105 border-2 border-rose-600",inactive:"bg-rose-100 text-rose-700 hover:bg-rose-200 hover:shadow-md hover:transform hover:scale-102 border border-rose-200"},employee:{active:"bg-indigo-500 text-white shadow-lg transform scale-105 border-2 border-indigo-600",inactive:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 hover:shadow-md hover:transform hover:scale-102 border border-indigo-200"},projects:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"},assets:{active:"bg-emerald-500 text-white shadow-lg transform scale-105 border-2 border-emerald-600",inactive:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 hover:shadow-md hover:transform hover:scale-102 border border-emerald-200"},expenses:{active:"bg-orange-500 text-white shadow-lg transform scale-105 border-2 border-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200 hover:shadow-md hover:transform hover:scale-102 border border-orange-200"}};return t?(p=a[s])==null?void 0:p.active:(d=a[s])==null?void 0:d.inactive},B=s=>({personal:"bg-gradient-to-br from-blue-50 to-white",spouse:"bg-gradient-to-br from-rose-50 to-white",employee:"bg-gradient-to-br from-indigo-50 to-white",projects:"bg-gradient-to-br from-purple-50 to-white",assets:"bg-gradient-to-br from-emerald-50 to-white",expenses:"bg-gradient-to-br from-orange-50 to-white"})[s]||"bg-white",I=s=>{const t=u.value===s;return{personal:t?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-blue-50",spouse:t?"bg-rose-100 border border-rose-200":"bg-gray-50 hover:bg-rose-50",employee:t?"bg-indigo-100 border border-indigo-200":"bg-gray-50 hover:bg-indigo-50",projects:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50",assets:t?"bg-emerald-100 border border-emerald-200":"bg-gray-50 hover:bg-emerald-50",expenses:t?"bg-orange-100 border border-orange-200":"bg-gray-50 hover:bg-orange-50"}[s]||"bg-gray-50 hover:bg-gray-100"},oe=s=>{const t=u.value===s;return{personal:t?"text-blue-600":"text-gray-500",spouse:t?"text-rose-600":"text-gray-500",employee:t?"text-indigo-600":"text-gray-500",projects:t?"text-purple-600":"text-gray-500",assets:t?"text-emerald-600":"text-gray-500",expenses:t?"text-orange-600":"text-gray-500"}[s]||"text-gray-500"},le=s=>{const t=u.value===s;return{personal:t?"text-blue-900":"text-gray-900",spouse:t?"text-rose-900":"text-gray-900",employee:t?"text-indigo-900":"text-gray-900",projects:t?"text-purple-900":"text-gray-900",assets:t?"text-emerald-900":"text-gray-900",expenses:t?"text-orange-900":"text-gray-900"}[s]||"text-gray-900"},ae=s=>u.value===s?"text-white":{personal:"text-blue-600",spouse:"text-rose-600",employee:"text-indigo-600",projects:"text-purple-600",assets:"text-emerald-600",expenses:"text-orange-600"}[s]||"text-gray-600",ne=s=>u.value===s?"bg-white bg-opacity-80":{personal:"bg-blue-400",spouse:"bg-rose-400",employee:"bg-indigo-400",projects:"bg-purple-400",assets:"bg-emerald-400",expenses:"bg-orange-400"}[s]||"bg-gray-400",H=s=>({personal:"Fill in your basic personal information, contact details, and address. All required fields must be completed.",spouse:"Add spouse information if you are married. This is required for joint tax filing.",employee:"Enter your employment details including employer name, position, and salary information.",projects:"Add any tax-related projects or business activities you are involved in.",assets:"List your assets including purchase dates and business usage percentages.",expenses:"Track your deductible expenses by category for tax preparation."})[s]||"",V=()=>{G()},ie=s=>{Array.isArray(o.employee)||(o.employee=[]),o.employee.length===0&&o.employee.push({}),o.employee[0]={...s},G()},G=()=>{D.value&&clearTimeout(D.value),D.value=setTimeout(()=>{de()},2e3)},de=async()=>{var s;try{x.value="saving",console.log("form projects",o.assets);const t=(s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content");if(!t){console.error("CSRF token not found"),x.value="error";return}const a=await fetch("/client/information/auto-save",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({personal:(()=>{const d=T(o.personal);return d.date_of_birth&&(d.date_of_birth=E(d.date_of_birth)),d.date_of_entry_us&&(d.date_of_entry_us=E(d.date_of_entry_us)),d})(),spouse:(()=>{const d=T(o.spouse);return d.date_of_birth&&(d.date_of_birth=E(d.date_of_birth)),d})(),employee:Array.isArray(o.employee)?o.employee.map(d=>T(d)):[],projects:o.projects,assets:Array.isArray(o.assets)?o.assets.map((d,r)=>{const S=T(d);if(S.date_of_purchase){const ve=S.date_of_purchase;S.date_of_purchase=E(S.date_of_purchase),console.log(`Asset ${r} date formatting:`,ve,"->",S.date_of_purchase)}return S}):[],expenses:o.expenses})}),p=await a.json();console.log("result",p),a.ok&&p.success?(x.value="saved",setTimeout(()=>{x.value==="saved"&&(x.value="idle")},3e3)):(x.value="error",v.value=p.error||{message:"Unknown error occurred"},console.error("Auto-save failed:",v.value))}catch(t){x.value="error",v.value={message:"Network error - please check your connection",code:"ERR_NETWORK_001",error_id:"NET_"+Date.now()},console.error("Auto-save failed:",t)}},ue=()=>{var t;const s={personal:(()=>{const a=T(o.personal);return a.date_of_birth&&(a.date_of_birth=E(a.date_of_birth)),a.date_of_entry_us&&(a.date_of_entry_us=E(a.date_of_entry_us)),a})(),spouse:(()=>{const a=T(o.spouse);return a.date_of_birth&&(a.date_of_birth=E(a.date_of_birth)),a})(),employee:Array.isArray(o.employee)?o.employee:[],projects:o.projects,assets:Array.isArray(o.assets)?o.assets.map(a=>{const p={...a};return p.date_of_purchase&&(p.date_of_purchase=E(p.date_of_purchase)),p}):[],expenses:o.expenses};console.log("Saving client information:",s),console.log("Personal data being sent:",s.personal),console.log("Expenses data being sent:",s.expenses),console.log("Expenses count:",((t=s.expenses)==null?void 0:t.length)||0),o.transform(()=>s).post("/client/information",{onSuccess:()=>{}})},ce=()=>{window.open("/client/information/export","_blank")},me=()=>{w.transform(s=>({sections:s.sections||[],message:s.message||"",priority:s.priority||"normal"})).post("/client/information/request-review",{onSuccess:()=>{M.value=!1,w.reset()},onError:s=>{console.error("Review request failed:",s)},preserveState:!0,preserveScroll:!0})},X=s=>{const t={};for(const[a,p]of Object.entries(s)){const d=a.replace(/_([a-z])/g,(r,S)=>S.toUpperCase());t[d]=p}return t},E=s=>{if(!s)return null;try{let t;if(typeof s=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(s))return s;t=new Date(s)}else if(s instanceof Date)t=s;else return null;if(isNaN(t.getTime()))return console.warn("Invalid date provided:",s),null;const a=t.getFullYear(),p=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0");return`${a}-${p}-${d}`}catch(t){return console.error("Error formatting date for backend:",t,s),null}},T=s=>{const t={};for(const[a,p]of Object.entries(s)){const d=a.replace(/[A-Z]/g,r=>`_${r.toLowerCase()}`);t[d]=p}return t},Z=()=>{b.clientData&&(b.clientData.personal&&Object.assign(o.personal,X(b.clientData.personal)),b.clientData.spouse&&Object.assign(o.spouse,X(b.clientData.spouse)),b.clientData.employee&&Array.isArray(b.clientData.employee)?o.employee=b.clientData.employee:b.clientData.employee&&(o.employee=[b.clientData.employee]),b.clientData.projects&&(console.log(b.clientData.projects),o.projects=b.clientData.projects),b.clientData.assets&&(console.log(b.clientData.assets),o.assets=b.clientData.assets),b.clientData.expenses&&(o.expenses=b.clientData.expenses))},pe=s=>{console.log("Error reported:",s)};xe(()=>{Z()}),Q(()=>b.clientData,Z,{deep:!0});const ge=()=>{const s=["firstName","lastName","email","phone","ssn","dateOfBirth","maritalStatus","streetNo","zipCode","city","state"];return s.filter(a=>{const p=o.personal[a];return p&&p.toString().trim().length>0}).length/s.length*100},fe=()=>{var a;if(((a=o.personal)==null?void 0:a.maritalStatus)!=="married")return 100;const s=["firstName","lastName"];return s.filter(p=>{const d=o.spouse[p];return d&&d.toString().trim().length>0}).length/s.length*100},be=()=>{if(!o.employee||!Array.isArray(o.employee)||o.employee.length===0)return 0;const s=o.employee[0],t=["employerName","position"];return t.filter(p=>{const d=s[p];return d&&d.toString().trim().length>0}).length/t.length*100};return Q(()=>o.data(),()=>{},{deep:!0}),(s,t)=>{const a=ye("Link");return l(),C($e,null,{header:L(()=>[e("div",ft,[t[23]||(t[23]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-blue-50"},null,-1)),t[24]||(t[24]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),t[25]||(t[25]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",bt,[e("div",vt,[t[20]||(t[20]=e("div",{class:"w-16 h-16 bg-gradient-to-br from-emerald-500 via-emerald-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",null,[t[18]||(t[18]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-emerald-900 to-blue-900 bg-clip-text text-transparent"}," My Information ",-1)),t[19]||(t[19]=e("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Manage your comprehensive tax information and personal details",-1)),e("div",xt,[e("div",yt,[e("div",{class:h(["w-2 h-2 rounded-full",x.value==="saving"?"bg-yellow-400 animate-pulse":x.value==="saved"?"bg-green-400":"bg-gray-300"])},null,2),e("span",{class:h(["text-xs font-semibold",[x.value==="saving"?"text-yellow-700":x.value==="saved"?"text-green-700":"text-gray-500"]])},f(_.value),3)]),t[17]||(t[17]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-2 h-2 bg-blue-400 rounded-full"}),e("span",{class:"text-xs font-semibold text-blue-700"},"Secure Form")],-1))])])]),e("div",ht,[$(a,{href:"/client/documents",class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},{default:L(()=>[...t[21]||(t[21]=[e("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:-translate-y-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),e("span",{class:"font-semibold"},"Upload Documents",-1)])]),_:1}),$(a,{href:"/client/dashboard",class:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},{default:L(()=>[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})],-1),e("span",{class:"font-semibold"},"Back to Dashboard",-1)])]),_:1})])])])]),default:L(()=>{var p,d;return[e("div",wt,[v.value&&c.value?(l(),C(gt,{key:0,error:v.value,onClose:t[0]||(t[0]=r=>c.value=!1),onReport:pe},null,8,["error"])):g("",!0),x.value==="error"&&v.value&&!c.value?(l(),n("div",{key:1,onClick:t[1]||(t[1]=r=>c.value=!0),class:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 cursor-pointer hover:bg-red-100 transition-colors"},[e("div",_t,[$(i(K),{class:"h-4 w-4 text-red-400 mr-2"}),e("span",kt,f(v.value.message),1),t[26]||(t[26]=e("span",{class:"text-xs text-red-500 ml-2"},"(Click for details)",-1))])])):g("",!0),e("div",St,[e("nav",$t,[(l(!0),n(P,null,O(N.value,r=>(l(),n("button",{key:r.id,onClick:S=>u.value=r.id,class:h(["py-3 px-4 font-medium text-sm whitespace-nowrap transition-all duration-200 rounded-lg flex-1 min-w-0",q(r.id)])},[e("div",Dt,[(l(),C(ee(r.icon),{class:h([ae(r.id),"w-4 h-4"])},null,8,["class"])),e("span",jt,f(r.name),1),y(r.id)===100?(l(),n("div",At)):y(r.id)===null?(l(),n("div",{key:1,class:h(`w-2 h-2 rounded-full ${ne(r.id)}`)},null,2)):g("",!0)])],10,Ct))),128))])]),e("div",Et,[e("div",Mt,[e("div",{class:h(["shadow rounded-lg overflow-hidden",B(u.value)])},[e("div",Nt,[u.value==="personal"?(l(),C(je,{key:0,modelValue:i(o).personal,"onUpdate:modelValue":t[2]||(t[2]=r=>i(o).personal=r),errors:i(o).errors,"visa-status-options":m.visaStatusOptions,onUpdate:V},null,8,["modelValue","errors","visa-status-options"])):g("",!0),u.value==="spouse"?(l(),C(Ae,{key:1,modelValue:i(o).spouse,"onUpdate:modelValue":t[3]||(t[3]=r=>i(o).spouse=r),errors:i(o).errors,"show-spouse":((p=i(o).personal)==null?void 0:p.maritalStatus)==="married",onUpdate:V},null,8,["modelValue","errors","show-spouse"])):g("",!0),u.value==="employee"?(l(),C(Ee,{key:2,modelValue:i(o).employee[0],"onUpdate:modelValue":t[4]||(t[4]=r=>i(o).employee[0]=r),errors:i(o).errors,onUpdate:ie},null,8,["modelValue","errors"])):g("",!0),u.value==="projects"?(l(),C(Me,{key:3,modelValue:i(o).projects,"onUpdate:modelValue":t[5]||(t[5]=r=>i(o).projects=r),errors:i(o).errors,onUpdate:V},null,8,["modelValue","errors"])):g("",!0),u.value==="assets"?(l(),C(Ne,{key:4,modelValue:i(o).assets,"onUpdate:modelValue":t[6]||(t[6]=r=>i(o).assets=r),errors:i(o).errors,onUpdate:V},null,8,["modelValue","errors"])):g("",!0),u.value==="expenses"?(l(),C(Te,{key:5,modelValue:i(o).expenses,"onUpdate:modelValue":t[7]||(t[7]=r=>i(o).expenses=r),errors:i(o).errors,onUpdate:V},null,8,["modelValue","errors"])):g("",!0)])],2)]),e("div",Tt,[e("div",Rt,[t[33]||(t[33]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Progress Summary",-1)),e("div",Ut,[e("div",Vt,[t[27]||(t[27]=e("span",{class:"text-sm font-medium text-gray-700"},"Overall Completion",-1)),e("span",Pt,f(Math.round(k.value))+"%",1)]),e("div",Ot,[e("div",{class:"bg-gradient-to-r from-blue-500 to-emerald-500 h-2 rounded-full transition-all duration-300",style:te({width:`${k.value}%`})},null,4)])]),e("div",Ft,[(l(!0),n(P,null,O(N.value,r=>(l(),n("div",{key:r.id,class:h(["flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200",I(r.id)]),onClick:S=>u.value=r.id},[e("div",Bt,[(l(),C(ee(r.icon),{class:h([oe(r.id),"w-4 h-4"])},null,8,["class"])),e("span",{class:h(["text-sm font-medium",le(r.id)])},f(r.name),3)]),e("div",It,[e("div",Lt,[e("div",{class:h(["h-2 rounded-full transition-all duration-300",F(r.id)]),style:te({width:y(r.id)!==null?`${y(r.id)}%`:"100%"})},null,6)]),y(r.id)===null?(l(),n("div",{key:0,class:h(`w-2 h-2 rounded-full ${U(r.id)}`)},null,2)):y(r.id)===100?(l(),n("div",zt)):y(r.id)>0?(l(),n("div",Ht)):(l(),n("div",Wt))])],10,qt))),128))]),e("div",Yt,[e("button",{onClick:ue,disabled:i(o).processing,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},f(i(o).processing?"Saving...":"Save Information"),9,Kt),e("button",{onClick:ce,class:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700"}," Export My Data "),e("button",{onClick:t[8]||(t[8]=r=>M.value=!0),disabled:k.value<50,class:h(["w-full py-2 px-4 rounded-md transition-colors",k.value>=50?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," Request Review ",10,Gt),k.value<50?(l(),n("p",Xt," Complete at least 50% to request review ")):g("",!0)]),e("div",Zt,[t[29]||(t[29]=e("h4",{class:"text-sm font-medium text-blue-900 mb-2"},"Need Help?",-1)),t[30]||(t[30]=e("p",{class:"text-xs text-blue-700 mb-3"}," Complete all sections to ensure accurate tax preparation. Your tax professional will review your information. ",-1)),H(u.value)?(l(),n("div",Jt,f(H(u.value)),1)):g("",!0),e("div",Qt,[e("button",{onClick:t[9]||(t[9]=r=>A.value=!0),class:"block text-xs text-blue-600 hover:text-blue-800 underline"}," View Section Guide "),t[28]||(t[28]=e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 underline"}," Contact Support ",-1))])]),k.value===100?(l(),n("div",es,[e("div",ts,[$(i(re),{class:"w-5 h-5 text-green-500 mr-2"}),t[31]||(t[31]=e("span",{class:"text-sm font-medium text-green-800"},"All sections completed!",-1))]),t[32]||(t[32]=e("p",{class:"text-xs text-green-700 mt-1"}," Your information is ready for review by your tax professional. ",-1))])):g("",!0)])])])]),A.value?(l(),n("div",ss,[e("div",rs,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[10]||(t[10]=r=>A.value=!1)}),e("div",os,[e("div",ls,[e("div",as,[e("div",ns,[$(i(Re),{class:"h-6 w-6 text-blue-600"})]),e("div",is,[e("h3",ds,f((d=N.value.find(r=>r.id===u.value))==null?void 0:d.name)+" Guide ",1),e("div",us,[e("p",cs,f(H(u.value)),1),u.value==="personal"?(l(),n("div",ms,[...t[34]||(t[34]=[e("p",null,[e("strong",null,"Required Fields:")],-1),e("ul",{class:"list-disc list-inside space-y-1 text-xs"},[e("li",null,"First Name, Last Name - Your legal name as it appears on tax documents"),e("li",null,"Email & Phone - Primary contact information"),e("li",null,"SSN - Required for tax filing (format: 123-45-6789)"),e("li",null,"Date of Birth - Used for tax credits and verification"),e("li",null,"Address - Your primary residence address")],-1)])])):u.value==="spouse"?(l(),n("div",ps,[...t[35]||(t[35]=[e("p",null,[e("strong",null,"When to Complete:")],-1),e("ul",{class:"list-disc list-inside space-y-1 text-xs"},[e("li",null,'Only required if marital status is "Married"'),e("li",null,"Spouse SSN is optional but recommended for joint filing"),e("li",null,"All information should match spouse's tax documents")],-1)])])):u.value==="employee"?(l(),n("div",gs,[...t[36]||(t[36]=[e("p",null,[e("strong",null,"Employment Information:")],-1),e("ul",{class:"list-disc list-inside space-y-1 text-xs"},[e("li",null,"Enter information for your primary employer"),e("li",null,"Salary information helps with tax planning"),e("li",null,"Benefits information affects tax deductions")],-1)])])):(l(),n("div",fs,[...t[37]||(t[37]=[e("p",null,"Complete this section with accurate information. All fields are optional unless marked as required.",-1)])]))])])])]),e("div",bs,[e("button",{onClick:t[11]||(t[11]=r=>A.value=!1),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," Got it ")])])])])):g("",!0),M.value?(l(),n("div",vs,[e("div",xs,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[12]||(t[12]=r=>M.value=!1)}),e("div",ys,[e("form",{onSubmit:he(me,["prevent"])},[e("div",hs,[e("div",ws,[e("div",_s,[$(i(re),{class:"h-6 w-6 text-green-600"})]),e("div",ks,[t[42]||(t[42]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Request Professional Review ",-1)),e("div",Ss,[e("div",null,[t[38]||(t[38]=e("label",{class:"text-sm font-medium text-gray-700 mb-2 block"}," Which sections would you like reviewed? (Optional - leave blank for all sections) ",-1)),e("div",$s,[(l(),n(P,null,O(z,r=>e("label",{key:r.id,class:"flex items-center"},[Y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=S=>i(w).sections=S),value:r.id,type:"checkbox",class:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"},null,8,Cs),[[we,i(w).sections]]),e("span",Ds,f(r.name),1),y(r.id)===null?(l(),n("span",js,"(Optional)")):y(r.id)===100?(l(),n("span",As,"(Complete)")):y(r.id)>0?(l(),n("span",Es,"(In Progress)")):g("",!0)])),64))])]),e("div",null,[t[40]||(t[40]=e("label",{for:"priority",class:"block text-sm font-medium text-gray-700 mb-1"}," Priority Level ",-1)),Y(e("select",{id:"priority","onUpdate:modelValue":t[14]||(t[14]=r=>i(w).priority=r),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"},[...t[39]||(t[39]=[e("option",{value:"low"},"Low - Review when convenient",-1),e("option",{value:"normal"},"Normal - Standard review",-1),e("option",{value:"high"},"High - Urgent review needed",-1)])],512),[[_e,i(w).priority]])]),e("div",null,[t[41]||(t[41]=e("label",{for:"reviewMessage",class:"block text-sm font-medium text-gray-700 mb-1"}," Additional Message (Optional) ",-1)),Y(e("textarea",{id:"reviewMessage","onUpdate:modelValue":t[15]||(t[15]=r=>i(w).message=r),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",placeholder:"Any specific questions or areas you'd like your tax professional to focus on..."},null,512),[[ke,i(w).message]])])])])])]),e("div",Ms,[e("button",{type:"submit",disabled:i(w).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},f(i(w).processing?"Sending...":"Send Review Request"),9,Ns),e("button",{onClick:t[16]||(t[16]=r=>M.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):g("",!0)]}),_:1})}}};export{Ys as default};
