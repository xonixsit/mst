import{l as V,m as I,c as u,a as t,g as T,h as x,j as w,F as A,r as B,t as n,v as D,N as C,o as i,b as k,w as M,f as g,d as m,u as c,p as L,A as q,e as h,i as U}from"./app-CMgtX0Ej.js";import{_ as P}from"./AppLayout-DGhDCHeo.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as $}from"./EnvelopeIcon-BZay1tzr.js";import{r as H}from"./CheckIcon-BEi9MouE.js";import{r as E}from"./ClockIcon-D8gxcJc7.js";import{r as O}from"./EyeIcon-CcOWW_kZ.js";import{r as G}from"./TrashIcon-BR7MGtR9.js";const J={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},K={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white"},Q={class:"mt-3"},W={class:"flex items-center justify-between mb-4"},X=["value"],Y={class:"flex justify-end gap-3 pt-4"},Z=["disabled"],tt={key:0},et={key:1},ot={__name:"NewMessageModal",props:{clients:Array},emits:["close"],setup(l,{emit:y}){const _=l,b=y,d=V(!1),a=I({client_id:"",recipient_id:"",subject:"",body:"",priority:"normal"}),j=()=>{const v=_.clients.find(s=>s.id==a.client_id);v&&(a.recipient_id=v.id)},S=()=>{d.value=!0,C.post("/admin/messages",a,{onSuccess:()=>{b("close")},onError:()=>{d.value=!1},onFinish:()=>{d.value=!1}})};return(v,s)=>(i(),u("div",J,[t("div",K,[t("div",Q,[t("div",W,[s[7]||(s[7]=t("h3",{class:"text-lg font-medium text-gray-900"},"New Message",-1)),t("button",{onClick:s[0]||(s[0]=r=>v.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[...s[6]||(s[6]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:T(S,["prevent"]),class:"space-y-4"},[t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Client",-1)),x(t("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>a.client_id=r),onChange:j,required:"",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-gray-900"},[s[8]||(s[8]=t("option",{value:""},"Select client",-1)),(i(!0),u(A,null,B(l.clients,r=>(i(),u("option",{key:r.id,value:r.id},n(r.name)+" ("+n(r.email)+") ",9,X))),128))],544),[[w,a.client_id]])]),t("div",null,[s[10]||(s[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Subject",-1)),x(t("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>a.subject=r),type:"text",required:"",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-gray-900 placeholder-gray-500",placeholder:"Enter message subject"},null,512),[[D,a.subject]])]),t("div",null,[s[12]||(s[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Priority",-1)),x(t("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>a.priority=r),class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-gray-900"},[...s[11]||(s[11]=[t("option",{value:"low"},"Low",-1),t("option",{value:"normal"},"Normal",-1),t("option",{value:"high"},"High",-1)])],512),[[w,a.priority]])]),t("div",null,[s[13]||(s[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),x(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=r=>a.body=r),rows:"6",required:"",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-gray-900 placeholder-gray-500",placeholder:"Enter your message"},null,512),[[D,a.body]])]),t("div",Y,[t("button",{type:"button",onClick:s[5]||(s[5]=r=>v.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Cancel "),t("button",{type:"submit",disabled:d.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},[d.value?(i(),u("span",tt,"Sending...")):(i(),u("span",et,"Send Message"))],8,Z)])],32)])])]))}},st={class:"relative overflow-hidden"},rt={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},lt={class:"flex items-center space-x-4"},nt={class:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-cyan-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-cyan-100"},it={class:"flex items-center space-x-4 mt-3"},dt={class:"flex items-center space-x-2"},at={class:"text-xs font-semibold text-cyan-700"},ut={class:"flex items-center space-x-2"},ct={class:"text-xs font-semibold text-red-700"},ft={class:"flex items-center"},bt={class:"py-12"},mt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},gt={class:"relative overflow-hidden bg-gradient-to-br from-cyan-50 via-cyan-100 to-cyan-200 rounded-xl shadow-lg border border-cyan-200/50 hover:shadow-xl transition-all duration-300 group"},vt={class:"relative p-6"},pt={class:"flex items-center justify-between"},yt={class:"flex-1"},ht={class:"text-3xl font-bold text-cyan-900 mt-2"},wt={class:"p-4 bg-cyan-500 rounded-xl shadow-lg group-hover:bg-cyan-600 transition-colors duration-300"},_t={class:"relative overflow-hidden bg-gradient-to-br from-red-50 via-red-100 to-red-200 rounded-xl shadow-lg border border-red-200/50 hover:shadow-xl transition-all duration-300 group"},kt={class:"relative p-6"},Mt={class:"flex items-center justify-between"},$t={class:"flex-1"},Ct={class:"text-3xl font-bold text-red-900 mt-2"},jt={class:"relative overflow-hidden bg-gradient-to-br from-amber-50 via-amber-100 to-amber-200 rounded-xl shadow-lg border border-amber-200/50 hover:shadow-xl transition-all duration-300 group"},St={class:"relative p-6"},Nt={class:"flex items-center justify-between"},Ut={class:"flex-1"},Vt={class:"text-3xl font-bold text-amber-900 mt-2"},At={class:"relative overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 rounded-xl shadow-lg border border-emerald-200/50 hover:shadow-xl transition-all duration-300 group"},Bt={class:"relative p-6"},Dt={class:"flex items-center justify-between"},zt={class:"flex-1"},Ft={class:"text-3xl font-bold text-emerald-900 mt-2"},Lt={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},Ht={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},It={class:"flex items-center justify-between"},Tt={class:"flex items-center space-x-2"},qt={class:"p-8"},Pt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6"},Rt={class:"md:col-span-2 space-y-2"},Et={class:"relative"},Ot={class:"space-y-2"},Gt=["value"],Jt={class:"space-y-2"},Kt={class:"space-y-2"},Qt={class:"space-y-2"},Wt={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},Xt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Yt={class:"flex items-center justify-between"},Zt={class:"text-sm text-gray-600 mt-1"},te={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},ee={class:"text-sm font-semibold text-cyan-600"},oe={key:0,class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200"},se={class:"flex items-center justify-between"},re={class:"flex items-center space-x-3"},le={class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},ne={class:"text-sm font-semibold text-blue-700"},ie={class:"flex space-x-3"},de={key:1,class:"p-12 text-center"},ae={class:"w-16 h-16 bg-gradient-to-br from-cyan-100 to-blue-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},ue={key:2,class:"divide-y divide-gray-100"},ce={class:"flex items-start justify-between"},fe={class:"flex items-start gap-4 flex-1"},be=["value"],me={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-100 to-blue-200 flex items-center justify-center flex-shrink-0 shadow-sm"},xe={class:"flex-1 min-w-0"},ge={class:"flex items-center gap-3 mb-4"},ve={class:"text-lg font-bold text-gray-900 truncate"},pe={class:"flex items-center gap-2"},ye={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-800 border border-blue-200 shadow-sm"},he={class:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 mb-4 border border-gray-100"},we={class:"grid grid-cols-3 gap-4 text-sm"},_e={class:"text-gray-900 mt-1 truncate font-medium"},ke={class:"text-gray-900 mt-1 truncate font-medium"},Me={class:"text-gray-900 mt-1 truncate font-medium"},$e={class:"text-sm text-gray-700 line-clamp-2 leading-relaxed mb-4 font-medium"},Ce={class:"flex items-center text-xs text-gray-500 font-medium"},je={class:"flex flex-col gap-2 ml-4"},Se=["onClick"],Ne=["onClick"],Ue={key:3,class:"px-6 py-4 border-t border-gray-200"},Ve={class:"flex items-center justify-between"},Ae={class:"text-sm text-gray-700"},Be={class:"flex gap-2"},De={__name:"Index",props:{messages:Object,clients:Array,filters:Object,stats:Object},setup(l){const y=l,_=V(!1),b=V([]),d=I({search:y.filters.search||"",client_id:y.filters.client_id||"",status:y.filters.status||"",priority:y.filters.priority||"",sender_type:y.filters.sender_type||""}),a=()=>{C.get("/admin/messages",d,{preserveState:!0,replace:!0})},j=r=>{if(!r){console.error("Message ID is required");return}C.post(`/admin/messages/${r}/mark-read`,{},{preserveScroll:!0})},S=r=>{if(!r){console.error("Message ID is required");return}confirm("Are you sure you want to delete this message?")&&C.delete(`/admin/messages/${r}`,{preserveScroll:!0})},v=r=>{if(b.value.length===0)return;const e=r==="delete"?"Are you sure you want to delete the selected messages?":`Are you sure you want to ${r.replace("_"," ")} the selected messages?`;confirm(e)&&C.post("/admin/messages/bulk-action",{action:r,message_ids:b.value},{preserveScroll:!0,onSuccess:()=>{b.value=[]}})},s=r=>{const e=new Date(r),o=new Date,p=(o-e)/(1e3*60*60);if(p<1){const f=Math.floor((o-e)/6e4);return`${f} minute${f!==1?"s":""} ago`}else if(p<24){const f=Math.floor(p);return`${f} hour${f!==1?"s":""} ago`}else if(p<168){const f=Math.floor(p/24);return`${f} day${f!==1?"s":""} ago`}else return e.toLocaleDateString()};return(r,e)=>(i(),k(P,{title:"Messages Management"},{header:M(()=>[t("div",st,[e[15]||(e[15]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-cyan-50 to-blue-50"},null,-1)),e[16]||(e[16]=t("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-cyan-100/40 to-transparent rounded-bl-full"},null,-1)),e[17]||(e[17]=t("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),t("div",rt,[t("div",lt,[t("div",nt,[m(c($),{class:"w-8 h-8 text-white"})]),t("div",null,[e[12]||(e[12]=t("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-cyan-900 to-blue-900 bg-clip-text text-transparent"}," Messages Management ",-1)),e[13]||(e[13]=t("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Manage client communications and messages",-1)),t("div",it,[t("div",dt,[e[10]||(e[10]=t("div",{class:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"},null,-1)),t("span",at,n(l.stats.total_messages)+" Total Messages",1)]),t("div",ut,[e[11]||(e[11]=t("div",{class:"w-2 h-2 bg-red-400 rounded-full"},null,-1)),t("span",ct,n(l.stats.unread_messages)+" Unread",1)])])])]),t("div",ft,[t("button",{onClick:e[0]||(e[0]=o=>_.value=!0),class:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),t("span",{class:"font-semibold"},"New Message",-1)])])])])])]),default:M(()=>[t("div",bt,[t("div",mt,[t("div",xt,[t("div",gt,[e[19]||(e[19]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-cyan-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",vt,[t("div",pt,[t("div",yt,[e[18]||(e[18]=t("p",{class:"text-sm font-semibold text-cyan-700 uppercase tracking-wide"},"Total Messages",-1)),t("p",ht,n(l.stats.total_messages),1)]),t("div",wt,[m(c($),{class:"w-8 h-8 text-white"})])])])]),t("div",_t,[e[22]||(e[22]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-red-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",kt,[t("div",Mt,[t("div",$t,[e[20]||(e[20]=t("p",{class:"text-sm font-semibold text-red-700 uppercase tracking-wide"},"Unread",-1)),t("p",Ct,n(l.stats.unread_messages),1)]),e[21]||(e[21]=t("div",{class:"p-4 bg-red-500 rounded-xl shadow-lg group-hover:bg-red-600 transition-colors duration-300"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])])]),t("div",jt,[e[25]||(e[25]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-amber-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",St,[t("div",Nt,[t("div",Ut,[e[23]||(e[23]=t("p",{class:"text-sm font-semibold text-amber-700 uppercase tracking-wide"},"High Priority",-1)),t("p",Vt,n(l.stats.high_priority),1)]),e[24]||(e[24]=t("div",{class:"p-4 bg-amber-500 rounded-xl shadow-lg group-hover:bg-amber-600 transition-colors duration-300"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])])]),t("div",At,[e[28]||(e[28]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-emerald-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",Bt,[t("div",Dt,[t("div",zt,[e[26]||(e[26]=t("p",{class:"text-sm font-semibold text-emerald-700 uppercase tracking-wide"},"From Clients",-1)),t("p",Ft,n(l.stats.client_messages),1)]),e[27]||(e[27]=t("div",{class:"p-4 bg-emerald-500 rounded-xl shadow-lg group-hover:bg-emerald-600 transition-colors duration-300"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])])])]),t("div",Lt,[t("div",Ht,[t("div",It,[e[29]||(e[29]=t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Search & Filter Messages"),t("p",{class:"text-sm text-gray-600 mt-1"},"Find and manage your message communications")],-1)),t("div",Tt,[m(c($),{class:"w-5 h-5 text-gray-400"})])])]),t("div",qt,[t("div",Pt,[t("div",Rt,[e[31]||(e[31]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Search Messages",-1)),t("div",Et,[x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.search=o),onInput:a,type:"text",placeholder:"Subject, content, sender...",class:"w-full px-4 py-3 pl-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200"},null,544),[[D,d.search]]),e[30]||(e[30]=t("svg",{class:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",Ot,[e[33]||(e[33]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Client",-1)),x(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>d.client_id=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[e[32]||(e[32]=t("option",{value:""},"All Clients",-1)),(i(!0),u(A,null,B(l.clients,o=>(i(),u("option",{key:o.id,value:o.id},n(o.name),9,Gt))),128))],544),[[w,d.client_id]])]),t("div",Jt,[e[35]||(e[35]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Status",-1)),x(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>d.status=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[...e[34]||(e[34]=[t("option",{value:""},"All Status",-1),t("option",{value:"unread"},"Unread",-1),t("option",{value:"read"},"Read",-1)])],544),[[w,d.status]])]),t("div",Kt,[e[37]||(e[37]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Priority",-1)),x(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>d.priority=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[...e[36]||(e[36]=[t("option",{value:""},"All Priorities",-1),t("option",{value:"low"},"Low",-1),t("option",{value:"normal"},"Normal",-1),t("option",{value:"high"},"High",-1)])],544),[[w,d.priority]])]),t("div",Qt,[e[39]||(e[39]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Sender",-1)),x(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>d.sender_type=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[...e[38]||(e[38]=[t("option",{value:""},"All Senders",-1),t("option",{value:"client"},"Clients",-1),t("option",{value:"admin"},"Staff",-1)])],544),[[w,d.sender_type]])])])])])])]),t("div",Wt,[t("div",Xt,[t("div",Yt,[t("div",null,[e[40]||(e[40]=t("h3",{class:"text-xl font-bold text-gray-900"},"Message Inbox",-1)),t("p",Zt,n(l.messages.total)+" messages in your inbox",1)]),t("div",te,[t("span",ee,n(l.messages.total)+" Total",1)])])]),b.value.length>0?(i(),u("div",oe,[t("div",se,[t("div",re,[t("div",le,[m(c(H),{class:"w-4 h-4 text-blue-600"})]),t("span",ne,n(b.value.length)+" message"+n(b.value.length!==1?"s":"")+" selected ",1)]),t("div",ie,[t("button",{onClick:e[6]||(e[6]=o=>v("mark_read")),class:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md"}," Mark Read "),t("button",{onClick:e[7]||(e[7]=o=>v("delete")),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md"}," Delete ")])])])):g("",!0),l.messages.data.length===0?(i(),u("div",de,[t("div",ae,[m(c($),{class:"w-8 h-8 text-cyan-600"})]),e[41]||(e[41]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No messages found",-1)),e[42]||(e[42]=t("p",{class:"text-gray-500"},"No messages match your current filters or you have no messages yet.",-1))])):(i(),u("div",ue,[(i(!0),u(A,null,B(l.messages.data,o=>{var p,f,z,F;return i(),u("div",{key:(o==null?void 0:o.id)||Math.random(),class:L(["p-6 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 transition-all duration-200 border-l-4 group",{"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-blue-500":!(o!=null&&o.is_read),"border-l-transparent":o==null?void 0:o.is_read}])},[t("div",ce,[t("div",fe,[x(t("input",{"onUpdate:modelValue":e[8]||(e[8]=N=>b.value=N),value:o==null?void 0:o.id,type:"checkbox",class:"mt-2 w-4 h-4 rounded border-2 border-gray-300 text-cyan-600 focus:ring-2 focus:ring-cyan-500 focus:ring-offset-0 transition-all duration-200"},null,8,be),[[q,b.value]]),t("div",me,[m(c($),{class:"w-6 h-6 text-cyan-600"})]),t("div",xe,[t("div",ge,[t("h4",ve,n(o==null?void 0:o.subject),1),t("div",pe,[o!=null&&o.is_read?g("",!0):(i(),u("span",ye,[...e[43]||(e[43]=[t("div",{class:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 animate-pulse"},null,-1),h(" New ",-1)])])),t("span",{class:L([{"bg-red-100 text-red-800 border-red-200":(o==null?void 0:o.priority)==="high","bg-amber-100 text-amber-800 border-amber-200":(o==null?void 0:o.priority)==="normal","bg-gray-100 text-gray-800 border-gray-200":(o==null?void 0:o.priority)==="low"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border shadow-sm"])},n(o!=null&&o.priority?o.priority.charAt(0).toUpperCase()+o.priority.slice(1):"Normal"),3)])]),t("div",he,[t("div",we,[t("div",null,[e[44]||(e[44]=t("span",{class:"font-semibold text-gray-600"},"From:",-1)),t("p",_e,n((p=o==null?void 0:o.sender)!=null&&p.first_name?`${o.sender.first_name} ${o.sender.last_name||""}`.trim():"Unknown"),1)]),t("div",null,[e[45]||(e[45]=t("span",{class:"font-semibold text-gray-600"},"To:",-1)),t("p",ke,n((f=o==null?void 0:o.recipient)!=null&&f.first_name?`${o.recipient.first_name} ${o.recipient.last_name||""}`.trim():"Unknown"),1)]),t("div",null,[e[46]||(e[46]=t("span",{class:"font-semibold text-gray-600"},"Client:",-1)),t("p",Me,n((F=(z=o==null?void 0:o.client)==null?void 0:z.user)!=null&&F.first_name?`${o.client.user.first_name} ${o.client.user.last_name||""}`.trim():"Unknown Client"),1)])])]),t("p",$e,n(o==null?void 0:o.body),1),t("div",Ce,[m(c(E),{class:"w-4 h-4 mr-2"}),h(" "+n(s(o==null?void 0:o.created_at)),1)])])]),t("div",je,[o!=null&&o.id?(i(),k(c(U),{key:0,href:`/admin/messages/${o.id}`,class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},{default:M(()=>[m(c(O),{class:"w-3 h-3 mr-1.5"}),e[47]||(e[47]=h(" View ",-1))]),_:1},8,["href"])):g("",!0),!(o!=null&&o.is_read)&&(o!=null&&o.id)?(i(),u("button",{key:1,onClick:N=>j(o.id),class:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},[m(c(H),{class:"w-3 h-3 mr-1.5"}),e[48]||(e[48]=h(" Mark Read ",-1))],8,Se)):g("",!0),o!=null&&o.id?(i(),u("button",{key:2,onClick:N=>S(o.id),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},[m(c(G),{class:"w-3 h-3 mr-1.5"}),e[49]||(e[49]=h(" Delete ",-1))],8,Ne)):g("",!0)])])],2)}),128))])),l.messages.last_page>1?(i(),u("div",Ue,[t("div",Ve,[t("div",Ae," Showing "+n(l.messages.from)+" to "+n(l.messages.to)+" of "+n(l.messages.total)+" messages ",1),t("div",Be,[l.messages.prev_page_url?(i(),k(c(U),{key:0,href:l.messages.prev_page_url,class:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200"},{default:M(()=>[...e[50]||(e[50]=[h(" Previous ",-1)])]),_:1},8,["href"])):g("",!0),l.messages.next_page_url?(i(),k(c(U),{key:1,href:l.messages.next_page_url,class:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200"},{default:M(()=>[...e[51]||(e[51]=[h(" Next ",-1)])]),_:1},8,["href"])):g("",!0)])])])):g("",!0)]),_.value?(i(),k(ot,{key:0,clients:l.clients,onClose:e[9]||(e[9]=o=>_.value=!1)},null,8,["clients"])):g("",!0)]),_:1}))}},Re=R(De,[["__scopeId","data-v-31feea72"]]);export{Re as default};
