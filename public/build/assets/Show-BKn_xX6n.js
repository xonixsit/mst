import{l as P,b as y,w as u,a as e,f as d,d as n,u as l,c as m,t as r,p as b,e as q,o as i,F as z,r as Q,i as D,N as w}from"./app-BWB3rdom.js";import{r as p,_ as Y}from"./AppLayout-BJNZDLSI.js";import{_ as G}from"./InvoiceEmailModal-BQnOLMIN.js";import{_ as H}from"./PaymentModal-CbHgrud9.js";import{r as J}from"./UserIcon-B7y7Xt8h.js";import{r as K,a as W}from"./ListBulletIcon-D8OA6wUK.js";import{r as X}from"./CogIcon-BtGs9Z3O.js";import{r as Z}from"./CurrencyDollarIcon-DJ4nY-b1.js";import{r as M}from"./PaperAirplaneIcon-Cy--Lbd1.js";import{r as T}from"./CheckCircleIcon-z1hjkOrA.js";import{r as ee}from"./TrashIcon-B9gDtvos.js";import{r as te}from"./PencilIcon-CGfJOTvl.js";import{r as se}from"./ArrowLeftIcon-BiU8vdyw.js";import"./XMarkIcon-B3fjJU-K.js";import"./CreditCardIcon-CG5C3m38.js";import"./EyeIcon-Cmk2tCob.js";const oe={class:"relative overflow-hidden"},re={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},ne={class:"flex items-center space-x-4"},le={class:"w-16 h-16 bg-gradient-to-br from-emerald-500 via-emerald-600 to-green-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100"},ie={class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-emerald-900 to-green-900 bg-clip-text text-transparent"},ae={class:"mt-2 text-sm text-gray-600 font-medium"},de={class:"flex items-center space-x-4 mt-3"},me={class:"flex items-center space-x-2"},ce={class:"flex items-center space-x-2"},xe={class:"text-xs font-semibold text-green-700"},fe={class:"flex items-center space-x-3"},ue={class:"py-12"},be={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},ge={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},ve={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-8 py-6 border-b border-gray-200"},he={class:"flex items-center justify-between"},ye={class:"flex items-center space-x-2"},we={class:"p-8"},pe={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},_e={class:"bg-gradient-to-br from-emerald-50 to-green-100 rounded-xl p-6 border border-emerald-200"},ke={class:"flex items-center mb-4"},$e={class:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center mr-3"},je={class:"space-y-3"},Ce={class:"flex items-center justify-between py-2 border-b border-emerald-200/50"},Se={class:"text-sm font-bold text-emerald-900"},Ie={class:"flex items-center justify-between py-2 border-b border-emerald-200/50"},Ee={class:"text-sm font-medium text-emerald-900"},Ne={class:"flex items-center justify-between py-2 border-b border-emerald-200/50"},Pe={class:"text-sm font-medium text-emerald-900"},De={class:"flex items-center justify-between py-2 border-b border-emerald-200/50"},Me={class:"flex items-center justify-between py-2 border-b border-emerald-200/50"},Te={class:"text-sm font-medium text-emerald-900"},Ae={key:0,class:"flex items-center justify-between py-2 border-b border-emerald-200/50"},Be={class:"text-sm font-medium text-emerald-900"},Le={key:1,class:"flex items-center justify-between py-2"},Fe={class:"text-sm font-medium text-emerald-900"},Ve={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},Re={class:"flex items-center mb-4"},Oe={class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"},Ue={class:"space-y-3"},qe={class:"flex items-center justify-between py-2 border-b border-blue-200/50"},ze={class:"text-sm font-bold text-blue-900"},Qe={class:"flex items-center justify-between py-2"},Ye={class:"text-sm font-medium text-blue-900"},Ge={key:0,class:"mb-8"},He={class:"bg-gradient-to-br from-amber-50 to-yellow-100 rounded-xl p-6 border border-amber-200"},Je={class:"flex items-center mb-4"},Ke={class:"w-10 h-10 bg-amber-500 rounded-lg flex items-center justify-center mr-3"},We={class:"text-sm text-amber-800 leading-relaxed font-medium"},Xe={class:"mb-8"},Ze={class:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden"},et={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-4 border-b border-gray-200"},tt={class:"flex items-center"},st={class:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3"},ot={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-gray-100"},nt={class:"bg-white divide-y divide-gray-50"},lt={class:"px-6 py-5 whitespace-nowrap"},it={class:"flex items-center"},at={class:"w-8 h-8 bg-gradient-to-br from-emerald-100 to-green-200 rounded-lg flex items-center justify-center mr-3"},dt={class:"text-sm font-semibold text-gray-900"},mt={class:"px-6 py-5 whitespace-nowrap"},ct={class:"text-sm font-medium text-gray-900"},xt={class:"px-6 py-5 whitespace-nowrap"},ft={class:"text-sm font-medium text-gray-900"},ut={class:"px-6 py-5 whitespace-nowrap"},bt={class:"text-sm font-bold text-emerald-600"},gt={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},vt={class:"flex items-center mb-4"},ht={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"},yt={class:"max-w-md ml-auto space-y-3"},wt={class:"flex justify-between items-center py-2 border-b border-green-200/50"},pt={class:"text-sm font-bold text-green-900"},_t={class:"flex justify-between items-center py-2 border-b border-green-200/50"},kt={class:"text-sm font-semibold text-green-700"},$t={class:"text-sm font-bold text-green-900"},jt={class:"flex justify-between items-center py-3 border-t-2 border-green-300"},Ct={class:"text-xl font-bold text-green-600"},St={class:"flex flex-wrap justify-end gap-3 pt-8 border-t border-gray-200 mt-8"},It={key:4,class:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 px-6 py-3 rounded-xl flex items-center border-2 border-green-200"},Qt={__name:"Show",props:{invoice:Object},setup(s){var j,C;const g=s;console.log("Invoice data:",g.invoice),console.log("Invoice status:",(j=g.invoice)==null?void 0:j.status);const c=o=>parseFloat(o).toFixed(2),v=o=>new Date(o).toLocaleDateString(),A=o=>({draft:"bg-gray-100 text-gray-800 border-gray-200",sent:"bg-blue-100 text-blue-800 border-blue-200",paid:"bg-green-100 text-green-800 border-green-200",overdue:"bg-red-100 text-red-800 border-red-200"})[o]||"bg-gray-100 text-gray-800 border-gray-200",_=o=>({draft:"bg-gray-500",sent:"bg-blue-500",paid:"bg-green-500",overdue:"bg-red-500"})[o]||"bg-gray-500",B=o=>({draft:"text-gray-700",sent:"text-blue-700",paid:"text-green-700",overdue:"text-red-700"})[o]||"text-gray-700",k=o=>({draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue"})[o]||o,h=P(!1),L=()=>{h.value=!0},F=()=>{w.reload()},x=P(!1);((C=window.history.state)!=null&&C.showEmailModal||new URLSearchParams(window.location.search).get("email")==="true")&&(x.value=!0);const $=()=>{console.log("Send email button clicked"),console.log("Current showEmailModal value:",x.value),x.value=!0,console.log("New showEmailModal value:",x.value)},V=()=>{w.reload()},R=()=>{confirm("Are you sure you want to delete this invoice?")&&w.delete(`/admin/invoices/${g.invoice.id}`)},O=o=>{var t,a,f,S,I,E,N;return(a=(t=o.client)==null?void 0:t.user)!=null&&a.first_name&&((S=(f=o.client)==null?void 0:f.user)!=null&&S.last_name)?`${o.client.user.first_name} ${o.client.user.last_name}`.trim():(I=o.client)!=null&&I.first_name&&((E=o.client)!=null&&E.last_name)?`${o.client.first_name} ${o.client.last_name}`.trim():(N=o.client)!=null&&N.name?o.client.name:o.client_name?o.client_name:"Client Name Not Available"},U=o=>{var t,a,f;return(a=(t=o.client)==null?void 0:t.user)!=null&&a.email?o.client.user.email:(f=o.client)!=null&&f.email?o.client.email:o.send_to_email?o.send_to_email:"Email Not Available"};return(o,t)=>(i(),y(Y,{title:"Invoice Details"},{header:u(()=>[e("div",oe,[t[5]||(t[5]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-green-50"},null,-1)),t[6]||(t[6]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),t[7]||(t[7]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-green-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",re,[e("div",ne,[e("div",le,[n(l(p),{class:"w-8 h-8 text-white"})]),e("div",null,[e("h1",ie," Invoice "+r(s.invoice.invoice_number),1),e("p",ae,r(s.invoice.title),1),e("div",de,[e("div",me,[e("div",{class:b([_(s.invoice.status),"w-2 h-2 rounded-full"])},null,2),e("span",{class:b([B(s.invoice.status),"text-xs font-semibold"])},r(k(s.invoice.status)),3)]),e("div",ce,[t[2]||(t[2]=e("div",{class:"w-2 h-2 bg-green-400 rounded-full"},null,-1)),e("span",xe,"$"+r(c(s.invoice.total_amount)),1)])])])]),e("div",fe,[n(l(D),{href:`/admin/invoices/${s.invoice.id}/edit`,class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},{default:u(()=>[n(l(te),{class:"w-5 h-5 mr-2"}),t[3]||(t[3]=e("span",{class:"font-semibold"},"Edit Invoice",-1))]),_:1},8,["href"]),n(l(D),{href:"/admin/invoices",class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},{default:u(()=>[n(l(se),{class:"w-5 h-5 mr-2"}),t[4]||(t[4]=e("span",{class:"font-semibold"},"Back to List",-1))]),_:1})])])])]),default:u(()=>[e("div",ue,[e("div",be,[e("div",ge,[e("div",ve,[e("div",he,[t[8]||(t[8]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Invoice Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Complete invoice information and billing details")],-1)),e("div",ye,[n(l(p),{class:"w-5 h-5 text-gray-400"})])])]),e("div",we,[e("div",pe,[e("div",_e,[e("div",ke,[e("div",$e,[n(l(p),{class:"w-5 h-5 text-white"})]),t[9]||(t[9]=e("h3",{class:"text-lg font-bold text-emerald-900"},"Invoice Information",-1))]),e("dl",je,[e("div",Ce,[t[10]||(t[10]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Invoice #:",-1)),e("dd",Se,r(s.invoice.invoice_number),1)]),e("div",Ie,[t[11]||(t[11]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Title:",-1)),e("dd",Ee,r(s.invoice.title),1)]),e("div",Ne,[t[12]||(t[12]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Year:",-1)),e("dd",Pe,r(s.invoice.invoice_year),1)]),e("div",De,[t[13]||(t[13]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Status:",-1)),e("dd",null,[e("span",{class:b([A(s.invoice.status),"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border shadow-sm"])},[e("div",{class:b([_(s.invoice.status),"w-1.5 h-1.5 rounded-full mr-2"])},null,2),q(" "+r(k(s.invoice.status)),1)],2)])]),e("div",Me,[t[14]||(t[14]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Created:",-1)),e("dd",Te,r(v(s.invoice.created_at)),1)]),s.invoice.sent_at?(i(),m("div",Ae,[t[15]||(t[15]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Sent:",-1)),e("dd",Be,r(v(s.invoice.sent_at)),1)])):d("",!0),s.invoice.paid_at?(i(),m("div",Le,[t[16]||(t[16]=e("dt",{class:"text-sm font-semibold text-emerald-700"},"Paid:",-1)),e("dd",Fe,r(v(s.invoice.paid_at)),1)])):d("",!0)])]),e("div",Ve,[e("div",Re,[e("div",Oe,[n(l(J),{class:"w-5 h-5 text-white"})]),t[17]||(t[17]=e("h3",{class:"text-lg font-bold text-blue-900"},"Client Information",-1))]),e("dl",Ue,[e("div",qe,[t[18]||(t[18]=e("dt",{class:"text-sm font-semibold text-blue-700"},"Name:",-1)),e("dd",ze,r(O(s.invoice)),1)]),e("div",Qe,[t[19]||(t[19]=e("dt",{class:"text-sm font-semibold text-blue-700"},"Email:",-1)),e("dd",Ye,r(U(s.invoice)),1)])])])]),s.invoice.comments?(i(),m("div",Ge,[e("div",He,[e("div",Je,[e("div",Ke,[n(l(K),{class:"w-5 h-5 text-white"})]),t[20]||(t[20]=e("h3",{class:"text-lg font-bold text-amber-900"},"Comments",-1))]),e("p",We,r(s.invoice.comments),1)])])):d("",!0),e("div",Xe,[e("div",Ze,[e("div",et,[e("div",tt,[e("div",st,[n(l(W),{class:"w-4 h-4 text-white"})]),t[21]||(t[21]=e("h3",{class:"text-lg font-bold text-gray-900"},"Invoice Items",-1))])]),e("div",ot,[e("table",rt,[t[22]||(t[22]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-slate-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Service "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Quantity "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Unit Price "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Total ")])],-1)),e("tbody",nt,[(i(!0),m(z,null,Q(s.invoice.items,a=>(i(),m("tr",{key:a.id,class:"hover:bg-gradient-to-r hover:from-emerald-50 hover:to-green-50 transition-all duration-200"},[e("td",lt,[e("div",it,[e("div",at,[n(l(X),{class:"w-4 h-4 text-emerald-600"})]),e("span",dt,r(a.service_name),1)])]),e("td",mt,[e("span",ct,r(a.quantity),1)]),e("td",xt,[e("span",ft,"$"+r(c(a.unit_price)),1)]),e("td",ut,[e("span",bt,"$"+r(c(a.total_price)),1)])]))),128))])])])])]),e("div",gt,[e("div",vt,[e("div",ht,[n(l(Z),{class:"w-5 h-5 text-white"})]),t[23]||(t[23]=e("h3",{class:"text-lg font-bold text-green-900"},"Invoice Summary",-1))]),e("div",yt,[e("div",wt,[t[24]||(t[24]=e("span",{class:"text-sm font-semibold text-green-700"},"Subtotal:",-1)),e("span",pt,"$"+r(c(s.invoice.subtotal)),1)]),e("div",_t,[e("span",kt,"Tax ("+r(s.invoice.tax_rate)+"%):",1),e("span",$t,"$"+r(c(s.invoice.tax_amount)),1)]),e("div",jt,[t[25]||(t[25]=e("span",{class:"text-lg font-bold text-green-900"},"Total Amount:",-1)),e("span",Ct,"$"+r(c(s.invoice.total_amount)),1)])])]),e("div",St,[s.invoice.status==="draft"?(i(),m("button",{key:0,onClick:$,class:"bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-700 hover:to-amber-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[n(l(M),{class:"w-5 h-5 mr-2"}),t[26]||(t[26]=e("span",{class:"font-semibold"},"Send Email",-1))])):d("",!0),s.invoice.status==="sent"?(i(),m("button",{key:1,onClick:$,class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[n(l(M),{class:"w-5 h-5 mr-2"}),t[27]||(t[27]=e("span",{class:"font-semibold"},"Resend Email",-1))])):d("",!0),s.invoice.status==="sent"?(i(),m("button",{key:2,onClick:L,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[n(l(T),{class:"w-5 h-5 mr-2"}),t[28]||(t[28]=e("span",{class:"font-semibold"},"Mark as Paid",-1))])):d("",!0),s.invoice.status!=="paid"?(i(),m("button",{key:3,onClick:R,class:"bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[n(l(ee),{class:"w-5 h-5 mr-2"}),t[29]||(t[29]=e("span",{class:"font-semibold"},"Delete Invoice",-1))])):d("",!0),s.invoice.status==="paid"?(i(),m("div",It,[n(l(T),{class:"w-5 h-5 mr-2"}),t[30]||(t[30]=e("span",{class:"font-semibold"},"Invoice Paid",-1))])):d("",!0)])])])])]),x.value?(i(),y(G,{key:0,invoice:s.invoice,onClose:t[0]||(t[0]=()=>{console.log("Modal close event"),x.value=!1}),onSent:V},null,8,["invoice"])):d("",!0),h.value?(i(),y(H,{key:1,invoice:s.invoice,onClose:t[1]||(t[1]=a=>h.value=!1),onPaid:F},null,8,["invoice"])):d("",!0)]),_:1}))}};export{Qt as default};
