import{l as y,q as T,s as K,c as i,f as I,a as e,t as s,d as v,u as h,b as Q,n as X,o as r,A as ee,w as W,h as w,v as Z,F as V,r as z,j as A,p as J,e as B,g as te,N as L}from"./app-BjP-tNJO.js";import{_ as oe,A as se}from"./AppLayout-BPOsg_Yk.js";import{P as ne}from"./PdfViewer-tJCfbuzV.js";import{r as le}from"./XMarkIcon-IK6_gwdl.js";import{r as re}from"./MinusIcon-CrO27gq-.js";import{r as ae}from"./PlusIcon-BkC3myWp.js";import{r as de}from"./DocumentIcon-Bj8SKOVV.js";import{r as E}from"./DocumentTextIcon-D17CVOJk.js";const ie={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50"},ue={class:"relative min-h-screen flex items-center justify-center p-4"},ce={class:"relative bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-screen overflow-hidden"},me={class:"flex items-center justify-between p-6 border-b border-gray-200"},pe={class:"text-lg font-medium text-gray-900"},fe={class:"mt-1 text-sm text-gray-500"},xe={class:"flex items-center space-x-2"},ge={class:"relative",style:{height:"calc(100vh - 200px)"}},be={key:1,class:"h-full bg-gray-50 p-4"},ve={class:"flex items-center justify-between mb-4"},ye={class:"flex items-center space-x-2"},he=["disabled"],we={class:"text-sm text-gray-600 px-2"},_e=["disabled"],ke={class:"overflow-auto h-full bg-white rounded border border-gray-200 p-4"},Ce=["src","alt"],je={key:2,class:"h-full bg-gray-50 flex items-center justify-center"},$e={class:"text-center"},De={class:"mt-2 text-sm text-gray-500"},Me={__name:"DocumentViewModal",props:{show:{type:Boolean,default:!1},document:{type:Object,default:null}},emits:["close"],setup(n,{emit:g}){const l=n,_=g,u=y(1),k=T(()=>l.document?`/admin/documents/${l.document.id}/download`:""),C=T(()=>l.document?`/admin/documents/${l.document.id}/download`:""),c=T(()=>l.document?!!(l.document.mime_type==="application/pdf"||l.document.name&&l.document.name.toLowerCase().split(".").pop()==="pdf"||l.document.file_path&&l.document.file_path.toLowerCase().split(".").pop()==="pdf"):!1),b=T(()=>{var d;return l.document?((d=l.document.mime_type)==null?void 0:d.startsWith("image/"))||/\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(l.document.name):!1}),F=d=>{if(!d)return"Unknown";const p=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(d)/Math.log(1024));return Math.round(d/Math.pow(1024,m)*100)/100+" "+p[m]},P=()=>{u.value<3&&(u.value=Math.min(3,u.value+.25))},O=()=>{u.value>.5&&(u.value=Math.max(.5,u.value-.25))},N=()=>{u.value=1},j=()=>{if(!l.document)return;const d=`/admin/documents/${l.document.id}/download?download=1`,p=l.document.original_name||l.document.name||"document.pdf",m=document.createElement("a");m.href=d,m.download=p,m.style.display="none",document.body.appendChild(m),m.click(),document.body.removeChild(m)},H=()=>{console.log("Document loaded successfully")},R=d=>{console.error("Document load error:",d)};K(()=>l.document,()=>{u.value=1});const x=d=>{d.key==="Escape"&&l.show&&_("close")};return K(()=>l.show,d=>{d?(document.addEventListener("keydown",x),document.body.style.overflow="hidden"):(document.removeEventListener("keydown",x),document.body.style.overflow="")}),(d,p)=>{var m,$,D,M,S,U,a,t,o;return n.show?(r(),i("div",ie,[e("div",ue,[e("div",ce,[e("div",me,[e("div",null,[e("h3",pe,s((m=n.document)==null?void 0:m.name),1),e("p",fe,s((M=(D=($=n.document)==null?void 0:$.client)==null?void 0:D.user)==null?void 0:M.first_name)+" "+s((a=(U=(S=n.document)==null?void 0:S.client)==null?void 0:U.user)==null?void 0:a.last_name)+" â€¢ "+s(F((t=n.document)==null?void 0:t.file_size)),1)]),e("div",xe,[e("button",{onClick:j,class:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm"}," Download "),e("button",{onClick:p[0]||(p[0]=f=>d.$emit("close")),class:"p-2 text-gray-400 hover:text-gray-600"},[v(h(le),{class:"w-6 h-6"})])])]),e("div",ge,[c.value?(r(),Q(ne,{key:0,"pdf-url":C.value,"document-id":n.document.id.toString(),"document-name":n.document.name,height:600},null,8,["pdf-url","document-id","document-name"])):b.value?(r(),i("div",be,[e("div",ve,[p[1]||(p[1]=e("h4",{class:"text-sm font-medium text-gray-900"},"Image Preview",-1)),e("div",ye,[e("button",{onClick:O,disabled:u.value<=.5,class:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 bg-white border border-gray-300 rounded"},[v(h(re),{class:"w-4 h-4"})],8,he),e("span",we,s(Math.round(u.value*100))+"%",1),e("button",{onClick:P,disabled:u.value>=3,class:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 bg-white border border-gray-300 rounded"},[v(h(ae),{class:"w-4 h-4"})],8,_e),e("button",{onClick:N,class:"px-3 py-2 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50"}," Reset ")])]),e("div",ke,[e("img",{src:k.value,alt:n.document.name,style:X({transform:`scale(${u.value})`,transformOrigin:"top left"}),class:"max-w-full h-auto mx-auto transition-transform duration-200",onLoad:H,onError:R},null,44,Ce)])])):(r(),i("div",je,[e("div",$e,[v(h(de),{class:"mx-auto h-16 w-16 text-gray-400"}),p[2]||(p[2]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"Preview not available",-1)),e("p",De," This file type ("+s(((o=n.document)==null?void 0:o.mime_type)||"unknown")+") cannot be previewed in the browser. ",1),e("div",{class:"mt-6"},[e("button",{onClick:j,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium"}," Download to View ")])])]))])])])])):I("",!0)}}},Se=oe(Me,[["__scopeId","data-v-d363072d"]]),Ue={class:"relative overflow-hidden"},Ve={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2 pr-2 pl-2"},ze={class:"flex items-center space-x-4"},Ae={class:"w-14 h-14 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-blue-100"},Be={class:"flex items-center space-x-4 mt-3"},Te={class:"flex items-center space-x-2"},Le={class:"text-xs font-semibold text-purple-700"},Ee={class:"space-y-6"},Fe={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},Pe={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Oe={class:"flex items-center justify-between"},Ne={class:"flex items-center space-x-2"},He={class:"p-8"},Re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6"},Ie={class:"md:col-span-2 lg:col-span-1 space-y-2"},Ye={class:"relative"},qe={class:"space-y-2"},Ge=["value"],Ke={class:"space-y-2"},We=["value"],Ze={class:"space-y-2"},Je=["value"],Qe={class:"space-y-2"},Xe={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},et={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},tt={class:"flex items-center justify-between"},ot={class:"text-sm text-gray-600 mt-1"},st={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},nt={class:"text-sm font-semibold text-purple-600"},lt={key:0,class:"p-12 text-center"},rt={class:"w-14 h-14 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},at={key:1,class:"overflow-x-auto"},dt={class:"min-w-full"},it={class:"bg-white divide-y divide-gray-100"},ut={class:"px-6 py-5 whitespace-nowrap"},ct={class:"flex items-center"},mt={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4 shadow-sm"},pt={class:"text-sm font-semibold text-gray-900"},ft={class:"text-xs text-gray-500 font-medium"},xt={class:"px-6 py-5 whitespace-nowrap"},gt={class:"text-sm font-semibold text-gray-900"},bt={class:"text-xs text-gray-500 font-medium"},vt={class:"px-6 py-5 whitespace-nowrap"},yt={class:"text-sm font-medium text-gray-900"},ht={class:"px-6 py-5 whitespace-nowrap"},wt={class:"text-sm font-semibold text-gray-900"},_t={class:"px-6 py-5 whitespace-nowrap"},kt={key:0,class:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"},Ct={key:1,class:"w-1.5 h-1.5 bg-rose-400 rounded-full mr-2"},jt={key:2,class:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-2"},$t={class:"px-6 py-5 whitespace-nowrap"},Dt={class:"text-sm text-gray-600 font-medium"},Mt={class:"px-6 py-5 text-center"},St={class:"flex justify-center space-x-2"},Ut=["onClick"],Vt=["onClick"],zt=["onClick"],At={key:2,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},Bt={class:"flex justify-between items-center"},Tt={class:"text-sm text-gray-600 font-medium"},Lt={class:"font-bold text-gray-900"},Et={class:"font-bold text-gray-900"},Ft={class:"font-bold text-purple-600"},Pt={class:"flex space-x-2"},Ot=["onClick"],Nt={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Ht={class:"relative top-20 mx-auto p-6 border w-96 shadow-2xl rounded-2xl bg-white"},Rt={class:"mt-3"},It={class:"flex justify-end space-x-3 pt-4"},Yt=["disabled"],eo={__name:"Documents",props:{documents:Object,filters:Object,clients:Array,taxYears:Array,documentTypes:Object},setup(n){var $,D,M,S,U;const g=n,l=y(!1),_=y(!1),u=y(!1),k=y(null),C=y(null),c=y({search:(($=g.filters)==null?void 0:$.search)||"",client_id:((D=g.filters)==null?void 0:D.client_id)||"",type:((M=g.filters)==null?void 0:M.type)||"",year:((S=g.filters)==null?void 0:S.year)||"",status:((U=g.filters)==null?void 0:U.status)||""}),b=y({status:"",notes:""}),F=T(()=>{const a=[],t=g.documents.current_page,o=g.documents.last_page;for(let f=Math.max(1,t-2);f<=Math.min(o,t+2);f++)a.push(f);return a}),P=a=>{C.value=a,_.value=!0},O=()=>{_.value=!1,C.value=null},N=a=>{k.value=a,b.value={status:a.status,notes:a.notes||""},l.value=!0},j=()=>{l.value=!1,k.value=null,b.value={status:"",notes:""}},H=()=>{u.value=!0,L.patch(`/admin/documents/${k.value.id}/status`,b.value,{onSuccess:()=>{j()},onFinish:()=>{u.value=!1}})},R=a=>{confirm("Are you sure you want to delete this document? This action cannot be undone.")&&L.delete(`/admin/documents/${a.id}`)},x=()=>{const a=Object.fromEntries(Object.entries(c.value).filter(([t,o])=>o!==""&&o!==null));L.get("/admin/documents",a,{preserveState:!0,replace:!0})},d=()=>{c.value={search:"",client_id:"",type:"",year:"",status:""},x()},p=a=>{L.get("/admin/documents",{...c.value,page:a},{preserveState:!0,replace:!0})},m=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return ee(()=>{const t=new URLSearchParams(window.location.search).get("client_id");t&&!c.value.client_id&&(c.value.client_id=t,x())}),(a,t)=>(r(),Q(se,null,{header:W(()=>[e("div",Ue,[t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-purple-50 to-indigo-50"},null,-1)),t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-purple-100/40 to-transparent rounded-bl-full"},null,-1)),t[13]||(t[13]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-indigo-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",Ve,[e("div",ze,[e("div",Ae,[v(h(E),{class:"w-8 h-8 text-white"})]),e("div",null,[t[9]||(t[9]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-purple-900 to-indigo-900 bg-clip-text text-transparent"}," Document Management ",-1)),t[10]||(t[10]=e("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Review and manage client documents efficiently",-1)),e("div",Be,[e("div",Te,[t[7]||(t[7]=e("div",{class:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"},null,-1)),e("span",Le,s(n.documents.total)+" Total Documents",1)]),t[8]||(t[8]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-2 h-2 bg-indigo-400 rounded-full"}),e("span",{class:"text-xs font-semibold text-indigo-700"},"Real-time Processing")],-1))])])])])])]),default:W(()=>[e("div",Ee,[e("div",Fe,[e("div",Pe,[e("div",Oe,[t[14]||(t[14]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Search & Filter Documents"),e("p",{class:"text-sm text-gray-600 mt-1"},"Find and manage your document library")],-1)),e("div",Ne,[v(h(E),{class:"w-5 h-5 text-gray-400"})])])]),e("div",He,[e("div",Re,[e("div",Ie,[t[16]||(t[16]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Search Documents",-1)),e("div",Ye,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>c.value.search=o),onInput:x,type:"text",placeholder:"Document name, client...",class:"w-full px-4 py-3 pl-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900"},null,544),[[Z,c.value.search]]),t[15]||(t[15]=e("svg",{class:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",qe,[t[18]||(t[18]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Client",-1)),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>c.value.client_id=o),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[t[17]||(t[17]=e("option",{value:""},"All Clients",-1)),(r(!0),i(V,null,z(n.clients,o=>(r(),i("option",{key:o.id,value:o.id},s(o.first_name)+" "+s(o.last_name),9,Ge))),128))],544),[[A,c.value.client_id]])]),e("div",Ke,[t[20]||(t[20]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Document Type",-1)),w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>c.value.type=o),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[t[19]||(t[19]=e("option",{value:""},"All Types",-1)),(r(!0),i(V,null,z(n.documentTypes,(o,f)=>(r(),i("option",{key:f,value:f},s(o),9,We))),128))],544),[[A,c.value.type]])]),e("div",Ze,[t[22]||(t[22]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Tax Year",-1)),w(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>c.value.year=o),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[t[21]||(t[21]=e("option",{value:""},"All Years",-1)),(r(!0),i(V,null,z(n.taxYears,o=>(r(),i("option",{key:o,value:o},s(o),9,Je))),128))],544),[[A,c.value.year]])]),e("div",Qe,[t[24]||(t[24]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Status",-1)),w(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>c.value.status=o),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[...t[23]||(t[23]=[e("option",{value:""},"All Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],544),[[A,c.value.status]])]),e("div",{class:"flex items-end md:col-span-2 lg:col-span-3 xl:col-span-1"},[e("button",{onClick:d,class:"w-full bg-gradient-to-r from-gray-100 to-slate-100 hover:from-gray-200 hover:to-slate-200 text-gray-700 px-4 py-3 rounded-xl font-semibold transition-all duration-200 shadow-sm hover:shadow-md flex items-center justify-center space-x-2"},[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("span",null,"Clear Filters",-1)])])])])])]),e("div",Xe,[e("div",et,[e("div",tt,[e("div",null,[t[26]||(t[26]=e("h3",{class:"text-xl font-bold text-gray-900"},"Document Library",-1)),e("p",ot,s(n.documents.total)+" documents in your system",1)]),e("div",st,[e("span",nt,s(n.documents.total)+" Total",1)])])]),n.documents.data.length===0?(r(),i("div",lt,[e("div",rt,[v(h(E),{class:"w-8 h-8 text-purple-600"})]),t[27]||(t[27]=e("p",{class:"text-gray-500 font-medium"},"No documents found",-1)),t[28]||(t[28]=e("p",{class:"text-gray-400 text-sm mt-1"},"Documents will appear here as they are uploaded",-1))])):(r(),i("div",at,[e("table",dt,[t[32]||(t[32]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Document "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Client "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Tax Year "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Uploaded "),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",it,[(r(!0),i(V,null,z(n.documents.data,o=>{var f,Y,q;return r(),i("tr",{key:o.id,class:"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 transition-all duration-200 group"},[e("td",ut,[e("div",ct,[e("div",mt,[v(h(E),{class:"w-5 h-5 text-purple-600"})]),e("div",null,[e("div",pt,s(o.name),1),e("div",ft,s(o.formatted_file_size),1)])])]),e("td",xt,[e("div",gt,s((f=o.uploader)==null?void 0:f.first_name)+" "+s((Y=o.uploader)==null?void 0:Y.last_name),1),e("div",bt,s((q=o.uploader)==null?void 0:q.email),1)]),e("td",vt,[e("span",yt,s(n.documentTypes[o.document_type]),1)]),e("td",ht,[e("span",wt,s(o.tax_year||"-"),1)]),e("td",_t,[e("span",{class:J([{"bg-amber-100 text-amber-800 border border-amber-200":o.status==="pending","bg-emerald-100 text-emerald-800 border border-emerald-200":o.status==="approved","bg-rose-100 text-rose-800 border border-rose-200":o.status==="rejected"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold shadow-sm"])},[o.status==="approved"?(r(),i("span",kt)):o.status==="rejected"?(r(),i("span",Ct)):(r(),i("span",jt)),B(" "+s(o.status.charAt(0).toUpperCase()+o.status.slice(1)),1)],2)]),e("td",$t,[e("span",Dt,s(m(o.created_at)),1)]),e("td",Mt,[e("div",St,[e("button",{onClick:G=>P(o),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Document"},[...t[29]||(t[29]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Ut),e("button",{onClick:G=>N(o),class:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Update Status"},[...t[30]||(t[30]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Vt),e("button",{onClick:G=>R(o),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Document"},[...t[31]||(t[31]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,zt)])])])}),128))])])])),n.documents.last_page>1?(r(),i("div",At,[e("div",Bt,[e("div",Tt,[t[33]||(t[33]=B(" Showing ",-1)),e("span",Lt,s(n.documents.from),1),t[34]||(t[34]=B(" to ",-1)),e("span",Et,s(n.documents.to),1),t[35]||(t[35]=B(" of ",-1)),e("span",Ft,s(n.documents.total),1),t[36]||(t[36]=B(" results ",-1))]),e("div",Pt,[(r(!0),i(V,null,z(F.value,o=>(r(),i("button",{key:o,onClick:f=>p(o),class:J(["px-4 py-2 text-sm rounded-lg font-semibold transition-all duration-200",o===n.documents.current_page?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200 shadow-sm"])},s(o),11,Ot))),128))])])])):I("",!0)])]),v(Se,{show:_.value,document:C.value,onClose:O},null,8,["show","document"]),l.value?(r(),i("div",Nt,[e("div",Ht,[e("div",Rt,[t[40]||(t[40]=e("div",{class:"flex items-center space-x-3 mb-6"},[e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])]),e("h3",{class:"text-xl font-bold text-gray-900"},"Update Document Status")],-1)),e("form",{onSubmit:te(H,["prevent"]),class:"space-y-6"},[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),w(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>b.value.status=o),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white",required:""},[...t[37]||(t[37]=[e("option",{value:"pending"},"Pending Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[A,b.value.status]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Notes (Optional)",-1)),w(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>b.value.notes=o),rows:"4",placeholder:"Add any notes about this status change...",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none",maxlength:"500"},null,512),[[Z,b.value.notes]])]),e("div",It,[e("button",{type:"button",onClick:j,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:u.value,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},s(u.value?"Updating...":"Update Status"),9,Yt)])],32)])])])):I("",!0)]),_:1}))}};export{eo as default};
