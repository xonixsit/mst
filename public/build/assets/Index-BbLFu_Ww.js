import{l as V,m as T,c,a as t,d as f,u,g as q,h as m,j as k,F as A,r as z,t as n,v as B,e as y,b as w,N as C,o as i,w as M,f as g,p as H,A as P,i as U}from"./app-BWB3rdom.js";import{_ as R}from"./AppLayout-BJNZDLSI.js";import{r as _}from"./EnvelopeIcon-Bubtz5Nt.js";import{r as I}from"./XMarkIcon-B3fjJU-K.js";import{r as E}from"./PaperAirplaneIcon-Cy--Lbd1.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as L}from"./CheckIcon-DXhH_8xj.js";import{r as G}from"./ClockIcon-DrAc3eKT.js";import{r as J}from"./EyeIcon-Cmk2tCob.js";import{r as K}from"./TrashIcon-B9gDtvos.js";const Q={class:"fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4"},W={class:"relative w-full max-w-2xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all"},X={class:"bg-gradient-to-r from-slate-50 via-cyan-50 to-blue-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},Y={class:"relative flex items-center justify-between"},Z={class:"flex items-center space-x-3"},tt={class:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg"},et={class:"p-8"},ot={class:"space-y-2"},st=["value"],rt={class:"space-y-2"},lt={class:"space-y-2"},nt={class:"space-y-2"},it={class:"flex justify-end gap-3 pt-6 border-t border-gray-200"},dt=["disabled"],at={key:1,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ut={key:2},ct={key:3},ft={__name:"NewMessageModal",props:{clients:Array},emits:["close"],setup(l,{emit:h}){const $=l,x=h,d=V(!1),a=T({client_id:"",recipient_id:"",subject:"",body:"",priority:"normal"}),j=()=>{const p=$.clients.find(s=>s.id==a.client_id);p&&(a.recipient_id=p.id)},S=()=>{d.value=!0,C.post("/admin/messages",a,{onSuccess:()=>{x("close")},onError:()=>{d.value=!1},onFinish:()=>{d.value=!1}})};return(p,s)=>(i(),c("div",Q,[t("div",W,[t("div",X,[s[7]||(s[7]=t("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-cyan-100/40 to-transparent rounded-bl-full"},null,-1)),t("div",Y,[t("div",Z,[t("div",tt,[f(u(_),{class:"w-5 h-5 text-white"})]),s[6]||(s[6]=t("div",null,[t("h3",{class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-cyan-900 to-blue-900 bg-clip-text text-transparent"},"New Message"),t("p",{class:"text-sm text-gray-600 font-medium"},"Send a message to your client")],-1))]),t("button",{onClick:s[0]||(s[0]=r=>p.$emit("close")),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[f(u(I),{class:"w-5 h-5"})])])]),t("div",et,[t("form",{onSubmit:q(S,["prevent"]),class:"space-y-6"},[t("div",ot,[s[9]||(s[9]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Client",-1)),m(t("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>a.client_id=r),onChange:j,required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white text-gray-900"},[s[8]||(s[8]=t("option",{value:""},"Select client",-1)),(i(!0),c(A,null,z(l.clients,r=>(i(),c("option",{key:r.id,value:r.id},n(r.name)+" ("+n(r.email)+") ",9,st))),128))],544),[[k,a.client_id]])]),t("div",rt,[s[10]||(s[10]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Subject",-1)),m(t("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>a.subject=r),type:"text",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter message subject"},null,512),[[B,a.subject]])]),t("div",lt,[s[12]||(s[12]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Priority",-1)),m(t("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>a.priority=r),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white text-gray-900"},[...s[11]||(s[11]=[t("option",{value:"low"},"Low",-1),t("option",{value:"normal"},"Normal",-1),t("option",{value:"high"},"High",-1)])],512),[[k,a.priority]])]),t("div",nt,[s[13]||(s[13]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Message",-1)),m(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=r=>a.body=r),rows:"6",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Enter your message"},null,512),[[B,a.body]])]),t("div",it,[t("button",{type:"button",onClick:s[5]||(s[5]=r=>p.$emit("close")),class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[f(u(I),{class:"w-4 h-4 mr-2"}),s[14]||(s[14]=y(" Cancel ",-1))]),t("button",{type:"submit",disabled:d.value,class:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center"},[d.value?(i(),c("svg",at,[...s[15]||(s[15]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),w(u(E),{key:0,class:"w-4 h-4 mr-2"})),d.value?(i(),c("span",ut,"Sending...")):(i(),c("span",ct,"Send Message"))],8,dt)])],32)])])]))}},bt={class:"relative overflow-hidden"},xt={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},mt={class:"flex items-center space-x-4"},gt={class:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-cyan-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-cyan-100"},pt={class:"flex items-center space-x-4 mt-3"},vt={class:"flex items-center space-x-2"},yt={class:"text-xs font-semibold text-cyan-700"},ht={class:"flex items-center space-x-2"},wt={class:"text-xs font-semibold text-red-700"},_t={class:"flex items-center"},kt={class:"py-12"},$t={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Ct={class:"relative overflow-hidden bg-gradient-to-br from-cyan-50 via-cyan-100 to-cyan-200 rounded-xl shadow-lg border border-cyan-200/50 hover:shadow-xl transition-all duration-300 group"},jt={class:"relative p-6"},St={class:"flex items-center justify-between"},Nt={class:"flex-1"},Ut={class:"text-3xl font-bold text-cyan-900 mt-2"},Vt={class:"p-4 bg-cyan-500 rounded-xl shadow-lg group-hover:bg-cyan-600 transition-colors duration-300"},At={class:"relative overflow-hidden bg-gradient-to-br from-red-50 via-red-100 to-red-200 rounded-xl shadow-lg border border-red-200/50 hover:shadow-xl transition-all duration-300 group"},zt={class:"relative p-6"},Bt={class:"flex items-center justify-between"},Dt={class:"flex-1"},Ft={class:"text-3xl font-bold text-red-900 mt-2"},Ht={class:"relative overflow-hidden bg-gradient-to-br from-amber-50 via-amber-100 to-amber-200 rounded-xl shadow-lg border border-amber-200/50 hover:shadow-xl transition-all duration-300 group"},It={class:"relative p-6"},Lt={class:"flex items-center justify-between"},Tt={class:"flex-1"},qt={class:"text-3xl font-bold text-amber-900 mt-2"},Pt={class:"relative overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 rounded-xl shadow-lg border border-emerald-200/50 hover:shadow-xl transition-all duration-300 group"},Rt={class:"relative p-6"},Et={class:"flex items-center justify-between"},Ot={class:"flex-1"},Gt={class:"text-3xl font-bold text-emerald-900 mt-2"},Jt={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},Kt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Qt={class:"flex items-center justify-between"},Wt={class:"flex items-center space-x-2"},Xt={class:"p-8"},Yt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6"},Zt={class:"md:col-span-2 space-y-2"},te={class:"relative"},ee={class:"space-y-2"},oe=["value"],se={class:"space-y-2"},re={class:"space-y-2"},le={class:"space-y-2"},ne={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},ie={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},de={class:"flex items-center justify-between"},ae={class:"text-sm text-gray-600 mt-1"},ue={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},ce={class:"text-sm font-semibold text-cyan-600"},fe={key:0,class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200"},be={class:"flex items-center justify-between"},xe={class:"flex items-center space-x-3"},me={class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},ge={class:"text-sm font-semibold text-blue-700"},pe={class:"flex space-x-3"},ve={key:1,class:"p-12 text-center"},ye={class:"w-16 h-16 bg-gradient-to-br from-cyan-100 to-blue-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},he={key:2,class:"divide-y divide-gray-100"},we={class:"flex items-start justify-between"},_e={class:"flex items-start gap-4 flex-1"},ke=["value"],$e={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-100 to-blue-200 flex items-center justify-center flex-shrink-0 shadow-sm"},Me={class:"flex-1 min-w-0"},Ce={class:"flex items-center gap-3 mb-4"},je={class:"text-lg font-bold text-gray-900 truncate"},Se={class:"flex items-center gap-2"},Ne={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-800 border border-blue-200 shadow-sm"},Ue={class:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 mb-4 border border-gray-100"},Ve={class:"grid grid-cols-3 gap-4 text-sm"},Ae={class:"text-gray-900 mt-1 truncate font-medium"},ze={class:"text-gray-900 mt-1 truncate font-medium"},Be={class:"text-gray-900 mt-1 truncate font-medium"},De={class:"text-sm text-gray-700 line-clamp-2 leading-relaxed mb-4 font-medium"},Fe={class:"flex items-center text-xs text-gray-500 font-medium"},He={class:"flex flex-col gap-2 ml-4"},Ie=["onClick"],Le=["onClick"],Te={key:3,class:"px-6 py-4 border-t border-gray-200"},qe={class:"flex items-center justify-between"},Pe={class:"text-sm text-gray-700"},Re={class:"flex gap-2"},Ee={__name:"Index",props:{messages:Object,clients:Array,filters:Object,stats:Object},setup(l){const h=l,$=V(!1),x=V([]),d=T({search:h.filters.search||"",client_id:h.filters.client_id||"",status:h.filters.status||"",priority:h.filters.priority||"",sender_type:h.filters.sender_type||""}),a=()=>{C.get("/admin/messages",d,{preserveState:!0,replace:!0})},j=r=>{if(!r){console.error("Message ID is required");return}C.post(`/admin/messages/${r}/mark-read`,{},{preserveScroll:!0})},S=r=>{if(!r){console.error("Message ID is required");return}confirm("Are you sure you want to delete this message?")&&C.delete(`/admin/messages/${r}`,{preserveScroll:!0})},p=r=>{if(x.value.length===0)return;const e=r==="delete"?"Are you sure you want to delete the selected messages?":`Are you sure you want to ${r.replace("_"," ")} the selected messages?`;confirm(e)&&C.post("/admin/messages/bulk-action",{action:r,message_ids:x.value},{preserveScroll:!0,onSuccess:()=>{x.value=[]}})},s=r=>{const e=new Date(r),o=new Date,v=(o-e)/(1e3*60*60);if(v<1){const b=Math.floor((o-e)/6e4);return`${b} minute${b!==1?"s":""} ago`}else if(v<24){const b=Math.floor(v);return`${b} hour${b!==1?"s":""} ago`}else if(v<168){const b=Math.floor(v/24);return`${b} day${b!==1?"s":""} ago`}else return e.toLocaleDateString()};return(r,e)=>(i(),w(R,{title:"Messages Management"},{header:M(()=>[t("div",bt,[e[15]||(e[15]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-cyan-50 to-blue-50"},null,-1)),e[16]||(e[16]=t("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-cyan-100/40 to-transparent rounded-bl-full"},null,-1)),e[17]||(e[17]=t("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),t("div",xt,[t("div",mt,[t("div",gt,[f(u(_),{class:"w-8 h-8 text-white"})]),t("div",null,[e[12]||(e[12]=t("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-cyan-900 to-blue-900 bg-clip-text text-transparent"}," Messages Management ",-1)),e[13]||(e[13]=t("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Manage client communications and messages",-1)),t("div",pt,[t("div",vt,[e[10]||(e[10]=t("div",{class:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"},null,-1)),t("span",yt,n(l.stats.total_messages)+" Total Messages",1)]),t("div",ht,[e[11]||(e[11]=t("div",{class:"w-2 h-2 bg-red-400 rounded-full"},null,-1)),t("span",wt,n(l.stats.unread_messages)+" Unread",1)])])])]),t("div",_t,[t("button",{onClick:e[0]||(e[0]=o=>$.value=!0),class:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),t("span",{class:"font-semibold"},"New Message",-1)])])])])])]),default:M(()=>[t("div",kt,[t("div",$t,[t("div",Mt,[t("div",Ct,[e[19]||(e[19]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-cyan-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",jt,[t("div",St,[t("div",Nt,[e[18]||(e[18]=t("p",{class:"text-sm font-semibold text-cyan-700 uppercase tracking-wide"},"Total Messages",-1)),t("p",Ut,n(l.stats.total_messages),1)]),t("div",Vt,[f(u(_),{class:"w-8 h-8 text-white"})])])])]),t("div",At,[e[22]||(e[22]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-red-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",zt,[t("div",Bt,[t("div",Dt,[e[20]||(e[20]=t("p",{class:"text-sm font-semibold text-red-700 uppercase tracking-wide"},"Unread",-1)),t("p",Ft,n(l.stats.unread_messages),1)]),e[21]||(e[21]=t("div",{class:"p-4 bg-red-500 rounded-xl shadow-lg group-hover:bg-red-600 transition-colors duration-300"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])])]),t("div",Ht,[e[25]||(e[25]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-amber-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",It,[t("div",Lt,[t("div",Tt,[e[23]||(e[23]=t("p",{class:"text-sm font-semibold text-amber-700 uppercase tracking-wide"},"High Priority",-1)),t("p",qt,n(l.stats.high_priority),1)]),e[24]||(e[24]=t("div",{class:"p-4 bg-amber-500 rounded-xl shadow-lg group-hover:bg-amber-600 transition-colors duration-300"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])])]),t("div",Pt,[e[28]||(e[28]=t("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-emerald-300/30 to-transparent rounded-bl-full"},null,-1)),t("div",Rt,[t("div",Et,[t("div",Ot,[e[26]||(e[26]=t("p",{class:"text-sm font-semibold text-emerald-700 uppercase tracking-wide"},"From Clients",-1)),t("p",Gt,n(l.stats.client_messages),1)]),e[27]||(e[27]=t("div",{class:"p-4 bg-emerald-500 rounded-xl shadow-lg group-hover:bg-emerald-600 transition-colors duration-300"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])])])]),t("div",Jt,[t("div",Kt,[t("div",Qt,[e[29]||(e[29]=t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Search & Filter Messages"),t("p",{class:"text-sm text-gray-600 mt-1"},"Find and manage your message communications")],-1)),t("div",Wt,[f(u(_),{class:"w-5 h-5 text-gray-400"})])])]),t("div",Xt,[t("div",Yt,[t("div",Zt,[e[31]||(e[31]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Search Messages",-1)),t("div",te,[m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.search=o),onInput:a,type:"text",placeholder:"Subject, content, sender...",class:"w-full px-4 py-3 pl-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200"},null,544),[[B,d.search]]),e[30]||(e[30]=t("svg",{class:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",ee,[e[33]||(e[33]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Client",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>d.client_id=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[e[32]||(e[32]=t("option",{value:""},"All Clients",-1)),(i(!0),c(A,null,z(l.clients,o=>(i(),c("option",{key:o.id,value:o.id},n(o.name),9,oe))),128))],544),[[k,d.client_id]])]),t("div",se,[e[35]||(e[35]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Status",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>d.status=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[...e[34]||(e[34]=[t("option",{value:""},"All Status",-1),t("option",{value:"unread"},"Unread",-1),t("option",{value:"read"},"Read",-1)])],544),[[k,d.status]])]),t("div",re,[e[37]||(e[37]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Priority",-1)),m(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>d.priority=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[...e[36]||(e[36]=[t("option",{value:""},"All Priorities",-1),t("option",{value:"low"},"Low",-1),t("option",{value:"normal"},"Normal",-1),t("option",{value:"high"},"High",-1)])],544),[[k,d.priority]])]),t("div",le,[e[39]||(e[39]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Sender",-1)),m(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>d.sender_type=o),onChange:a,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200 bg-white"},[...e[38]||(e[38]=[t("option",{value:""},"All Senders",-1),t("option",{value:"client"},"Clients",-1),t("option",{value:"admin"},"Staff",-1)])],544),[[k,d.sender_type]])])])])])])]),t("div",ne,[t("div",ie,[t("div",de,[t("div",null,[e[40]||(e[40]=t("h3",{class:"text-xl font-bold text-gray-900"},"Message Inbox",-1)),t("p",ae,n(l.messages.total)+" messages in your inbox",1)]),t("div",ue,[t("span",ce,n(l.messages.total)+" Total",1)])])]),x.value.length>0?(i(),c("div",fe,[t("div",be,[t("div",xe,[t("div",me,[f(u(L),{class:"w-4 h-4 text-blue-600"})]),t("span",ge,n(x.value.length)+" message"+n(x.value.length!==1?"s":"")+" selected ",1)]),t("div",pe,[t("button",{onClick:e[6]||(e[6]=o=>p("mark_read")),class:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md"}," Mark Read "),t("button",{onClick:e[7]||(e[7]=o=>p("delete")),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md"}," Delete ")])])])):g("",!0),l.messages.data.length===0?(i(),c("div",ve,[t("div",ye,[f(u(_),{class:"w-8 h-8 text-cyan-600"})]),e[41]||(e[41]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No messages found",-1)),e[42]||(e[42]=t("p",{class:"text-gray-500"},"No messages match your current filters or you have no messages yet.",-1))])):(i(),c("div",he,[(i(!0),c(A,null,z(l.messages.data,o=>{var v,b,D,F;return i(),c("div",{key:(o==null?void 0:o.id)||Math.random(),class:H(["p-6 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 transition-all duration-200 border-l-4 group",{"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-blue-500":!(o!=null&&o.is_read),"border-l-transparent":o==null?void 0:o.is_read}])},[t("div",we,[t("div",_e,[m(t("input",{"onUpdate:modelValue":e[8]||(e[8]=N=>x.value=N),value:o==null?void 0:o.id,type:"checkbox",class:"mt-2 w-4 h-4 rounded border-2 border-gray-300 text-cyan-600 focus:ring-2 focus:ring-cyan-500 focus:ring-offset-0 transition-all duration-200"},null,8,ke),[[P,x.value]]),t("div",$e,[f(u(_),{class:"w-6 h-6 text-cyan-600"})]),t("div",Me,[t("div",Ce,[t("h4",je,n(o==null?void 0:o.subject),1),t("div",Se,[o!=null&&o.is_read?g("",!0):(i(),c("span",Ne,[...e[43]||(e[43]=[t("div",{class:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 animate-pulse"},null,-1),y(" New ",-1)])])),t("span",{class:H([{"bg-red-100 text-red-800 border-red-200":(o==null?void 0:o.priority)==="high","bg-amber-100 text-amber-800 border-amber-200":(o==null?void 0:o.priority)==="normal","bg-gray-100 text-gray-800 border-gray-200":(o==null?void 0:o.priority)==="low"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border shadow-sm"])},n(o!=null&&o.priority?o.priority.charAt(0).toUpperCase()+o.priority.slice(1):"Normal"),3)])]),t("div",Ue,[t("div",Ve,[t("div",null,[e[44]||(e[44]=t("span",{class:"font-semibold text-gray-600"},"From:",-1)),t("p",Ae,n((v=o==null?void 0:o.sender)!=null&&v.first_name?`${o.sender.first_name} ${o.sender.last_name||""}`.trim():"Unknown"),1)]),t("div",null,[e[45]||(e[45]=t("span",{class:"font-semibold text-gray-600"},"To:",-1)),t("p",ze,n((b=o==null?void 0:o.recipient)!=null&&b.first_name?`${o.recipient.first_name} ${o.recipient.last_name||""}`.trim():"Unknown"),1)]),t("div",null,[e[46]||(e[46]=t("span",{class:"font-semibold text-gray-600"},"Client:",-1)),t("p",Be,n((F=(D=o==null?void 0:o.client)==null?void 0:D.user)!=null&&F.first_name?`${o.client.user.first_name} ${o.client.user.last_name||""}`.trim():"Unknown Client"),1)])])]),t("p",De,n(o==null?void 0:o.body),1),t("div",Fe,[f(u(G),{class:"w-4 h-4 mr-2"}),y(" "+n(s(o==null?void 0:o.created_at)),1)])])]),t("div",He,[o!=null&&o.id?(i(),w(u(U),{key:0,href:`/admin/messages/${o.id}`,class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},{default:M(()=>[f(u(J),{class:"w-3 h-3 mr-1.5"}),e[47]||(e[47]=y(" View ",-1))]),_:1},8,["href"])):g("",!0),!(o!=null&&o.is_read)&&(o!=null&&o.id)?(i(),c("button",{key:1,onClick:N=>j(o.id),class:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},[f(u(L),{class:"w-3 h-3 mr-1.5"}),e[48]||(e[48]=y(" Mark Read ",-1))],8,Ie)):g("",!0),o!=null&&o.id?(i(),c("button",{key:2,onClick:N=>S(o.id),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},[f(u(K),{class:"w-3 h-3 mr-1.5"}),e[49]||(e[49]=y(" Delete ",-1))],8,Le)):g("",!0)])])],2)}),128))])),l.messages.last_page>1?(i(),c("div",Te,[t("div",qe,[t("div",Pe," Showing "+n(l.messages.from)+" to "+n(l.messages.to)+" of "+n(l.messages.total)+" messages ",1),t("div",Re,[l.messages.prev_page_url?(i(),w(u(U),{key:0,href:l.messages.prev_page_url,class:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200"},{default:M(()=>[...e[50]||(e[50]=[y(" Previous ",-1)])]),_:1},8,["href"])):g("",!0),l.messages.next_page_url?(i(),w(u(U),{key:1,href:l.messages.next_page_url,class:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200"},{default:M(()=>[...e[51]||(e[51]=[y(" Next ",-1)])]),_:1},8,["href"])):g("",!0)])])])):g("",!0)]),$.value?(i(),w(ft,{key:0,clients:l.clients,onClose:e[9]||(e[9]=o=>$.value=!1)},null,8,["clients"])):g("",!0)]),_:1}))}},eo=O(Ee,[["__scopeId","data-v-31feea72"]]);export{eo as default};
