import{l as v,q as C,z as Z,c as i,o as r,a as e,t as l,n as J,s as q,f as R,d as y,u as w,b as Q,w as G,h as k,v as K,F as V,r as P,j as z,p as W,e as F,g as ee,N as L}from"./app-B-U-tnTn.js";import{_ as X,A as te}from"./AppLayout-BRxh9ao4.js";import{r as se}from"./XMarkIcon-CvuRHuJL.js";import{r as oe}from"./MinusIcon-BhpQvHDk.js";import{r as ne}from"./PlusIcon-th7BT7Lz.js";import{r as le}from"./DocumentIcon-gigBF6Wc.js";import{r as A}from"./DocumentTextIcon-BNS5QIba.js";const re={class:"pdf-viewer-container h-full"},ae={key:0,class:"flex items-center justify-center h-full"},ie={key:1,class:"flex items-center justify-center h-full"},de={class:"text-center"},ue={class:"text-gray-600"},ce=["src"],me={__name:"PdfViewer",props:{pdfUrl:{type:String,required:!0},documentId:{type:String,required:!0},documentName:{type:String,default:"Document"},height:{type:Number,default:600}},setup(n){const h=n,o=v(!0),b=v(null),c=C(()=>{if(!h.pdfUrl)return"";const d=new URL(h.pdfUrl,window.location.origin);return d.searchParams.set("view","FitH"),d.searchParams.set("toolbar","1"),d.searchParams.set("navpanes","0"),d.toString()}),_=()=>{o.value=!1,b.value=null},$=()=>{o.value=!1,b.value="Unable to display PDF. Please download the file to view it."};return Z(()=>{setTimeout(()=>{o.value&&(o.value=!1)},5e3)}),(d,m)=>(r(),i("div",re,[o.value?(r(),i("div",ae,[...m[0]||(m[0]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e("p",{class:"text-gray-600"},"Loading PDF...")],-1)])])):b.value?(r(),i("div",ie,[e("div",de,[m[1]||(m[1]=e("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),m[2]||(m[2]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Failed to load PDF",-1)),e("p",ue,l(b.value),1)])])):(r(),i("iframe",{key:2,src:c.value,class:"w-full h-full border-0",style:J({height:n.height+"px"}),onLoad:_,onError:$},null,44,ce))]))}},pe=X(me,[["__scopeId","data-v-2e60b3b4"]]),fe={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50"},ge={class:"relative min-h-screen flex items-center justify-center p-4"},xe={class:"relative bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-screen overflow-hidden"},ve={class:"flex items-center justify-between p-6 border-b border-gray-200"},be={class:"text-lg font-medium text-gray-900"},ye={class:"mt-1 text-sm text-gray-500"},he={class:"flex items-center space-x-2"},we={class:"relative",style:{height:"calc(100vh - 200px)"}},_e={key:1,class:"h-full bg-gray-50 p-4"},ke={class:"flex items-center justify-between mb-4"},$e={class:"flex items-center space-x-2"},Ce=["disabled"],je={class:"text-sm text-gray-600 px-2"},De=["disabled"],Me={class:"overflow-auto h-full bg-white rounded border border-gray-200 p-4"},Se=["src","alt"],Ue={key:2,class:"h-full bg-gray-50 flex items-center justify-center"},Ve={class:"text-center"},Pe={class:"mt-2 text-sm text-gray-500"},ze={__name:"DocumentViewModal",props:{show:{type:Boolean,default:!1},document:{type:Object,default:null}},emits:["close"],setup(n,{emit:h}){const o=n,b=h,c=v(1),_=C(()=>o.document?`/admin/documents/${o.document.id}/download`:""),$=C(()=>o.document?`/admin/documents/${o.document.id}/download`:""),d=C(()=>o.document?!!(o.document.mime_type==="application/pdf"||o.document.name&&o.document.name.toLowerCase().split(".").pop()==="pdf"||o.document.file_path&&o.document.file_path.toLowerCase().split(".").pop()==="pdf"):!1),m=C(()=>{var u;return o.document?((u=o.document.mime_type)==null?void 0:u.startsWith("image/"))||/\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(o.document.name):!1}),B=u=>{if(!u)return"Unknown";const g=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(u)/Math.log(1024));return Math.round(u/Math.pow(1024,p)*100)/100+" "+g[p]},T=()=>{c.value<3&&(c.value=Math.min(3,c.value+.25))},E=()=>{c.value>.5&&(c.value=Math.max(.5,c.value-.25))},N=()=>{c.value=1},j=()=>{if(!o.document)return;const u=`/admin/documents/${o.document.id}/download?download=1`,g=o.document.original_name||o.document.name||"document.pdf",p=document.createElement("a");p.href=u,p.download=g,p.style.display="none",document.body.appendChild(p),p.click(),document.body.removeChild(p)},I=()=>{console.log("Document loaded successfully")},O=u=>{console.error("Document load error:",u)};q(()=>o.document,()=>{c.value=1});const x=u=>{u.key==="Escape"&&o.show&&b("close")};return q(()=>o.show,u=>{u?(document.addEventListener("keydown",x),document.body.style.overflow="hidden"):(document.removeEventListener("keydown",x),document.body.style.overflow="")}),(u,g)=>{var p,a,t,s,f,D,M,S,U;return n.show?(r(),i("div",fe,[e("div",ge,[e("div",xe,[e("div",ve,[e("div",null,[e("h3",be,l((p=n.document)==null?void 0:p.name),1),e("p",ye,l((s=(t=(a=n.document)==null?void 0:a.client)==null?void 0:t.user)==null?void 0:s.first_name)+" "+l((M=(D=(f=n.document)==null?void 0:f.client)==null?void 0:D.user)==null?void 0:M.last_name)+" â€¢ "+l(B((S=n.document)==null?void 0:S.file_size)),1)]),e("div",he,[e("button",{onClick:j,class:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm"}," Download "),e("button",{onClick:g[0]||(g[0]=H=>u.$emit("close")),class:"p-2 text-gray-400 hover:text-gray-600"},[y(w(se),{class:"w-6 h-6"})])])]),e("div",we,[d.value?(r(),Q(pe,{key:0,"pdf-url":$.value,"document-id":n.document.id.toString(),"document-name":n.document.name,height:600},null,8,["pdf-url","document-id","document-name"])):m.value?(r(),i("div",_e,[e("div",ke,[g[1]||(g[1]=e("h4",{class:"text-sm font-medium text-gray-900"},"Image Preview",-1)),e("div",$e,[e("button",{onClick:E,disabled:c.value<=.5,class:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 bg-white border border-gray-300 rounded"},[y(w(oe),{class:"w-4 h-4"})],8,Ce),e("span",je,l(Math.round(c.value*100))+"%",1),e("button",{onClick:T,disabled:c.value>=3,class:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 bg-white border border-gray-300 rounded"},[y(w(ne),{class:"w-4 h-4"})],8,De),e("button",{onClick:N,class:"px-3 py-2 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50"}," Reset ")])]),e("div",Me,[e("img",{src:_.value,alt:n.document.name,style:J({transform:`scale(${c.value})`,transformOrigin:"top left"}),class:"max-w-full h-auto mx-auto transition-transform duration-200",onLoad:I,onError:O},null,44,Se)])])):(r(),i("div",Ue,[e("div",Ve,[y(w(le),{class:"mx-auto h-16 w-16 text-gray-400"}),g[2]||(g[2]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"Preview not available",-1)),e("p",Pe," This file type ("+l(((U=n.document)==null?void 0:U.mime_type)||"unknown")+") cannot be previewed in the browser. ",1),e("div",{class:"mt-6"},[e("button",{onClick:j,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium"}," Download to View ")])])]))])])])])):R("",!0)}}},Fe=X(ze,[["__scopeId","data-v-d363072d"]]),Le={class:"relative overflow-hidden"},Ae={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},Be={class:"flex items-center space-x-4"},Te={class:"w-16 h-16 bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-purple-100"},Ee={class:"flex items-center space-x-4 mt-3"},Ne={class:"flex items-center space-x-2"},Ie={class:"text-xs font-semibold text-purple-700"},Oe={class:"space-y-6"},He={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},Re={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Ye={class:"flex items-center justify-between"},qe={class:"flex items-center space-x-2"},Ge={class:"p-8"},Ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6"},We={class:"md:col-span-2 lg:col-span-1 space-y-2"},Ze={class:"relative"},Je={class:"space-y-2"},Qe=["value"],Xe={class:"space-y-2"},et=["value"],tt={class:"space-y-2"},st=["value"],ot={class:"space-y-2"},nt={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},lt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},rt={class:"flex items-center justify-between"},at={class:"text-sm text-gray-600 mt-1"},it={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},dt={class:"text-sm font-semibold text-purple-600"},ut={key:0,class:"p-12 text-center"},ct={class:"w-16 h-16 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},mt={key:1,class:"overflow-x-auto"},pt={class:"min-w-full"},ft={class:"bg-white divide-y divide-gray-100"},gt={class:"px-6 py-5 whitespace-nowrap"},xt={class:"flex items-center"},vt={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4 shadow-sm"},bt={class:"text-sm font-semibold text-gray-900"},yt={class:"text-xs text-gray-500 font-medium"},ht={class:"px-6 py-5 whitespace-nowrap"},wt={class:"text-sm font-semibold text-gray-900"},_t={class:"text-xs text-gray-500 font-medium"},kt={class:"px-6 py-5 whitespace-nowrap"},$t={class:"text-sm font-medium text-gray-900"},Ct={class:"px-6 py-5 whitespace-nowrap"},jt={class:"text-sm font-semibold text-gray-900"},Dt={class:"px-6 py-5 whitespace-nowrap"},Mt={key:0,class:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"},St={key:1,class:"w-1.5 h-1.5 bg-rose-400 rounded-full mr-2"},Ut={key:2,class:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-2"},Vt={class:"px-6 py-5 whitespace-nowrap"},Pt={class:"text-sm text-gray-600 font-medium"},zt={class:"px-6 py-5 text-center"},Ft={class:"flex justify-center space-x-2"},Lt=["onClick"],At=["onClick"],Bt=["onClick"],Tt={key:2,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},Et={class:"flex justify-between items-center"},Nt={class:"text-sm text-gray-600 font-medium"},It={class:"font-bold text-gray-900"},Ot={class:"font-bold text-gray-900"},Ht={class:"font-bold text-purple-600"},Rt={class:"flex space-x-2"},Yt=["onClick"],qt={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Gt={class:"relative top-20 mx-auto p-6 border w-96 shadow-2xl rounded-2xl bg-white"},Kt={class:"mt-3"},Wt={class:"flex justify-end space-x-3 pt-4"},Zt=["disabled"],ns={__name:"Documents",props:{documents:Object,filters:Object,clients:Array,taxYears:Array,documentTypes:Object},setup(n){const h=n,o=v(!1),b=v(!1),c=v(!1),_=v(null),$=v(null),d=v({...h.filters}),m=v({status:"",notes:""}),B=C(()=>{const a=[],t=h.documents.current_page,s=h.documents.last_page;for(let f=Math.max(1,t-2);f<=Math.min(s,t+2);f++)a.push(f);return a}),T=a=>{console.log("Viewing document:",a),a&&a.id?L.get(`/admin/documents/${a.id}`):console.error("Document or document ID is missing:",a)},E=()=>{b.value=!1,$.value=null},N=a=>{_.value=a,m.value={status:a.status,notes:a.notes||""},o.value=!0},j=()=>{o.value=!1,_.value=null,m.value={status:"",notes:""}},I=()=>{c.value=!0,L.patch(`/admin/documents/${_.value.id}/status`,m.value,{onSuccess:()=>{j()},onFinish:()=>{c.value=!1}})},O=a=>{confirm("Are you sure you want to delete this document? This action cannot be undone.")&&L.delete(`/admin/documents/${a.id}`)},x=()=>{const a=Object.fromEntries(Object.entries(d.value).filter(([t,s])=>s!==""&&s!==null));L.get("/admin/documents",a,{preserveState:!0,replace:!0})},u=()=>{d.value={search:"",client_id:"",type:"",year:"",status:""},x()},g=a=>{L.get("/admin/documents",{...d.value,page:a},{preserveState:!0,replace:!0})},p=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return Z(()=>{const t=new URLSearchParams(window.location.search).get("client_id");t&&!d.value.client_id&&(d.value.client_id=t,x())}),(a,t)=>(r(),Q(te,null,{header:G(()=>[e("div",Le,[t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-purple-50 to-indigo-50"},null,-1)),t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-purple-100/40 to-transparent rounded-bl-full"},null,-1)),t[13]||(t[13]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-indigo-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",Ae,[e("div",Be,[e("div",Te,[y(w(A),{class:"w-8 h-8 text-white"})]),e("div",null,[t[9]||(t[9]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-purple-900 to-indigo-900 bg-clip-text text-transparent"}," Document Management ",-1)),t[10]||(t[10]=e("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Review and manage client documents efficiently",-1)),e("div",Ee,[e("div",Ne,[t[7]||(t[7]=e("div",{class:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"},null,-1)),e("span",Ie,l(n.documents.total)+" Total Documents",1)]),t[8]||(t[8]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-2 h-2 bg-indigo-400 rounded-full"}),e("span",{class:"text-xs font-semibold text-indigo-700"},"Real-time Processing")],-1))])])])])])]),default:G(()=>[e("div",Oe,[e("div",He,[e("div",Re,[e("div",Ye,[t[14]||(t[14]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Search & Filter Documents"),e("p",{class:"text-sm text-gray-600 mt-1"},"Find and manage your document library")],-1)),e("div",qe,[y(w(A),{class:"w-5 h-5 text-gray-400"})])])]),e("div",Ge,[e("div",Ke,[e("div",We,[t[16]||(t[16]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Search Documents",-1)),e("div",Ze,[k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.search=s),onInput:x,type:"text",placeholder:"Document name, client...",class:"w-full px-4 py-3 pl-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900"},null,544),[[K,d.value.search]]),t[15]||(t[15]=e("svg",{class:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",Je,[t[18]||(t[18]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Client",-1)),k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.client_id=s),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[t[17]||(t[17]=e("option",{value:""},"All Clients",-1)),(r(!0),i(V,null,P(n.clients,s=>(r(),i("option",{key:s.id,value:s.id},l(s.first_name)+" "+l(s.last_name),9,Qe))),128))],544),[[z,d.value.client_id]])]),e("div",Xe,[t[20]||(t[20]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Document Type",-1)),k(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value.type=s),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[t[19]||(t[19]=e("option",{value:""},"All Types",-1)),(r(!0),i(V,null,P(n.documentTypes,(s,f)=>(r(),i("option",{key:f,value:f},l(s),9,et))),128))],544),[[z,d.value.type]])]),e("div",tt,[t[22]||(t[22]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Tax Year",-1)),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.value.year=s),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[t[21]||(t[21]=e("option",{value:""},"All Years",-1)),(r(!0),i(V,null,P(n.taxYears,s=>(r(),i("option",{key:s,value:s},l(s),9,st))),128))],544),[[z,d.value.year]])]),e("div",ot,[t[24]||(t[24]=e("label",{class:"block text-sm font-semibold text-gray-700"},"Status",-1)),k(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>d.value.status=s),onChange:x,class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[...t[23]||(t[23]=[e("option",{value:""},"All Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],544),[[z,d.value.status]])]),e("div",{class:"flex items-end md:col-span-2 lg:col-span-3 xl:col-span-1"},[e("button",{onClick:u,class:"w-full bg-gradient-to-r from-gray-100 to-slate-100 hover:from-gray-200 hover:to-slate-200 text-gray-700 px-4 py-3 rounded-xl font-semibold transition-all duration-200 shadow-sm hover:shadow-md flex items-center justify-center space-x-2"},[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("span",null,"Clear Filters",-1)])])])])])]),e("div",nt,[e("div",lt,[e("div",rt,[e("div",null,[t[26]||(t[26]=e("h3",{class:"text-xl font-bold text-gray-900"},"Document Library",-1)),e("p",at,l(n.documents.total)+" documents in your system",1)]),e("div",it,[e("span",dt,l(n.documents.total)+" Total",1)])])]),n.documents.data.length===0?(r(),i("div",ut,[e("div",ct,[y(w(A),{class:"w-8 h-8 text-purple-600"})]),t[27]||(t[27]=e("p",{class:"text-gray-500 font-medium"},"No documents found",-1)),t[28]||(t[28]=e("p",{class:"text-gray-400 text-sm mt-1"},"Documents will appear here as they are uploaded",-1))])):(r(),i("div",mt,[e("table",pt,[t[32]||(t[32]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Document "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Client "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Tax Year "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Uploaded "),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ft,[(r(!0),i(V,null,P(n.documents.data,s=>{var f,D,M,S,U,H;return r(),i("tr",{key:s.id,class:"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 transition-all duration-200 group"},[e("td",gt,[e("div",xt,[e("div",vt,[y(w(A),{class:"w-5 h-5 text-purple-600"})]),e("div",null,[e("div",bt,l(s.name),1),e("div",yt,l(s.formatted_file_size),1)])])]),e("td",ht,[e("div",wt,l((D=(f=s.client)==null?void 0:f.user)==null?void 0:D.first_name)+" "+l((S=(M=s.client)==null?void 0:M.user)==null?void 0:S.last_name),1),e("div",_t,l((H=(U=s.client)==null?void 0:U.user)==null?void 0:H.email),1)]),e("td",kt,[e("span",$t,l(n.documentTypes[s.document_type]),1)]),e("td",Ct,[e("span",jt,l(s.tax_year||"-"),1)]),e("td",Dt,[e("span",{class:W([{"bg-amber-100 text-amber-800 border border-amber-200":s.status==="pending","bg-emerald-100 text-emerald-800 border border-emerald-200":s.status==="approved","bg-rose-100 text-rose-800 border border-rose-200":s.status==="rejected"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold shadow-sm"])},[s.status==="approved"?(r(),i("span",Mt)):s.status==="rejected"?(r(),i("span",St)):(r(),i("span",Ut)),F(" "+l(s.status.charAt(0).toUpperCase()+s.status.slice(1)),1)],2)]),e("td",Vt,[e("span",Pt,l(p(s.created_at)),1)]),e("td",zt,[e("div",Ft,[e("button",{onClick:Y=>T(s),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Details"},[...t[29]||(t[29]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Lt),e("button",{onClick:Y=>N(s),class:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Update Status"},[...t[30]||(t[30]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,At),e("button",{onClick:Y=>O(s),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Document"},[...t[31]||(t[31]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Bt)])])])}),128))])])])),n.documents.last_page>1?(r(),i("div",Tt,[e("div",Et,[e("div",Nt,[t[33]||(t[33]=F(" Showing ",-1)),e("span",It,l(n.documents.from),1),t[34]||(t[34]=F(" to ",-1)),e("span",Ot,l(n.documents.to),1),t[35]||(t[35]=F(" of ",-1)),e("span",Ht,l(n.documents.total),1),t[36]||(t[36]=F(" results ",-1))]),e("div",Rt,[(r(!0),i(V,null,P(B.value,s=>(r(),i("button",{key:s,onClick:f=>g(s),class:W(["px-4 py-2 text-sm rounded-lg font-semibold transition-all duration-200",s===n.documents.current_page?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200 shadow-sm"])},l(s),11,Yt))),128))])])])):R("",!0)])]),y(Fe,{show:b.value,document:$.value,onClose:E},null,8,["show","document"]),o.value?(r(),i("div",qt,[e("div",Gt,[e("div",Kt,[t[40]||(t[40]=e("div",{class:"flex items-center space-x-3 mb-6"},[e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])]),e("h3",{class:"text-xl font-bold text-gray-900"},"Update Document Status")],-1)),e("form",{onSubmit:ee(I,["prevent"]),class:"space-y-6"},[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),k(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>m.value.status=s),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white",required:""},[...t[37]||(t[37]=[e("option",{value:"pending"},"Pending Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[z,m.value.status]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Notes (Optional)",-1)),k(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>m.value.notes=s),rows:"4",placeholder:"Add any notes about this status change...",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none",maxlength:"500"},null,512),[[K,m.value.notes]])]),e("div",Wt,[e("button",{type:"button",onClick:j,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:c.value,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},l(c.value?"Updating...":"Update Status"),9,Zt)])],32)])])])):R("",!0)]),_:1}))}};export{ns as default};
