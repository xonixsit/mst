import{l as g,q as E,s as H,c as d,f as C,a as t,t as a,h as p,j as M,k as V,F as D,r as B,v as F,y as P,o as i,B as L,b as q,w as I,d as W,e as O,p as A,N as k}from"./app-CzvPvdPJ.js";import{l as Y}from"./lodash-CvNoDlCf.js";import{_ as R,A as G}from"./AppLayout-DDhoF4nJ.js";const J={name:"BulkOperationsModal",props:{show:Boolean,selectedClients:Array,users:{type:Array,default:()=>[]}},emits:["close","execute"],setup(u,{emit:e}){const r=g(""),o=g(""),v=g(!1),c=g({user_id:null,subject:"",message:"",document_types:[],format:"excel",confirm_delete:!1}),n=[{value:"w2",label:"W-2 Forms"},{value:"1099",label:"1099 Forms"},{value:"receipts",label:"Receipts"},{value:"bank_statements",label:"Bank Statements"},{value:"tax_returns",label:"Previous Tax Returns"},{value:"id_documents",label:"ID Documents"}],h={document_request:{subject:"Document Request - Tax Preparation",message:`Dear [Client Name],

We need the following documents to proceed with your tax preparation:

[Document List]

Please upload these documents at your earliest convenience.

Best regards,
[Your Name]`},appointment_reminder:{subject:"Appointment Reminder",message:`Dear [Client Name],

This is a reminder about your upcoming appointment on [Date] at [Time].

Please let us know if you need to reschedule.

Best regards,
[Your Name]`},status_update:{subject:"Status Update - Your Tax Return",message:`Dear [Client Name],

We wanted to update you on the status of your tax return preparation.

[Status Details]

If you have any questions, please don't hesitate to contact us.

Best regards,
[Your Name]`},welcome:{subject:"Welcome to Our Tax Services",message:`Dear [Client Name],

Welcome to our tax consulting services! We're excited to work with you.

To get started, please log into your client portal and complete your information.

Best regards,
[Your Name]`}},s=E(()=>u.selectedClients.length),x=E(()=>{if(!r.value)return!1;switch(r.value){case"assign_user":return c.value.user_id;case"send_email":return c.value.subject&&c.value.message;case"request_documents":return c.value.document_types.length>0;case"delete":return c.value.confirm_delete;default:return!0}}),_=()=>{c.value={user_id:null,subject:"",message:"",document_types:[],format:"excel",confirm_delete:!1},o.value=""},j=()=>{if(o.value&&h[o.value]){const m=h[o.value];c.value.subject=m.subject,c.value.message=m.message}},y=async()=>{if(x.value){v.value=!0;try{e("execute",{operation:r.value,client_ids:u.selectedClients,data:c.value})}finally{v.value=!1}}};return H(()=>u.show,m=>{m||(r.value="",_())}),{selectedOperation:r,selectedTemplate:o,operationData:c,documentTypes:n,selectedCount:s,canExecute:x,isExecuting:v,resetOperationData:_,applyTemplate:j,executeOperation:y}}},K={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},Q={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},X={class:"flex justify-between items-center mb-4"},Z={class:"mb-4"},$={class:"text-sm text-gray-600"},ee={class:"space-y-4"},te={key:0},oe=["value"],se={key:1,class:"space-y-3"},le={key:2},ne={class:"space-y-2"},re=["value"],ae={class:"ml-2 text-sm text-gray-700"},ie={key:3},de={key:4,class:"bg-red-50 border border-red-200 rounded-md p-3"},ue={class:"mt-3"},ce={class:"flex items-center"},me={class:"flex justify-end space-x-3 mt-6"},pe=["disabled"];function ge(u,e,r,o,v,c){return r.show?(i(),d("div",K,[t("div",Q,[t("div",X,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900"},"Bulk Operations",-1)),t("button",{onClick:e[0]||(e[0]=n=>u.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[...e[13]||(e[13]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Z,[t("p",$,a(o.selectedCount)+" client"+a(o.selectedCount!==1?"s":"")+" selected ",1)]),t("div",ee,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Operation",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>o.selectedOperation=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:e[2]||(e[2]=(...n)=>o.resetOperationData&&o.resetOperationData(...n))},[...e[15]||(e[15]=[V('<option value="">Choose an operation...</option><option value="activate">Activate Clients</option><option value="deactivate">Deactivate Clients</option><option value="archive">Archive Clients</option><option value="assign_user">Assign to User</option><option value="send_email">Send Email</option><option value="request_documents">Request Documents</option><option value="export_selected">Export Selected</option><option value="delete">Delete Clients</option>',9)])],544),[[M,o.selectedOperation]])]),o.selectedOperation==="assign_user"?(i(),d("div",te,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Assign to User",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=n=>o.operationData.user_id=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[17]||(e[17]=t("option",{value:""},"Select a user...",-1)),(i(!0),d(D,null,B(r.users,n=>(i(),d("option",{key:n.id,value:n.id},a(n.name)+" ("+a(n.email)+") ",9,oe))),128))],512),[[M,o.operationData.user_id]])])):C("",!0),o.selectedOperation==="send_email"?(i(),d("div",se,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Subject",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>o.operationData.subject=n),type:"text",placeholder:"Enter email subject...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[F,o.operationData.subject]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Message",-1)),p(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=n=>o.operationData.message=n),rows:"4",placeholder:"Enter email message...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[F,o.operationData.message]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Template",-1)),p(t("select",{"onUpdate:modelValue":e[6]||(e[6]=n=>o.selectedTemplate=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:e[7]||(e[7]=(...n)=>o.applyTemplate&&o.applyTemplate(...n))},[...e[21]||(e[21]=[V('<option value="">Choose a template...</option><option value="document_request">Document Request</option><option value="appointment_reminder">Appointment Reminder</option><option value="status_update">Status Update</option><option value="welcome">Welcome Message</option>',5)])],544),[[M,o.selectedTemplate]])])])):C("",!0),o.selectedOperation==="request_documents"?(i(),d("div",le,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Document Types",-1)),t("div",ne,[(i(!0),d(D,null,B(o.documentTypes,n=>(i(),d("label",{key:n.value,class:"flex items-center"},[p(t("input",{type:"checkbox",value:n.value,"onUpdate:modelValue":e[8]||(e[8]=h=>o.operationData.document_types=h),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,re),[[P,o.operationData.document_types]]),t("span",ae,a(n.label),1)]))),128))])])):C("",!0),o.selectedOperation==="export_selected"?(i(),d("div",ie,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Export Format",-1)),p(t("select",{"onUpdate:modelValue":e[9]||(e[9]=n=>o.operationData.format=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[24]||(e[24]=[t("option",{value:"excel"},"Excel (.xlsx)",-1),t("option",{value:"csv"},"CSV (.csv)",-1),t("option",{value:"pdf"},"PDF (.pdf)",-1)])],512),[[M,o.operationData.format]])])):C("",!0),o.selectedOperation==="delete"?(i(),d("div",de,[e[27]||(e[27]=V('<div class="flex"><svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg><div class="ml-3"><h3 class="text-sm font-medium text-red-800">Warning</h3><p class="text-sm text-red-700 mt-1"> This action will permanently delete the selected clients and cannot be undone. </p></div></div>',1)),t("div",ue,[t("label",ce,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=n=>o.operationData.confirm_delete=n),class:"rounded border-gray-300 text-red-600 focus:ring-red-500"},null,512),[[P,o.operationData.confirm_delete]]),e[26]||(e[26]=t("span",{class:"ml-2 text-sm text-red-700"},"I understand this action cannot be undone",-1))])])])):C("",!0)]),t("div",me,[t("button",{onClick:e[11]||(e[11]=n=>u.$emit("close")),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),t("button",{onClick:e[12]||(e[12]=(...n)=>o.executeOperation&&o.executeOperation(...n)),disabled:!o.canExecute||o.isExecuting,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed"},a(o.isExecuting?"Processing...":"Execute Operation"),9,pe)])])])):C("",!0)}const xe=R(J,[["render",ge]]),fe={name:"AdminClientsIndex",components:{BulkOperationsModal:xe,AppLayout:G},props:{clients:Object,filters:Object,stats:Object,sortOptions:Object,statusOptions:Object,perPageOptions:Array,availableUsers:{type:Array,default:()=>[]}},setup(u){const e=g({search:u.filters.search||"",status:u.filters.status||"",date_from:u.filters.date_from||"",date_to:u.filters.date_to||""}),r=g([]),o=g(""),v=g(u.filters.sort_by||"created_at"),c=g(u.filters.sort_direction||"desc"),n=g(u.filters.per_page||25),h=g(!1),s=g(!1),x=g("excel"),_=E(()=>u.clients.data.length>0&&r.value.length===u.clients.data.length),j=E(()=>{const l=[],b=u.clients.current_page,f=u.clients.last_page;for(let w=Math.max(1,b-2);w<=Math.min(f,b+2);w++)l.push(w);return l}),y=Y.debounce(()=>{m()},300),m=()=>{k.get(route("admin.clients.index"),{...e.value,sort_by:v.value,sort_direction:c.value,per_page:n.value},{preserveState:!0,preserveScroll:!0})};return{router:k,searchForm:e,selectedClients:r,bulkAction:o,currentSort:v,sortDirection:c,perPage:n,showExportModal:h,showBulkModal:s,exportFormat:x,allSelected:_,paginationPages:j,debouncedSearch:y,applyFilters:m,clearFilters:()=>{e.value={search:"",status:"",date_from:"",date_to:""},m()},sortBy:l=>{v.value===l?c.value=c.value==="asc"?"desc":"asc":(v.value=l,c.value="asc"),m()},changePerPage:()=>{m()},goToPage:l=>{k.get(route("admin.clients.index"),{...e.value,sort_by:v.value,sort_direction:c.value,per_page:n.value,page:l},{preserveState:!0,preserveScroll:!0})},toggleSelectAll:()=>{_.value?r.value=[]:r.value=u.clients.data.map(l=>l.id)},handleBulkOperation:l=>{if(!l.operation||r.value.length===0)return;const b=`Are you sure you want to ${l.operation.replace("_"," ")} ${r.value.length} clients?`;if(l.operation==="delete"||confirm(b)){if(l.operation==="export_selected"){const f=new URLSearchParams({client_ids:l.client_ids,operation:l.operation,"data[format]":l.data.format||"excel"});window.open(`${route("admin.clients.bulk-operation")}?${f}`,"_blank"),s.value=!1,r.value=[];return}k.post(route("admin.clients.bulk-operation"),l,{onSuccess:f=>{var w,S,T,U,N,z;r.value=[],s.value=!1,((S=(w=f.props)==null?void 0:w.flash)!=null&&S.success||(T=f.data)!=null&&T.message)&&alert(((N=(U=f.props)==null?void 0:U.flash)==null?void 0:N.success)||((z=f.data)==null?void 0:z.message)||"Operation completed successfully")},onError:f=>{console.error("Bulk operation failed:",f),alert("Operation failed. Please try again.")}})}},clearSelection:()=>{r.value=[]},exportClients:()=>{const l=document.createElement("form");l.method="GET",l.action=route("admin.clients.export"),l.target="_blank",Object.entries(e.value).forEach(([f,w])=>{if(w){const S=document.createElement("input");S.type="hidden",S.name=f,S.value=w,l.appendChild(S)}});const b=document.createElement("input");b.type="hidden",b.name="format",b.value=x.value,l.appendChild(b),document.body.appendChild(l),l.submit(),document.body.removeChild(l),h.value=!1},formatDate:l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),getStatusClass:l=>({active:"bg-emerald-100 text-emerald-800 border border-emerald-200",inactive:"bg-amber-100 text-amber-800 border border-amber-200",archived:"bg-rose-100 text-rose-800 border border-rose-200"})[l]||"bg-gray-100 text-gray-800 border border-gray-200",getStatusDotClass:l=>({active:"bg-emerald-400",inactive:"bg-amber-400",archived:"bg-rose-400"})[l]||"bg-gray-400",viewClient:l=>{k.visit(`/admin/clients/${l}`)},editClient:l=>{k.visit(`/admin/clients/${l}/edit`)},viewTaxDocs:l=>{k.visit(`/admin/documents?user_id=${l}`)},viewInvoices:l=>{k.visit(`/admin/invoices?user_id=${l}`)},deleteClient:l=>{confirm("Are you sure you want to delete this client? This action cannot be undone.")&&k.delete(route("admin.clients.destroy",l))}}}},ve={class:"relative overflow-hidden"},be={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},ye={class:"flex items-center space-x-4"},he={class:"flex items-center space-x-4 mt-3"},we={class:"flex items-center space-x-2"},ke={class:"text-xs font-semibold text-emerald-700"},Ce={class:"flex items-center space-x-2"},_e={class:"text-xs font-semibold text-blue-700"},Se={class:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},Me={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},je={class:"p-8"},De={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Be={class:"space-y-2"},Oe={class:"relative"},Fe={class:"space-y-2"},Ee=["value"],Ve={class:"space-y-2"},Ae={class:"space-y-2"},Pe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-8 pt-6 border-t border-gray-200 space-y-4 sm:space-y-0"},Te={key:0,class:"flex items-center space-x-4"},Ue={class:"bg-blue-50 px-4 py-2 rounded-lg"},Ne={class:"text-sm font-semibold text-blue-700"},ze={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},Le={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Ie={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0"},Re={class:"flex items-center space-x-4"},He={class:"flex items-center space-x-2 bg-white px-3 py-2 rounded-lg border border-gray-200 shadow-sm"},qe=["value"],We={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},Ye={class:"text-sm font-medium text-gray-600"},Ge={class:"font-bold text-gray-900"},Je={class:"font-bold text-gray-900"},Ke={class:"font-bold text-blue-600"},Qe={class:"overflow-x-auto"},Xe={class:"min-w-full"},Ze={class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},$e={class:"px-6 py-4 text-left"},et=["checked"],tt={class:"bg-white divide-y divide-gray-100"},ot={class:"px-6 py-5"},st=["value"],lt={class:"px-6 py-5 whitespace-nowrap"},nt={class:"flex items-center"},rt={class:"w-8 h-8 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center mr-3"},at={class:"text-xs font-bold text-blue-700"},it={class:"px-6 py-5 whitespace-nowrap"},dt={class:"text-sm font-semibold text-gray-900"},ut={class:"px-6 py-5 whitespace-nowrap"},ct={class:"text-sm font-semibold text-gray-900"},mt={class:"px-6 py-5 whitespace-nowrap"},pt={class:"text-sm text-gray-900 font-medium"},gt={class:"px-6 py-5 whitespace-nowrap"},xt={class:"text-sm text-gray-900 font-medium"},ft={class:"px-6 py-5 whitespace-nowrap"},vt={class:"text-sm text-gray-600 font-medium"},bt={class:"px-6 py-5 whitespace-nowrap"},yt={class:"px-6 py-5 text-center"},ht={class:"flex justify-center space-x-2"},wt=["onClick"],kt=["onClick"],Ct=["onClick"],_t=["onClick"],St=["onClick"],Mt={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},jt={class:"flex justify-between items-center"},Dt={class:"text-sm text-gray-600 font-medium"},Bt=["onClick"],Ot={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},Ft={class:"bg-white rounded-lg p-6 w-96"},Et={class:"space-y-4"},Vt={class:"flex justify-end space-x-3"};function At(u,e,r,o,v,c){const n=L("BulkOperationsModal"),h=L("AppLayout");return i(),q(h,null,{header:I(()=>[t("div",ve,[e[28]||(e[28]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-blue-50"},null,-1)),e[29]||(e[29]=t("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),e[30]||(e[30]=t("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),t("div",be,[t("div",ye,[e[25]||(e[25]=t("div",{class:"w-16 h-16 bg-gradient-to-br from-emerald-500 via-emerald-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",null,[e[23]||(e[23]=t("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-emerald-900 to-blue-900 bg-clip-text text-transparent"}," Client Management ",-1)),e[24]||(e[24]=t("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Comprehensive client information and operations center",-1)),t("div",he,[t("div",we,[e[21]||(e[21]=t("div",{class:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"},null,-1)),t("span",ke,a(r.stats.total_clients)+" Total Clients",1)]),t("div",Ce,[e[22]||(e[22]=t("div",{class:"w-2 h-2 bg-blue-400 rounded-full"},null,-1)),t("span",_e,a(r.stats.active_clients)+" Active",1)])])])]),t("div",Se,[t("button",{onClick:e[0]||(e[0]=s=>o.router.visit("/admin/clients/create")),class:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[...e[26]||(e[26]=[t("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),t("span",{class:"font-semibold"},"Add New Client",-1)])]),t("button",{onClick:e[1]||(e[1]=s=>o.showExportModal=!0),class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[...e[27]||(e[27]=[t("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:-translate-y-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("span",{class:"font-semibold"},"Export Data",-1)])])])])])]),default:I(()=>[t("div",Me,[e[38]||(e[38]=t("div",{class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Search & Filter Clients"),t("p",{class:"text-sm text-gray-600 mt-1"},"Find and manage your client database")]),t("div",{class:"flex items-center space-x-2"},[t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])])])],-1)),t("div",je,[t("div",De,[t("div",Be,[e[32]||(e[32]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Search Clients",-1)),t("div",Oe,[p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.searchForm.search=s),type:"text",placeholder:"Name, email, phone...",class:"w-full px-4 py-3 pl-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",onInput:e[3]||(e[3]=(...s)=>o.debouncedSearch&&o.debouncedSearch(...s))},null,544),[[F,o.searchForm.search]]),e[31]||(e[31]=t("svg",{class:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",Fe,[e[34]||(e[34]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Client Status",-1)),p(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.searchForm.status=s),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",onChange:e[5]||(e[5]=(...s)=>o.applyFilters&&o.applyFilters(...s))},[e[33]||(e[33]=t("option",{value:""},"All Statuses",-1)),(i(!0),d(D,null,B(r.statusOptions,(s,x)=>(i(),d("option",{key:x,value:x},a(s),9,Ee))),128))],544),[[M,o.searchForm.status]])]),t("div",Ve,[e[35]||(e[35]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Registration From",-1)),p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.searchForm.date_from=s),type:"date",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",onChange:e[7]||(e[7]=(...s)=>o.applyFilters&&o.applyFilters(...s))},null,544),[[F,o.searchForm.date_from]])]),t("div",Ae,[e[36]||(e[36]=t("label",{class:"block text-sm font-semibold text-gray-700"},"Registration To",-1)),p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>o.searchForm.date_to=s),type:"date",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",onChange:e[9]||(e[9]=(...s)=>o.applyFilters&&o.applyFilters(...s))},null,544),[[F,o.searchForm.date_to]])])]),t("div",Pe,[t("button",{onClick:e[10]||(e[10]=(...s)=>o.clearFilters&&o.clearFilters(...s)),class:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200"},[...e[37]||(e[37]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),t("span",null,"Clear All Filters",-1)])]),o.selectedClients.length>0?(i(),d("div",Te,[t("div",Ue,[t("span",Ne,a(o.selectedClients.length)+" clients selected",1)]),t("button",{onClick:e[11]||(e[11]=s=>o.showBulkModal=!0),class:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-200 shadow-md hover:shadow-lg"}," Bulk Actions "),t("button",{onClick:e[12]||(e[12]=(...s)=>o.clearSelection&&o.clearSelection(...s)),class:"text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200"}," Clear Selection ")])):C("",!0)])])]),t("div",ze,[t("div",Le,[t("div",Ie,[e[45]||(e[45]=t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Client Directory"),t("p",{class:"text-sm text-gray-600 mt-1"},"Comprehensive client information and management")],-1)),t("div",Re,[t("div",He,[e[39]||(e[39]=t("label",{class:"text-sm font-medium text-gray-600"},"Show",-1)),p(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>o.perPage=s),class:"border-0 bg-transparent text-sm font-semibold text-gray-900 focus:ring-0 focus:outline-none",onChange:e[14]||(e[14]=(...s)=>o.changePerPage&&o.changePerPage(...s))},[(i(!0),d(D,null,B(r.perPageOptions,s=>(i(),d("option",{key:s,value:s},a(s),9,qe))),128))],544),[[M,o.perPage]]),e[40]||(e[40]=t("label",{class:"text-sm font-medium text-gray-600"},"entries",-1))]),t("div",We,[t("span",Ye,[e[41]||(e[41]=O(" Showing ",-1)),t("span",Ge,a(r.clients.from||0),1),e[42]||(e[42]=O(" to ",-1)),t("span",Je,a(r.clients.to||0),1),e[43]||(e[43]=O(" of ",-1)),t("span",Ke,a(r.clients.total||0),1),e[44]||(e[44]=O(" results ",-1))])])])])])]),t("div",Qe,[t("table",Xe,[t("thead",Ze,[t("tr",null,[t("th",$e,[t("input",{type:"checkbox",checked:o.allSelected,onChange:e[15]||(e[15]=(...s)=>o.toggleSelectAll&&o.toggleSelectAll(...s)),class:"w-4 h-4 rounded border-2 border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 transition-all duration-200"},null,40,et)]),e[46]||(e[46]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[t("div",{class:"flex items-center space-x-1"},[t("span",null,"ID"),t("svg",{class:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})])])],-1)),e[47]||(e[47]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"First Name",-1)),e[48]||(e[48]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Last Name",-1)),e[49]||(e[49]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Email",-1)),e[50]||(e[50]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Phone",-1)),e[51]||(e[51]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Registration",-1)),e[52]||(e[52]=t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Status",-1)),e[53]||(e[53]=t("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",tt,[(i(!0),d(D,null,B(r.clients.data,s=>{var x,_,j;return i(),d("tr",{key:s.id,class:"hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200 group"},[t("td",ot,[p(t("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":e[16]||(e[16]=y=>o.selectedClients=y),class:"w-4 h-4 rounded border-2 border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 transition-all duration-200"},null,8,st),[[P,o.selectedClients]])]),t("td",lt,[t("div",nt,[t("div",rt,[t("span",at,"#"+a(s.id),1)])])]),t("td",it,[t("div",dt,a(((x=s.user)==null?void 0:x.first_name)||"-"),1)]),t("td",ut,[t("div",ct,a(((_=s.user)==null?void 0:_.last_name)||"-"),1)]),t("td",mt,[t("div",pt,a(((j=s.user)==null?void 0:j.email)||"-"),1)]),t("td",gt,[t("div",xt,a(s.phone||"-"),1)]),t("td",ft,[t("div",vt,a(o.formatDate(s.created_at)),1)]),t("td",bt,[t("span",{class:A(["inline-flex items-center px-3 py-1 text-xs font-bold rounded-full shadow-sm",o.getStatusClass(s.status)])},[t("span",{class:A(["w-1.5 h-1.5 rounded-full mr-2",o.getStatusDotClass(s.status)])},null,2),O(" "+a(r.statusOptions[s.status]),1)],2)]),t("td",yt,[t("div",ht,[t("button",{onClick:y=>o.viewClient(s.id),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Client"},[...e[54]||(e[54]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,wt),t("button",{onClick:y=>o.editClient(s.id),class:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Edit Client"},[...e[55]||(e[55]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,kt),t("button",{onClick:y=>{var m;return o.viewTaxDocs(((m=s.user)==null?void 0:m.id)||s.user_id)},class:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Documents"},[...e[56]||(e[56]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,Ct),t("button",{onClick:y=>{var m;return o.viewInvoices(s.user_id||((m=s.user)==null?void 0:m.id))},class:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Invoices"},[...e[57]||(e[57]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)])],8,_t),t("button",{onClick:y=>o.deleteClient(s.id),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Client"},[...e[58]||(e[58]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,St)])])])}),128))])])]),r.clients.last_page>1?(i(),d("div",Mt,[t("div",jt,[t("div",Dt," Page "+a(r.clients.current_page)+" of "+a(r.clients.last_page),1),e[59]||(e[59]=t("div",{class:"flex space-x-2"},null,-1)),(i(!0),d(D,null,B(o.paginationPages,s=>(i(),d("button",{key:s,onClick:x=>o.goToPage(s),class:A(["px-4 py-2 text-sm rounded-lg font-semibold transition-all duration-200",s===r.clients.current_page?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200 shadow-sm"])},a(s),11,Bt))),128))])])):C("",!0),o.showExportModal?(i(),d("div",Ot,[t("div",Ft,[e[62]||(e[62]=t("h3",{class:"text-lg font-medium mb-4"},"Export Clients",-1)),t("div",Et,[t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Format",-1)),p(t("select",{"onUpdate:modelValue":e[17]||(e[17]=s=>o.exportFormat=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},[...e[60]||(e[60]=[t("option",{value:"excel"},"Excel (.xlsx)",-1),t("option",{value:"csv"},"CSV (.csv)",-1),t("option",{value:"pdf"},"PDF (.pdf)",-1)])],512),[[M,o.exportFormat]])]),t("div",Vt,[t("button",{onClick:e[18]||(e[18]=s=>o.showExportModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),t("button",{onClick:e[19]||(e[19]=(...s)=>o.exportClients&&o.exportClients(...s)),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"}," Export ")])])])])):C("",!0),W(n,{show:o.showBulkModal,"selected-clients":o.selectedClients,users:r.availableUsers,onClose:e[20]||(e[20]=s=>o.showBulkModal=!1),onExecute:o.handleBulkOperation},null,8,["show","selected-clients","users","onExecute"])]),_:1})}const eo=R(fe,[["render",At],["__scopeId","data-v-e58777cf"]]);export{eo as default};
