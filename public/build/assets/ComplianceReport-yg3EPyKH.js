import{c as a,a as t,o as n,b as A,w as h,t as o,d,e as y,u as c,i as M,f as L,F as u,r as g,n as D}from"./app-CzvPvdPJ.js";import{r as V,A as H}from"./AppLayout-DDhoF4nJ.js";import{r as Z}from"./ArrowLeftIcon-CxOy1Ucb.js";import{r as S}from"./DocumentTextIcon-Chq1rmYb.js";import{r as B}from"./ExclamationTriangleIcon-Dobm4HeP.js";function C(r,l){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function E(r,l){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"})])}const R={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},P={class:"p-6 border-b border-gray-200"},N={class:"flex justify-between items-center"},$={class:"mt-1 text-sm text-gray-600"},F={class:"flex space-x-3"},U={class:"p-6 space-y-8"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},O={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},q={class:"flex items-center"},z={class:"flex-shrink-0"},W={class:"ml-4"},G={class:"text-2xl font-bold text-blue-900"},J={class:"bg-green-50 border border-green-200 rounded-lg p-4"},K={class:"flex items-center"},Q={class:"flex-shrink-0"},X={class:"ml-4"},Y={class:"text-sm font-bold text-green-900"},tt={class:"bg-purple-50 border border-purple-200 rounded-lg p-4"},et={class:"flex items-center"},st={class:"flex-shrink-0"},it={class:"ml-4"},ot={class:"text-2xl font-bold text-purple-900"},rt={class:"bg-gray-50 rounded-lg p-4"},nt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},at={class:"flex justify-between items-center"},lt={class:"text-sm font-medium text-gray-900"},dt={class:"text-2xl font-bold text-gray-900"},ct={class:"text-right"},ut={class:"text-sm text-gray-500"},gt={class:"bg-gray-50 rounded-lg p-4"},mt={class:"overflow-x-auto"},xt={class:"min-w-full divide-y divide-gray-200"},pt={class:"bg-white divide-y divide-gray-200"},vt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ft={class:"bg-gray-50 rounded-lg p-4"},_t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bt={class:"flex justify-between items-center"},wt={class:"text-sm font-medium text-gray-900"},kt={class:"text-xl font-bold text-gray-900"},At={class:"text-right"},Mt={class:"text-sm text-gray-500"},Lt={key:0},Dt={class:"bg-gray-50 rounded-lg p-4"},Vt={class:"overflow-x-auto"},Ht={class:"min-w-full divide-y divide-gray-200"},Zt={class:"bg-white divide-y divide-gray-200"},St={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ct={class:"px-6 py-4 whitespace-nowrap"},Et={class:"flex items-center"},Rt={class:"w-16 bg-gray-200 rounded-full h-2 mr-2"},Tt={class:"text-sm text-gray-500"},jt={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Pt={class:"flex"},Nt={class:"ml-3"},$t={class:"mt-2 text-sm text-yellow-700"},Ft={class:"list-disc list-inside mt-2 space-y-1"},Ut={class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},It={class:"text-center text-sm text-gray-500"},Jt={__name:"ComplianceReport",props:{filters:Object,statistics:Object},setup(r){const l=r,m=i=>new Date(i).toLocaleDateString(),f=i=>i.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),x=(i,e)=>e===0?0:Math.round(i/e*100),p=()=>{const i=new Date(l.statistics.date_range.start),e=new Date(l.statistics.date_range.end),s=Math.abs(e-i);return Math.ceil(s/(1e3*60*60*24))+1},v=()=>{const i=p();return i===0?0:Math.round(l.statistics.total_events/i)},_=()=>l.statistics.daily_activity.length?Math.max(...l.statistics.daily_activity.map(i=>i.count)):1,b=i=>{const e=_();return e>0?i/e*100:0},w=i=>{const e=v();return i>e*1.5?"High":i>e*.5?"Normal":"Low"},k=()=>{window.print()};return(i,e)=>(n(),A(H,{title:"Compliance Report"},{default:h(()=>[t("div",R,[t("div",T,[t("div",j,[t("div",P,[t("div",N,[t("div",null,[e[0]||(e[0]=t("h2",{class:"text-2xl font-bold text-gray-900"},"Compliance Report",-1)),t("p",$," Audit trail compliance report for "+o(m(r.statistics.date_range.start))+" to "+o(m(r.statistics.date_range.end)),1)]),t("div",F,[t("button",{onClick:k,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},[d(c(E),{class:"w-4 h-4 mr-2"}),e[1]||(e[1]=y(" Print Report ",-1))]),d(c(M),{href:i.route("admin.audit.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:h(()=>[d(c(Z),{class:"w-4 h-4 mr-2"}),e[2]||(e[2]=y(" Back to Audit Logs ",-1))]),_:1},8,["href"])])])]),t("div",U,[t("div",null,[e[6]||(e[6]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Summary Statistics",-1)),t("div",I,[t("div",O,[t("div",q,[t("div",z,[d(c(S),{class:"h-8 w-8 text-blue-600"})]),t("div",W,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-blue-600"},"Total Events",-1)),t("p",G,o(r.statistics.total_events.toLocaleString()),1)])])]),t("div",J,[t("div",K,[t("div",Q,[d(c(C),{class:"h-8 w-8 text-green-600"})]),t("div",X,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-green-600"},"Date Range",-1)),t("p",Y,o(p())+" days ",1)])])]),t("div",tt,[t("div",et,[t("div",st,[d(c(V),{class:"h-8 w-8 text-purple-600"})]),t("div",it,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-purple-600"},"Avg Events/Day",-1)),t("p",ot,o(v()),1)])])])])]),t("div",null,[e[7]||(e[7]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Event Type Breakdown",-1)),t("div",rt,[t("div",nt,[(n(!0),a(u,null,g(r.statistics.event_breakdown,s=>(n(),a("div",{key:s.event,class:"bg-white rounded-lg p-4 border border-gray-200"},[t("div",at,[t("div",null,[t("p",lt,o(f(s.event)),1),t("p",dt,o(s.count.toLocaleString()),1)]),t("div",ct,[t("p",ut,o(x(s.count,r.statistics.total_events))+"% ",1)])])]))),128))])])]),t("div",null,[e[9]||(e[9]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Top User Activity",-1)),t("div",gt,[t("div",mt,[t("table",xt,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Events "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Percentage ")])],-1)),t("tbody",pt,[(n(!0),a(u,null,g(r.statistics.user_activity.slice(0,10),s=>(n(),a("tr",{key:s.user},[t("td",vt,o(s.user),1),t("td",ht,o(s.count.toLocaleString()),1),t("td",yt,o(x(s.count,r.statistics.total_events))+"% ",1)]))),128))])])])])]),t("div",null,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Model Activity Breakdown",-1)),t("div",ft,[t("div",_t,[(n(!0),a(u,null,g(r.statistics.model_activity,s=>(n(),a("div",{key:s.model,class:"bg-white rounded-lg p-4 border border-gray-200"},[t("div",bt,[t("div",null,[t("p",wt,o(s.model),1),t("p",kt,o(s.count.toLocaleString()),1)]),t("div",At,[t("p",Mt,o(x(s.count,r.statistics.total_events))+"% ",1)])])]))),128))])])]),r.statistics.daily_activity.length>0?(n(),a("div",Lt,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Daily Activity Trend",-1)),t("div",Dt,[t("div",Vt,[t("table",Ht,[e[11]||(e[11]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Events "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Activity Level ")])],-1)),t("tbody",Zt,[(n(!0),a(u,null,g(r.statistics.daily_activity,s=>(n(),a("tr",{key:s.date},[t("td",St,o(m(s.date)),1),t("td",Bt,o(s.count.toLocaleString()),1),t("td",Ct,[t("div",Et,[t("div",Rt,[t("div",{class:"bg-blue-600 h-2 rounded-full",style:D({width:b(s.count)+"%"})},null,4)]),t("span",Tt,o(w(s.count)),1)])])]))),128))])])])])])):L("",!0),t("div",jt,[t("div",Pt,[d(c(B),{class:"h-5 w-5 text-yellow-400"}),t("div",Nt,[e[18]||(e[18]=t("h3",{class:"text-sm font-medium text-yellow-800"}," Compliance Information ",-1)),t("div",$t,[e[17]||(e[17]=t("p",null,"This report demonstrates compliance with audit trail requirements:",-1)),t("ul",Ft,[e[13]||(e[13]=t("li",null,"All user actions are logged with timestamps and user identification",-1)),e[14]||(e[14]=t("li",null,"Field-level changes are tracked for data integrity",-1)),t("li",null,"System maintains complete audit trail for "+o(p())+" days",1),e[15]||(e[15]=t("li",null,"IP addresses and user agents are recorded for security purposes",-1)),e[16]||(e[16]=t("li",null,"Bulk operations are properly logged and tracked",-1))])])])])])]),t("div",Ut,[t("div",It,[t("p",null,"Report generated on "+o(new Date().toLocaleString()),1),e[19]||(e[19]=t("p",{class:"mt-1"},"MySuperTax Platform - Audit Compliance Report",-1))])])])])])]),_:1}))}};export{Jt as default};
