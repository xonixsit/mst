import{c as n,a as e,o as l,l as $,f as p,d as C,u as i,t as g,F as V,r as O,e as R,p as _,T as Z,q as H,z as xe,s as J,b as k,w as Q,x as ee,n as te,g as ye,h as W,A as he,j as we,v as _e}from"./app-CMZFs4FC.js";import{_ as ke}from"./AppLayout-DVFFvjSw.js";import{r as Se,a as $e,P as Ce,S as De,E as je,b as Ae,A as Ee,c as Ne,d as Me}from"./ExpensesManagementSection-DCi3Imo6.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as Y}from"./ExclamationTriangleIcon-DRq0HwlH.js";import{r as se}from"./XMarkIcon-D4ptx5BV.js";import{r as Re}from"./UserIcon-CfK-x867.js";import{r as Ue,a as Pe}from"./ReceiptRefundIcon-erec3fuk.js";import{r as Ve}from"./CurrencyDollarIcon-Cb3EaTxW.js";import{r as re}from"./CheckCircleIcon-Cm8c6rX2.js";import"./EyeIcon-BULw2Zs1.js";import"./InformationCircleIcon-Lh6B4b6z.js";import"./PlusIcon-BUMjahWN.js";import"./TrashIcon-DSkUecfo.js";function Oe(c,f){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const qe={key:0,class:"error-display"},Fe={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},Be={class:"flex items-start"},Ie={class:"flex-shrink-0"},Le={class:"ml-3 flex-1"},ze={class:"text-sm font-medium text-red-800"},He={class:"mt-2 text-sm text-red-700"},We={key:0,class:"mt-3"},Ye={class:"mt-1 list-disc list-inside space-y-1"},Ke={class:"font-medium"},Ge={key:1,class:"mt-3"},Xe={class:"mt-1 list-disc list-inside space-y-1"},Ze={key:0,class:"mt-4"},Je={key:0,class:"mt-2 bg-red-100 rounded p-3 text-xs font-mono"},Qe={class:"space-y-2"},et={key:0},tt={key:1},st={key:2},rt={key:3},ot={key:1,class:"mt-4 p-3 bg-blue-50 rounded border border-blue-200"},lt={class:"text-sm text-blue-800"},at={class:"bg-blue-100 px-1 py-0.5 rounded text-xs font-mono"},nt={class:"mt-2 flex space-x-2"},it={class:"flex-shrink-0 ml-4"},dt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},ut={class:"flex items-center"},ct={class:"text-sm text-red-700"},mt={__name:"ErrorDisplay",props:{error:{type:[Object,String],default:null},showDetails:{type:Boolean,default:!0}},emits:["close","report"],setup(c,{emit:f}){const d=c,x=f,S=$(!1),D=$(!1),N=()=>{S.value=!S.value},y=b=>b.replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,u=>u.toUpperCase()).trim(),o=b=>{try{return new Date(b).toLocaleString()}catch{return b}},M=async()=>{var b;if((b=d.error)!=null&&b.error_id)try{await navigator.clipboard.writeText(d.error.error_id),D.value=!0,setTimeout(()=>{D.value=!1},2e3)}catch(u){console.error("Failed to copy error ID:",u)}},L=()=>{var w,v,q,U,F,B,I;const b={error_id:(w=d.error)==null?void 0:w.error_id,error_code:(v=d.error)==null?void 0:v.code,timestamp:(q=d.error)==null?void 0:q.timestamp,user_agent:navigator.userAgent,url:window.location.href};x("report",b);const u=encodeURIComponent(`Error Report - ${((U=d.error)==null?void 0:U.code)||"Unknown Error"}`),h=encodeURIComponent(`Error ID: ${(F=d.error)==null?void 0:F.error_id}
Error Code: ${(B=d.error)==null?void 0:B.code}
Timestamp: ${(I=d.error)==null?void 0:I.timestamp}
URL: ${window.location.href}

Please describe what you were doing when this error occurred:

`);window.open(`mailto:support@mysupertax.com?subject=${u}&body=${h}`)};return(b,u)=>c.error?(l(),n("div",qe,[c.error.code&&c.error.code.startsWith("ERR_")?(l(),n("div",Fe,[e("div",Be,[e("div",Ie,[C(i(Y),{class:"h-5 w-5 text-red-400"})]),e("div",Le,[e("h3",ze,g(c.error.title||"Error Occurred"),1),e("div",He,[e("p",null,g(c.error.message),1),c.error.validation_errors?(l(),n("div",We,[u[2]||(u[2]=e("p",{class:"font-medium"},"Please correct the following:",-1)),e("ul",Ye,[(l(!0),n(V,null,O(c.error.validation_errors,(h,w)=>(l(),n("li",{key:w},[e("span",Ke,g(y(w))+":",1),R(" "+g(Array.isArray(h)?h[0]:h),1)]))),128))])])):p("",!0),c.error.suggestions&&c.error.suggestions.length>0?(l(),n("div",Ge,[u[3]||(u[3]=e("p",{class:"font-medium"},"Suggested actions:",-1)),e("ul",Xe,[(l(!0),n(V,null,O(c.error.suggestions,h=>(l(),n("li",{key:h},g(h),1))),128))])])):p("",!0)]),c.showDetails?(l(),n("div",Ze,[e("button",{onClick:N,class:"text-sm text-red-600 hover:text-red-500 font-medium flex items-center"},[e("span",null,g(S.value?"Hide":"Show")+" Technical Details",1),C(i(Oe),{class:_(["ml-1 h-4 w-4 transition-transform",S.value?"rotate-180":""])},null,8,["class"])]),S.value?(l(),n("div",Je,[e("div",Qe,[c.error.error_id?(l(),n("div",et,[u[4]||(u[4]=e("span",{class:"font-semibold"},"Error ID:",-1)),R(" "+g(c.error.error_id),1)])):p("",!0),c.error.code?(l(),n("div",tt,[u[5]||(u[5]=e("span",{class:"font-semibold"},"Error Code:",-1)),R(" "+g(c.error.code),1)])):p("",!0),c.error.timestamp?(l(),n("div",st,[u[6]||(u[6]=e("span",{class:"font-semibold"},"Timestamp:",-1)),R(" "+g(o(c.error.timestamp)),1)])):p("",!0),c.error.details&&c.error.details.debug_message?(l(),n("div",rt,[u[7]||(u[7]=e("span",{class:"font-semibold"},"Debug:",-1)),R(" "+g(c.error.details.debug_message),1)])):p("",!0)])])):p("",!0)])):p("",!0),c.error.error_id?(l(),n("div",ot,[e("p",lt,[u[8]||(u[8]=e("strong",null,"Need help?",-1)),u[9]||(u[9]=R(" Contact support and provide this error ID: ",-1)),e("code",at,g(c.error.error_id),1)]),e("div",nt,[e("button",{onClick:M,class:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700"},g(D.value?"Copied!":"Copy Error ID"),1),e("button",{onClick:L,class:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700"}," Report Issue ")])])):p("",!0)]),e("div",it,[e("button",{onClick:u[0]||(u[0]=h=>b.$emit("close")),class:"text-red-400 hover:text-red-600"},[C(i(se),{class:"h-5 w-5"})])])])])):(l(),n("div",dt,[e("div",ut,[C(i(Y),{class:"h-5 w-5 text-red-400 mr-3"}),e("p",ct,g(c.error.message||c.error),1),e("button",{onClick:u[1]||(u[1]=h=>b.$emit("close")),class:"ml-auto text-red-400 hover:text-red-600"},[C(i(se),{class:"h-5 w-5"})])])]))])):p("",!0)}},pt=Te(mt,[["__scopeId","data-v-64e97f4b"]]),gt={class:"flex items-center justify-between"},ft={class:"flex items-center space-x-3"},bt={class:"flex items-center space-x-2"},vt={class:"text-xs text-gray-500"},xt={class:"max-w-7xl mx-auto"},yt={class:"flex items-center"},ht={class:"text-sm text-red-700"},wt={class:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200 mb-6 p-2 rounded-t-lg"},_t={class:"flex space-x-2","aria-label":"Tabs"},kt=["onClick"],St={class:"flex items-center justify-center space-x-2"},$t={class:"font-medium"},Ct={key:0,class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},Dt={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},jt={class:"lg:col-span-3"},At={class:"p-6"},Et={class:"lg:col-span-1"},Nt={class:"bg-white shadow rounded-lg p-6 sticky top-6"},Mt={class:"mb-6"},Tt={class:"flex items-center justify-between mb-2"},Rt={class:"text-sm text-gray-500"},Ut={class:"w-full bg-gray-200 rounded-full h-2"},Pt={class:"space-y-3 mb-6"},Vt=["onClick"],Ot={class:"flex items-center space-x-3"},qt={class:"flex items-center space-x-2"},Ft={class:"w-8 h-2 bg-gray-200 rounded-full"},Bt={key:1,class:"w-2 h-2 bg-green-500 rounded-full"},It={key:2,class:"w-2 h-2 bg-amber-500 rounded-full"},Lt={key:3,class:"w-2 h-2 bg-gray-300 rounded-full"},zt={class:"space-y-3"},Ht=["disabled"],Wt=["disabled"],Yt={key:0,class:"text-xs text-gray-500 mt-1 text-center"},Kt={class:"mt-6 p-4 bg-blue-50 rounded-lg"},Gt={key:0,class:"mb-3 p-2 bg-blue-100 rounded text-xs text-blue-800"},Xt={class:"space-y-2"},Zt={key:0,class:"mt-4 p-4 bg-green-50 rounded-lg"},Jt={class:"flex items-center"},Qt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},es={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ts={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ss={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},rs={class:"sm:flex sm:items-start"},os={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},ls={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},as={class:"text-lg leading-6 font-medium text-gray-900"},ns={class:"mt-2"},is={class:"text-sm text-gray-500 mb-4"},ds={key:0,class:"text-sm text-gray-700 space-y-2"},us={key:1,class:"text-sm text-gray-700 space-y-2"},cs={key:2,class:"text-sm text-gray-700 space-y-2"},ms={key:3,class:"text-sm text-gray-700"},ps={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},gs={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},fs={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},bs={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},vs={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},xs={class:"sm:flex sm:items-start"},ys={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},hs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ws={class:"mt-4 space-y-4"},_s={class:"space-y-2"},ks=["value"],Ss={class:"ml-2 text-sm text-gray-700"},$s={key:0,class:"ml-2 text-xs text-blue-600"},Cs={key:1,class:"ml-2 text-xs text-green-600"},Ds={key:2,class:"ml-2 text-xs text-yellow-600"},js={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},As=["disabled"],zs={__name:"Information",props:{clientData:{type:Object,default:()=>({})},visaStatusOptions:{type:Array,default:()=>[]}},setup(c){const f=c,d=$("personal"),x=$("idle"),S=$(null),D=$(!1),N=$(!1),y=Z({sections:[],message:"",priority:"normal"}),o=Z({personal:{firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",maritalStatus:"single",occupation:"",insuranceCovered:!1,streetNo:"",apartmentNo:"",zipCode:"",city:"",state:"",country:"United States",mobileNumber:"",workNumber:"",visaStatus:"",dateOfEntryUs:""},spouse:{firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",occupation:""},employee:[{}],projects:[],assets:[],expenses:[]}),M=H(()=>[{id:"personal",name:"Personal Details",icon:Re},{id:"spouse",name:"Spouse Details",icon:Ue},{id:"employee",name:"Employment",icon:Pe},{id:"projects",name:"Projects",icon:Se},{id:"assets",name:"Assets",icon:Ve},{id:"expenses",name:"Expenses",icon:$e}]),L=[{id:"personal",name:"Personal Details"},{id:"spouse",name:"Spouse Details"},{id:"employee",name:"Employment"},{id:"projects",name:"Projects"},{id:"assets",name:"Assets"},{id:"expenses",name:"Expenses"}],b=$(null),u=$(!1),h=H(()=>{var r;switch(x.value){case"saving":return"Saving...";case"saved":return"All changes saved";case"error":return((r=b.value)==null?void 0:r.message)||"Save failed - click for details";default:return"Auto-save enabled"}}),w=H(()=>{const r=M.value.map(a=>v(a.id)).filter(a=>a!==null),t=r.reduce((a,m)=>a+m,0);return r.length>0?t/r.length:0}),v=r=>{switch(r){case"personal":return ge();case"spouse":return fe();case"employee":return be();case"projects":return null;case"assets":return null;case"expenses":return null;default:return 0}},q=r=>{const t=v(r);return t===null?U(r):t===100?"bg-green-500":t>0?"bg-amber-500":"bg-gray-300"},U=r=>({personal:"bg-blue-500",spouse:"bg-rose-500",employee:"bg-indigo-500",projects:"bg-purple-500",assets:"bg-emerald-500",expenses:"bg-orange-500"})[r]||"bg-gray-500",F=r=>{var m,s;const t=d.value===r,a={personal:{active:"bg-blue-500 text-white shadow-lg transform scale-105 border-2 border-blue-600",inactive:"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:shadow-md hover:transform hover:scale-102 border border-blue-200"},spouse:{active:"bg-rose-500 text-white shadow-lg transform scale-105 border-2 border-rose-600",inactive:"bg-rose-100 text-rose-700 hover:bg-rose-200 hover:shadow-md hover:transform hover:scale-102 border border-rose-200"},employee:{active:"bg-indigo-500 text-white shadow-lg transform scale-105 border-2 border-indigo-600",inactive:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 hover:shadow-md hover:transform hover:scale-102 border border-indigo-200"},projects:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"},assets:{active:"bg-emerald-500 text-white shadow-lg transform scale-105 border-2 border-emerald-600",inactive:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 hover:shadow-md hover:transform hover:scale-102 border border-emerald-200"},expenses:{active:"bg-orange-500 text-white shadow-lg transform scale-105 border-2 border-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200 hover:shadow-md hover:transform hover:scale-102 border border-orange-200"}};return t?(m=a[r])==null?void 0:m.active:(s=a[r])==null?void 0:s.inactive},B=r=>({personal:"bg-gradient-to-br from-blue-50 to-white",spouse:"bg-gradient-to-br from-rose-50 to-white",employee:"bg-gradient-to-br from-indigo-50 to-white",projects:"bg-gradient-to-br from-purple-50 to-white",assets:"bg-gradient-to-br from-emerald-50 to-white",expenses:"bg-gradient-to-br from-orange-50 to-white"})[r]||"bg-white",I=r=>{const t=d.value===r;return{personal:t?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-blue-50",spouse:t?"bg-rose-100 border border-rose-200":"bg-gray-50 hover:bg-rose-50",employee:t?"bg-indigo-100 border border-indigo-200":"bg-gray-50 hover:bg-indigo-50",projects:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50",assets:t?"bg-emerald-100 border border-emerald-200":"bg-gray-50 hover:bg-emerald-50",expenses:t?"bg-orange-100 border border-orange-200":"bg-gray-50 hover:bg-orange-50"}[r]||"bg-gray-50 hover:bg-gray-100"},oe=r=>{const t=d.value===r;return{personal:t?"text-blue-600":"text-gray-500",spouse:t?"text-rose-600":"text-gray-500",employee:t?"text-indigo-600":"text-gray-500",projects:t?"text-purple-600":"text-gray-500",assets:t?"text-emerald-600":"text-gray-500",expenses:t?"text-orange-600":"text-gray-500"}[r]||"text-gray-500"},le=r=>{const t=d.value===r;return{personal:t?"text-blue-900":"text-gray-900",spouse:t?"text-rose-900":"text-gray-900",employee:t?"text-indigo-900":"text-gray-900",projects:t?"text-purple-900":"text-gray-900",assets:t?"text-emerald-900":"text-gray-900",expenses:t?"text-orange-900":"text-gray-900"}[r]||"text-gray-900"},ae=r=>d.value===r?"text-white":{personal:"text-blue-600",spouse:"text-rose-600",employee:"text-indigo-600",projects:"text-purple-600",assets:"text-emerald-600",expenses:"text-orange-600"}[r]||"text-gray-600",ne=r=>d.value===r?"bg-white bg-opacity-80":{personal:"bg-blue-400",spouse:"bg-rose-400",employee:"bg-indigo-400",projects:"bg-purple-400",assets:"bg-emerald-400",expenses:"bg-orange-400"}[r]||"bg-gray-400",z=r=>({personal:"Fill in your basic personal information, contact details, and address. All required fields must be completed.",spouse:"Add spouse information if you are married. This is required for joint tax filing.",employee:"Enter your employment details including employer name, position, and salary information.",projects:"Add any tax-related projects or business activities you are involved in.",assets:"List your assets including purchase dates and business usage percentages.",expenses:"Track your deductible expenses by category for tax preparation."})[r]||"",P=()=>{K()},ie=r=>{Array.isArray(o.employee)||(o.employee=[]),o.employee.length===0&&o.employee.push({}),o.employee[0]={...r},K()},K=()=>{S.value&&clearTimeout(S.value),S.value=setTimeout(()=>{de()},2e3)},de=async()=>{var r;try{x.value="saving",console.log("form projects",o.assets);const t=(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content");if(!t){console.error("CSRF token not found"),x.value="error";return}const a=await fetch("/client/information/auto-save",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({personal:(()=>{const s=T(o.personal);return s.date_of_birth&&(s.date_of_birth=j(s.date_of_birth)),s.date_of_entry_us&&(s.date_of_entry_us=j(s.date_of_entry_us)),s})(),spouse:(()=>{const s=T(o.spouse);return s.date_of_birth&&(s.date_of_birth=j(s.date_of_birth)),s})(),employee:Array.isArray(o.employee)?o.employee.map(s=>T(s)):[],projects:o.projects,assets:Array.isArray(o.assets)?o.assets.map((s,A)=>{const E=T(s);if(E.date_of_purchase){const ve=E.date_of_purchase;E.date_of_purchase=j(E.date_of_purchase),console.log(`Asset ${A} date formatting:`,ve,"->",E.date_of_purchase)}return E}):[],expenses:o.expenses})}),m=await a.json();console.log("result",m),a.ok&&m.success?(x.value="saved",setTimeout(()=>{x.value==="saved"&&(x.value="idle")},3e3)):(x.value="error",b.value=m.error||{message:"Unknown error occurred"},console.error("Auto-save failed:",b.value))}catch(t){x.value="error",b.value={message:"Network error - please check your connection",code:"ERR_NETWORK_001",error_id:"NET_"+Date.now()},console.error("Auto-save failed:",t)}},ue=()=>{var t;const r={personal:(()=>{const a=T(o.personal);return a.date_of_birth&&(a.date_of_birth=j(a.date_of_birth)),a.date_of_entry_us&&(a.date_of_entry_us=j(a.date_of_entry_us)),a})(),spouse:(()=>{const a=T(o.spouse);return a.date_of_birth&&(a.date_of_birth=j(a.date_of_birth)),a})(),employee:Array.isArray(o.employee)?o.employee:[],projects:o.projects,assets:Array.isArray(o.assets)?o.assets.map(a=>{const m={...a};return m.date_of_purchase&&(m.date_of_purchase=j(m.date_of_purchase)),m}):[],expenses:o.expenses};console.log("Saving client information:",r),console.log("Personal data being sent:",r.personal),console.log("Expenses data being sent:",r.expenses),console.log("Expenses count:",((t=r.expenses)==null?void 0:t.length)||0),o.transform(()=>r).post("/client/information",{onSuccess:()=>{}})},ce=()=>{window.open("/client/information/export","_blank")},me=()=>{y.transform(r=>({sections:r.sections||[],message:r.message||"",priority:r.priority||"normal"})).post("/client/information/request-review",{onSuccess:()=>{N.value=!1,y.reset()},onError:r=>{console.error("Review request failed:",r)},preserveState:!0,preserveScroll:!0})},G=r=>{const t={};for(const[a,m]of Object.entries(r)){const s=a.replace(/_([a-z])/g,(A,E)=>E.toUpperCase());t[s]=m}return t},j=r=>{if(!r)return null;try{let t;if(typeof r=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(r))return r;t=new Date(r)}else if(r instanceof Date)t=r;else return null;if(isNaN(t.getTime()))return console.warn("Invalid date provided:",r),null;const a=t.getFullYear(),m=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${a}-${m}-${s}`}catch(t){return console.error("Error formatting date for backend:",t,r),null}},T=r=>{const t={};for(const[a,m]of Object.entries(r)){const s=a.replace(/[A-Z]/g,A=>`_${A.toLowerCase()}`);t[s]=m}return t},X=()=>{f.clientData&&(f.clientData.personal&&Object.assign(o.personal,G(f.clientData.personal)),f.clientData.spouse&&Object.assign(o.spouse,G(f.clientData.spouse)),f.clientData.employee&&Array.isArray(f.clientData.employee)?o.employee=f.clientData.employee:f.clientData.employee&&(o.employee=[f.clientData.employee]),f.clientData.projects&&(console.log(f.clientData.projects),o.projects=f.clientData.projects),f.clientData.assets&&(console.log(f.clientData.assets),o.assets=f.clientData.assets),f.clientData.expenses&&(o.expenses=f.clientData.expenses))},pe=r=>{console.log("Error reported:",r)};xe(()=>{X()}),J(()=>f.clientData,X,{deep:!0});const ge=()=>{const r=["firstName","lastName","email","phone","ssn","dateOfBirth","maritalStatus","streetNo","zipCode","city","state"];return r.filter(a=>{const m=o.personal[a];return m&&m.toString().trim().length>0}).length/r.length*100},fe=()=>{var a;if(((a=o.personal)==null?void 0:a.maritalStatus)!=="married")return 100;const r=["firstName","lastName"];return r.filter(m=>{const s=o.spouse[m];return s&&s.toString().trim().length>0}).length/r.length*100},be=()=>{if(!o.employee||!Array.isArray(o.employee)||o.employee.length===0)return 0;const r=o.employee[0],t=["employerName","position"];return t.filter(m=>{const s=r[m];return s&&s.toString().trim().length>0}).length/t.length*100};return J(()=>o.data(),()=>{},{deep:!0}),(r,t)=>(l(),k(ke,null,{header:Q(()=>[e("div",gt,[t[17]||(t[17]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Information"),e("p",{class:"mt-1 text-sm text-gray-600"},"Manage your comprehensive tax information and personal details")],-1)),e("div",ft,[e("div",bt,[e("div",{class:_(["w-2 h-2 rounded-full",x.value==="saving"?"bg-yellow-500":x.value==="saved"?"bg-green-500":"bg-gray-300"])},null,2),e("span",vt,g(h.value),1)])])])]),default:Q(()=>{var a,m;return[e("div",xt,[b.value&&u.value?(l(),k(pt,{key:0,error:b.value,onClose:t[0]||(t[0]=s=>u.value=!1),onReport:pe},null,8,["error"])):p("",!0),x.value==="error"&&b.value&&!u.value?(l(),n("div",{key:1,onClick:t[1]||(t[1]=s=>u.value=!0),class:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 cursor-pointer hover:bg-red-100 transition-colors"},[e("div",yt,[C(i(Y),{class:"h-4 w-4 text-red-400 mr-2"}),e("span",ht,g(b.value.message),1),t[18]||(t[18]=e("span",{class:"text-xs text-red-500 ml-2"},"(Click for details)",-1))])])):p("",!0),e("div",wt,[e("nav",_t,[(l(!0),n(V,null,O(M.value,s=>(l(),n("button",{key:s.id,onClick:A=>d.value=s.id,class:_(["py-3 px-4 font-medium text-sm whitespace-nowrap transition-all duration-200 rounded-lg flex-1 min-w-0",F(s.id)])},[e("div",St,[(l(),k(ee(s.icon),{class:_([ae(s.id),"w-4 h-4"])},null,8,["class"])),e("span",$t,g(s.name),1),v(s.id)===100?(l(),n("div",Ct)):v(s.id)===null?(l(),n("div",{key:1,class:_(`w-2 h-2 rounded-full ${ne(s.id)}`)},null,2)):p("",!0)])],10,kt))),128))])]),e("div",Dt,[e("div",jt,[e("div",{class:_(["shadow rounded-lg overflow-hidden",B(d.value)])},[e("div",At,[d.value==="personal"?(l(),k(Ce,{key:0,modelValue:i(o).personal,"onUpdate:modelValue":t[2]||(t[2]=s=>i(o).personal=s),errors:i(o).errors,"visa-status-options":c.visaStatusOptions,onUpdate:P},null,8,["modelValue","errors","visa-status-options"])):p("",!0),d.value==="spouse"?(l(),k(De,{key:1,modelValue:i(o).spouse,"onUpdate:modelValue":t[3]||(t[3]=s=>i(o).spouse=s),errors:i(o).errors,"show-spouse":((a=i(o).personal)==null?void 0:a.maritalStatus)==="married",onUpdate:P},null,8,["modelValue","errors","show-spouse"])):p("",!0),d.value==="employee"?(l(),k(je,{key:2,modelValue:i(o).employee[0],"onUpdate:modelValue":t[4]||(t[4]=s=>i(o).employee[0]=s),errors:i(o).errors,onUpdate:ie},null,8,["modelValue","errors"])):p("",!0),d.value==="projects"?(l(),k(Ae,{key:3,modelValue:i(o).projects,"onUpdate:modelValue":t[5]||(t[5]=s=>i(o).projects=s),errors:i(o).errors,onUpdate:P},null,8,["modelValue","errors"])):p("",!0),d.value==="assets"?(l(),k(Ee,{key:4,modelValue:i(o).assets,"onUpdate:modelValue":t[6]||(t[6]=s=>i(o).assets=s),errors:i(o).errors,onUpdate:P},null,8,["modelValue","errors"])):p("",!0),d.value==="expenses"?(l(),k(Ne,{key:5,modelValue:i(o).expenses,"onUpdate:modelValue":t[7]||(t[7]=s=>i(o).expenses=s),errors:i(o).errors,onUpdate:P},null,8,["modelValue","errors"])):p("",!0)])],2)]),e("div",Et,[e("div",Nt,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Progress Summary",-1)),e("div",Mt,[e("div",Tt,[t[19]||(t[19]=e("span",{class:"text-sm font-medium text-gray-700"},"Overall Completion",-1)),e("span",Rt,g(Math.round(w.value))+"%",1)]),e("div",Ut,[e("div",{class:"bg-gradient-to-r from-blue-500 to-emerald-500 h-2 rounded-full transition-all duration-300",style:te({width:`${w.value}%`})},null,4)])]),e("div",Pt,[(l(!0),n(V,null,O(M.value,s=>(l(),n("div",{key:s.id,class:_(["flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200",I(s.id)]),onClick:A=>d.value=s.id},[e("div",Ot,[(l(),k(ee(s.icon),{class:_([oe(s.id),"w-4 h-4"])},null,8,["class"])),e("span",{class:_(["text-sm font-medium",le(s.id)])},g(s.name),3)]),e("div",qt,[e("div",Ft,[e("div",{class:_(["h-2 rounded-full transition-all duration-300",q(s.id)]),style:te({width:v(s.id)!==null?`${v(s.id)}%`:"100%"})},null,6)]),v(s.id)===null?(l(),n("div",{key:0,class:_(`w-2 h-2 rounded-full ${U(s.id)}`)},null,2)):v(s.id)===100?(l(),n("div",Bt)):v(s.id)>0?(l(),n("div",It)):(l(),n("div",Lt))])],10,Vt))),128))]),e("div",zt,[e("button",{onClick:ue,disabled:i(o).processing,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},g(i(o).processing?"Saving...":"Save Information"),9,Ht),e("button",{onClick:ce,class:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700"}," Export My Data "),e("button",{onClick:t[8]||(t[8]=s=>N.value=!0),disabled:w.value<50,class:_(["w-full py-2 px-4 rounded-md transition-colors",w.value>=50?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," Request Review ",10,Wt),w.value<50?(l(),n("p",Yt," Complete at least 50% to request review ")):p("",!0)]),e("div",Kt,[t[21]||(t[21]=e("h4",{class:"text-sm font-medium text-blue-900 mb-2"},"Need Help?",-1)),t[22]||(t[22]=e("p",{class:"text-xs text-blue-700 mb-3"}," Complete all sections to ensure accurate tax preparation. Your tax professional will review your information. ",-1)),z(d.value)?(l(),n("div",Gt,g(z(d.value)),1)):p("",!0),e("div",Xt,[e("button",{onClick:t[9]||(t[9]=s=>D.value=!0),class:"block text-xs text-blue-600 hover:text-blue-800 underline"}," View Section Guide "),t[20]||(t[20]=e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 underline"}," Contact Support ",-1))])]),w.value===100?(l(),n("div",Zt,[e("div",Jt,[C(i(re),{class:"w-5 h-5 text-green-500 mr-2"}),t[23]||(t[23]=e("span",{class:"text-sm font-medium text-green-800"},"All sections completed!",-1))]),t[24]||(t[24]=e("p",{class:"text-xs text-green-700 mt-1"}," Your information is ready for review by your tax professional. ",-1))])):p("",!0)])])])]),D.value?(l(),n("div",Qt,[e("div",es,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[10]||(t[10]=s=>D.value=!1)}),e("div",ts,[e("div",ss,[e("div",rs,[e("div",os,[C(i(Me),{class:"h-6 w-6 text-blue-600"})]),e("div",ls,[e("h3",as,g((m=M.value.find(s=>s.id===d.value))==null?void 0:m.name)+" Guide ",1),e("div",ns,[e("p",is,g(z(d.value)),1),d.value==="personal"?(l(),n("div",ds,[...t[26]||(t[26]=[e("p",null,[e("strong",null,"Required Fields:")],-1),e("ul",{class:"list-disc list-inside space-y-1 text-xs"},[e("li",null,"First Name, Last Name - Your legal name as it appears on tax documents"),e("li",null,"Email & Phone - Primary contact information"),e("li",null,"SSN - Required for tax filing (format: 123-45-6789)"),e("li",null,"Date of Birth - Used for tax credits and verification"),e("li",null,"Address - Your primary residence address")],-1)])])):d.value==="spouse"?(l(),n("div",us,[...t[27]||(t[27]=[e("p",null,[e("strong",null,"When to Complete:")],-1),e("ul",{class:"list-disc list-inside space-y-1 text-xs"},[e("li",null,'Only required if marital status is "Married"'),e("li",null,"Spouse SSN is optional but recommended for joint filing"),e("li",null,"All information should match spouse's tax documents")],-1)])])):d.value==="employee"?(l(),n("div",cs,[...t[28]||(t[28]=[e("p",null,[e("strong",null,"Employment Information:")],-1),e("ul",{class:"list-disc list-inside space-y-1 text-xs"},[e("li",null,"Enter information for your primary employer"),e("li",null,"Salary information helps with tax planning"),e("li",null,"Benefits information affects tax deductions")],-1)])])):(l(),n("div",ms,[...t[29]||(t[29]=[e("p",null,"Complete this section with accurate information. All fields are optional unless marked as required.",-1)])]))])])])]),e("div",ps,[e("button",{onClick:t[11]||(t[11]=s=>D.value=!1),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," Got it ")])])])])):p("",!0),N.value?(l(),n("div",gs,[e("div",fs,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[12]||(t[12]=s=>N.value=!1)}),e("div",bs,[e("form",{onSubmit:ye(me,["prevent"])},[e("div",vs,[e("div",xs,[e("div",ys,[C(i(re),{class:"h-6 w-6 text-green-600"})]),e("div",hs,[t[34]||(t[34]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Request Professional Review ",-1)),e("div",ws,[e("div",null,[t[30]||(t[30]=e("label",{class:"text-sm font-medium text-gray-700 mb-2 block"}," Which sections would you like reviewed? (Optional - leave blank for all sections) ",-1)),e("div",_s,[(l(),n(V,null,O(L,s=>e("label",{key:s.id,class:"flex items-center"},[W(e("input",{"onUpdate:modelValue":t[13]||(t[13]=A=>i(y).sections=A),value:s.id,type:"checkbox",class:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"},null,8,ks),[[he,i(y).sections]]),e("span",Ss,g(s.name),1),v(s.id)===null?(l(),n("span",$s,"(Optional)")):v(s.id)===100?(l(),n("span",Cs,"(Complete)")):v(s.id)>0?(l(),n("span",Ds,"(In Progress)")):p("",!0)])),64))])]),e("div",null,[t[32]||(t[32]=e("label",{for:"priority",class:"block text-sm font-medium text-gray-700 mb-1"}," Priority Level ",-1)),W(e("select",{id:"priority","onUpdate:modelValue":t[14]||(t[14]=s=>i(y).priority=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"},[...t[31]||(t[31]=[e("option",{value:"low"},"Low - Review when convenient",-1),e("option",{value:"normal"},"Normal - Standard review",-1),e("option",{value:"high"},"High - Urgent review needed",-1)])],512),[[we,i(y).priority]])]),e("div",null,[t[33]||(t[33]=e("label",{for:"reviewMessage",class:"block text-sm font-medium text-gray-700 mb-1"}," Additional Message (Optional) ",-1)),W(e("textarea",{id:"reviewMessage","onUpdate:modelValue":t[15]||(t[15]=s=>i(y).message=s),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",placeholder:"Any specific questions or areas you'd like your tax professional to focus on..."},null,512),[[_e,i(y).message]])])])])])]),e("div",js,[e("button",{type:"submit",disabled:i(y).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},g(i(y).processing?"Sending...":"Send Review Request"),9,As),e("button",{onClick:t[16]||(t[16]=s=>N.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):p("",!0)]}),_:1}))}};export{zs as default};
