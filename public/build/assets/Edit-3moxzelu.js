import{c,o as d,a as e,l as w,A as ye,B as we,f as j,d as x,u,g as ae,h as q,j as ne,F as B,r as z,t as p,v as pe,b as k,p as S,e as ue,C as W,T as _e,q as me,s as $e,D as ke,w as ge,x as de,n as be,N as K,z as Ce}from"./app-DCZmz_Tv.js";import{r as Se,A as je}from"./AppLayout-BMFjVIlg.js";import{r as De,a as Ae,P as Me,S as Ue,E as Ve,b as Te,A as Fe,c as Pe}from"./ExpensesManagementSection-C28rCShP.js";import{P as Ne}from"./PdfViewer-BLLVvtG3.js";import{r as R}from"./DocumentTextIcon-C2AXf3w9.js";import{r as ce}from"./XMarkIcon-B9kUgfzp.js";import{r as ve}from"./EyeIcon-BPj5wAvO.js";import{r as xe}from"./PencilIcon-C8j71jkZ.js";import{r as Ee}from"./TrashIcon-CI0NdPJd.js";import{r as Be}from"./UserIcon-B_QY6ZwV.js";import{r as ze}from"./ReceiptRefundIcon-BmP4N8wF.js";import{r as Oe}from"./BriefcaseIcon-CMouUrbU.js";import{r as Ie}from"./CurrencyDollarIcon-CyXX44W0.js";import{r as qe}from"./InformationCircleIcon-Ct_LhqwD.js";import{r as Re}from"./CheckCircleIcon-MRJ8XcMY.js";import{r as Le}from"./ArrowLeftIcon-9kYM1PqY.js";import"./PlusIcon-CBWh3Nte.js";import"./ExclamationTriangleIcon-BSuoZS6-.js";function ie(v,m){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function fe(v,m){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}const Xe={class:"space-y-6"},He={class:"bg-gradient-to-br from-purple-50 to-indigo-100 rounded-xl p-6 border border-purple-200"},Ye={class:"flex items-center justify-between mb-6"},Ge={class:"flex items-center space-x-3"},We={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ze=["value"],Je=["value"],Qe={class:"relative"},et={key:0,class:"space-y-2"},tt={class:"space-y-2"},st={class:"flex items-center space-x-3"},ot={class:"text-sm font-medium text-gray-900"},rt={class:"text-xs text-gray-500"},lt=["onClick"],at={class:"flex justify-end"},nt=["disabled"],dt={key:1,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},it={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},ut={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},ct={class:"flex items-center justify-between"},pt={class:"flex items-center space-x-3"},mt={class:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center"},gt={class:"text-sm text-gray-600"},bt={key:0,class:"p-12 text-center"},xt={class:"w-14 h-14 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},ft={key:1,class:"overflow-x-auto"},vt={class:"min-w-full"},ht={class:"bg-white divide-y divide-gray-100"},yt={class:"px-6 py-5 whitespace-nowrap"},wt={class:"flex items-center"},_t={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4 shadow-sm"},$t={class:"text-sm font-semibold text-gray-900"},kt={class:"text-xs text-gray-500 font-medium"},Ct={class:"px-6 py-5 whitespace-nowrap"},St={class:"text-sm font-medium text-gray-900"},jt={class:"px-6 py-5 whitespace-nowrap"},Dt={class:"text-sm font-semibold text-gray-900"},At={class:"px-6 py-5 whitespace-nowrap"},Mt={key:0,class:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"},Ut={key:1,class:"w-1.5 h-1.5 bg-rose-400 rounded-full mr-2"},Vt={key:2,class:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-2"},Tt={class:"px-6 py-5 whitespace-nowrap"},Ft={class:"text-sm text-gray-600 font-medium"},Pt={class:"px-6 py-5 text-center"},Nt={class:"flex justify-center space-x-2"},Et=["onClick"],Bt=["onClick"],zt=["onClick"],Ot={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center p-4"},It={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden flex flex-col max-h-[90vh]"},qt={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"},Rt={class:"text-lg font-bold text-gray-900"},Lt={class:"text-sm text-gray-600 mt-1"},Xt={class:"flex-1 overflow-hidden"},Ht={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Yt={class:"relative top-20 mx-auto p-6 border w-96 shadow-2xl rounded-2xl bg-white"},Gt={class:"mt-3"},Wt={class:"flex items-center space-x-3 mb-6"},Kt={class:"w-10 h-10 bg-gradient-to-br from-purple-100 to-indigo-200 rounded-xl flex items-center justify-center"},Zt={class:"space-y-6"},Jt={class:"flex justify-end space-x-3 pt-4"},Qt=["disabled"],es={__name:"DocumentManagementSection",props:{clientId:{type:Number,required:!0},documentTypes:{type:Object,default:()=>({w2:"W-2 Forms",1099:"1099 Forms",receipts:"Receipts",bank_statements:"Bank Statements",tax_returns:"Tax Returns",id_documents:"ID Documents",other:"Other"})},taxYears:{type:Array,default:()=>[]}},emits:["update"],setup(v,{emit:m}){const g=v,n=m,h=w([]),y=w([]),f=w(!1),L=w(!1),O=w(!1),I=w(!1),T=w(null),M=w(null),F=w(!1),D=w({document_type:"",tax_year:"",notes:""}),A=w({status:"",notes:""}),V=a=>{const s=Array.from(a.target.files);X(s)},Z=a=>{const s=Array.from(a.dataTransfer.files);X(s)},X=a=>{const s=a.filter(b=>{const U=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return b.size<=10485760&&(U.includes(b.type)||/\.(pdf|doc|docx|jpg|jpeg|png|gif|txt|xls|xlsx)$/i.test(b.name))});y.value=[...y.value,...s]},J=a=>{y.value.splice(a,1)},H=a=>{if(!a)return"Unknown";const s=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,b)*100)/100+" "+s[b]},Q=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Y=async()=>{if(y.value.length!==0){f.value=!0;try{const a=new FormData;y.value.forEach((b,_)=>{a.append(`files[${_}]`,b)}),a.append("client_id",g.clientId),a.append("document_type",D.value.document_type),a.append("tax_year",D.value.tax_year||""),a.append("notes",D.value.notes||""),console.log("Uploading with client_id:",g.clientId);const s=await W.post("/admin/documents/upload",a,{headers:{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"}});console.log("Upload successful:",s.data),y.value=[],D.value={document_type:"",tax_year:"",notes:""},await N(),n("update"),alert("Documents uploaded successfully!")}catch(a){console.error("Upload failed:",a);let s="Upload failed. Please try again.";if(a.response)if(console.error("Error response:",a.response.data),a.response.status===422){const b=a.response.data.errors||{},_=Object.values(b).flat();s=_.length>0?_.join(", "):"Validation failed"}else a.response.data.message&&(s=a.response.data.message);alert(s)}finally{f.value=!1}}},N=async()=>{try{const a=await W.get(`/admin/clients/${g.clientId}/documents`);console.log("Documents loaded from API:",a.data.documents),h.value=a.data.documents||[]}catch(a){console.error("Failed to load documents by client:",a);try{const s=await W.get(`/admin/documents?user_id=${g.clientId}`);console.log("Documents loaded from fallback:",s.data.documents),h.value=s.data.documents||[]}catch(s){console.error("Fallback load also failed:",s),h.value=[]}}},P=()=>{N()},ee=a=>{if(!a||!a.id){console.error("Invalid document:",a),alert("Unable to view document. Invalid document data.");return}console.log("Viewing document:",a.id,a.file_path),M.value=a,I.value=!0},te=()=>{I.value=!1,M.value=null},se=()=>{L.value=!1,T.value=null},G=a=>{console.log("Selected document for status update:",a),T.value=a,A.value={status:a.status,notes:a.notes||""},O.value=!0},E=()=>{O.value=!1,T.value=null,A.value={status:"",notes:""}},oe=async()=>{var a;F.value=!0;try{const s=T.value.id,b=`/admin/documents/${s}/status`;console.log("Updating document status:",{documentId:s,url:b,data:A.value});const _=await fetch(b,{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.content)||""},body:JSON.stringify(A.value)});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const U=await _.json();console.log("Status update response:",U);const i=h.value.findIndex(C=>C.id===s);i!==-1&&(h.value[i].status=A.value.status,h.value[i].notes=A.value.notes),E(),n("update")}catch(s){console.error("Status update failed:",s)}finally{F.value=!1}},re=async a=>{if(confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`))try{console.log("Deleting document:",a.id);const s=await W.delete(`/admin/documents/${a.id}`,{headers:{"X-Requested-With":"XMLHttpRequest"}});console.log("Delete successful:",s.data),await N(),n("update"),alert("Document deleted successfully!")}catch(s){console.error("Delete failed:",s);let b="Delete failed. Please try again.";s.response&&(console.error("Error response:",s.response.data),s.response.data.message?b=s.response.data.message:s.response.status===404?b="Document not found.":s.response.status===403&&(b="You do not have permission to delete this document.")),alert(b)}};return ye(()=>{N()}),(a,s)=>{var _,U;const b=we("DocumentViewModal");return d(),c("div",Xe,[e("div",He,[e("div",Ye,[e("div",Ge,[e("div",We,[x(u(ie),{class:"w-5 h-5 text-white"})]),s[7]||(s[7]=e("div",null,[e("h3",{class:"text-lg font-bold text-purple-900"},"Upload Documents"),e("p",{class:"text-sm text-purple-700"},"Add new documents for this client")],-1))])]),e("form",{onSubmit:ae(Y,["prevent"]),class:"space-y-4"},[e("div",Ke,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Document Type",-1)),q(e("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>D.value.document_type=i),class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900",required:""},[s[8]||(s[8]=e("option",{value:""},"Select document type",-1)),(d(!0),c(B,null,z(v.documentTypes,(i,C)=>(d(),c("option",{key:C,value:C},p(i),9,Ze))),128))],512),[[ne,D.value.document_type]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Tax Year",-1)),q(e("select",{"onUpdate:modelValue":s[1]||(s[1]=i=>D.value.tax_year=i),class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white text-gray-900"},[s[10]||(s[10]=e("option",{value:""},"Select tax year",-1)),(d(!0),c(B,null,z(v.taxYears,i=>(d(),c("option",{key:i,value:i},p(i),9,Je))),128))],512),[[ne,D.value.tax_year]])])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-semibold text-purple-800 mb-2"},"Notes (Optional)",-1)),q(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=i=>D.value.notes=i),rows:"3",placeholder:"Add any notes about this document...",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none text-gray-900",maxlength:"500"},null,512),[[pe,D.value.notes]])]),e("div",Qe,[e("input",{ref:"fileInput",type:"file",onChange:V,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt,.xls,.xlsx",multiple:"",class:"hidden"},null,544),e("div",{onClick:s[3]||(s[3]=i=>a.$refs.fileInput.click()),onDragover:s[4]||(s[4]=ae(()=>{},["prevent"])),onDrop:ae(Z,["prevent"]),class:"border-2 border-dashed border-purple-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-200"},[x(u(ie),{class:"w-12 h-12 text-purple-400 mx-auto mb-4"}),s[13]||(s[13]=e("p",{class:"text-purple-700 font-semibold mb-2"},"Click to upload or drag and drop",-1)),s[14]||(s[14]=e("p",{class:"text-sm text-purple-600"},"PDF, DOC, DOCX, JPG, PNG, GIF, TXT, XLS, XLSX (Max 10MB each)",-1))],32)]),y.value.length>0?(d(),c("div",et,[s[15]||(s[15]=e("h4",{class:"text-sm font-semibold text-purple-800"},"Selected Files:",-1)),e("div",tt,[(d(!0),c(B,null,z(y.value,(i,C)=>(d(),c("div",{key:C,class:"flex items-center justify-between bg-white p-3 rounded-lg border border-purple-200"},[e("div",st,[x(u(R),{class:"w-5 h-5 text-purple-600"}),e("div",null,[e("p",ot,p(i.name),1),e("p",rt,p(H(i.size)),1)])]),e("button",{type:"button",onClick:le=>J(C),class:"text-red-500 hover:text-red-700 p-1"},[x(u(ce),{class:"w-4 h-4"})],8,lt)]))),128))])])):j("",!0),e("div",at,[e("button",{type:"submit",disabled:f.value||y.value.length===0,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2"},[f.value?(d(),c("svg",dt,[...s[16]||(s[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(d(),k(u(ie),{key:0,class:"w-5 h-5"})),e("span",null,p(f.value?"Uploading...":"Upload Documents"),1)],8,nt)])],32)]),e("div",it,[e("div",ut,[e("div",ct,[e("div",pt,[e("div",mt,[x(u(R),{class:"w-4 h-4 text-white"})]),e("div",null,[s[17]||(s[17]=e("h3",{class:"text-lg font-bold text-gray-900"},"Client Documents",-1)),e("p",gt,p(h.value.length)+" documents uploaded",1)])]),e("button",{onClick:P,class:"text-purple-600 hover:text-purple-800 text-sm font-medium"}," Refresh ")])]),h.value.length===0?(d(),c("div",bt,[e("div",xt,[x(u(R),{class:"w-8 h-8 text-purple-600"})]),s[18]||(s[18]=e("p",{class:"text-gray-500 font-medium"},"No documents uploaded yet",-1)),s[19]||(s[19]=e("p",{class:"text-gray-400 text-sm mt-1"},"Upload documents using the form above",-1))])):(d(),c("div",ft,[e("table",vt,[s[20]||(s[20]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Document "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Tax Year "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Uploaded "),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ht,[(d(!0),c(B,null,z(h.value,i=>(d(),c("tr",{key:i.id,class:"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 transition-all duration-200 group"},[e("td",yt,[e("div",wt,[e("div",_t,[x(u(R),{class:"w-5 h-5 text-purple-600"})]),e("div",null,[e("div",$t,p(i.name),1),e("div",kt,p(H(i.file_size)),1)])])]),e("td",Ct,[e("span",St,p(v.documentTypes[i.document_type]||i.document_type),1)]),e("td",jt,[e("span",Dt,p(i.tax_year||"-"),1)]),e("td",At,[e("span",{class:S([{"bg-amber-100 text-amber-800 border border-amber-200":i.status==="pending","bg-emerald-100 text-emerald-800 border border-emerald-200":i.status==="approved","bg-rose-100 text-rose-800 border border-rose-200":i.status==="rejected"},"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold shadow-sm"])},[i.status==="approved"?(d(),c("span",Mt)):i.status==="rejected"?(d(),c("span",Ut)):(d(),c("span",Vt)),ue(" "+p(i.status.charAt(0).toUpperCase()+i.status.slice(1)),1)],2)]),e("td",Tt,[e("span",Ft,p(Q(i.created_at)),1)]),e("td",Pt,[e("div",Nt,[e("button",{onClick:C=>ee(i),class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"View Document"},[x(u(ve),{class:"w-3 h-3"})],8,Et),e("button",{onClick:C=>G(i),class:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Update Status"},[x(u(xe),{class:"w-3 h-3"})],8,Bt),e("button",{onClick:C=>re(i),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105",title:"Delete Document"},[x(u(Ee),{class:"w-3 h-3"})],8,zt)])])]))),128))])])]))]),I.value?(d(),c("div",Ot,[e("div",It,[e("div",qt,[e("div",null,[e("h3",Rt,p((_=M.value)==null?void 0:_.name),1),e("p",Lt,p((U=M.value)==null?void 0:U.formatted_file_size),1)]),e("button",{onClick:te,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[x(u(ce),{class:"w-5 h-5"})])]),e("div",Xt,[M.value?(d(),k(Ne,{key:0,"pdf-url":`/admin/documents/${M.value.id}/download`,"document-id":M.value.id.toString(),"document-name":M.value.name,height:600},null,8,["pdf-url","document-id","document-name"])):j("",!0)])])])):j("",!0),x(b,{show:L.value,document:T.value,onClose:se},null,8,["show","document"]),O.value?(d(),c("div",Ht,[e("div",Yt,[e("div",Gt,[e("div",Wt,[e("div",Kt,[x(u(xe),{class:"w-5 h-5 text-purple-600"})]),s[21]||(s[21]=e("h3",{class:"text-xl font-bold text-gray-900"},"Update Document Status",-1))]),e("div",Zt,[e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),q(e("select",{"onUpdate:modelValue":s[5]||(s[5]=i=>A.value.status=i),class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 bg-white",required:""},[...s[22]||(s[22]=[e("option",{value:"pending"},"Pending Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[ne,A.value.status]])]),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Notes (Optional)",-1)),q(e("textarea",{"onUpdate:modelValue":s[6]||(s[6]=i=>A.value.notes=i),rows:"4",placeholder:"Add any notes about this status change...",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 resize-none",maxlength:"500"},null,512),[[pe,A.value.notes]])]),e("div",Jt,[e("button",{type:"button",onClick:E,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold transition-all duration-200"}," Cancel "),e("button",{type:"button",onClick:oe,disabled:F.value,class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},p(F.value?"Updating...":"Update Status"),9,Qt)])])])])])):j("",!0)])}}},ts={class:"relative overflow-hidden"},ss={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2 pr-2 pl-2"},os={class:"flex items-center space-x-4"},rs={class:"w-14 h-14 bg-gradient-to-br from-emarald-500 via-green-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-blue-100"},ls={class:"mt-2 text-sm text-gray-600 font-medium"},as={class:"flex items-center space-x-4 mt-3"},ns={class:"flex items-center space-x-2"},ds={class:"text-xs font-semibold text-blue-700"},is={class:"flex items-center space-x-2"},us={class:"text-xs font-semibold text-emerald-700"},cs={class:"flex items-center space-x-3"},ps={class:"py-6"},ms={class:"max-w-7xl mx-auto sm:px-6 lg:px-4"},gs={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},bs={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},xs={class:"flex items-center justify-between"},fs={class:"flex items-center space-x-3"},vs={class:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm"},hs={class:"text-sm font-semibold text-blue-600"},ys={key:0,class:"flex items-center space-x-2 bg-yellow-50 px-3 py-2 rounded-lg border border-yellow-200"},ws={key:1,class:"flex items-center space-x-2 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},_s={class:"text-xs font-medium text-green-700"},$s={class:"p-6"},ks={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-3","aria-label":"Tabs"},Cs=["onClick"],Ss={class:"flex flex-col items-center space-y-2"},js={class:"font-semibold text-center"},Ds={class:"flex items-center space-x-1"},As={key:0,class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},Ms={class:"text-xs font-medium opacity-75"},Us={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Vs={class:"lg:col-span-3"},Ts={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},Fs={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},Ps={class:"flex items-center"},Ns={class:"text-lg font-bold text-gray-900"},Es={class:"text-sm text-gray-600"},Bs={class:"p-8"},zs={class:"lg:col-span-1"},Os={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden sticky top-6"},Is={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},qs={class:"flex items-center"},Rs={class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3"},Ls={class:"p-6"},Xs={class:"mb-6"},Hs={class:"flex items-center justify-between mb-3"},Ys={class:"text-sm font-bold text-blue-600"},Gs={class:"w-full bg-gray-200 rounded-full h-3 shadow-inner"},Ws={class:"space-y-3 mb-6"},Ks=["onClick"],Zs={class:"flex items-center space-x-3"},Js={class:"flex items-center space-x-2"},Qs={class:"w-12 h-2 bg-gray-200 rounded-full shadow-inner"},eo={key:0,class:"w-3 h-3 bg-green-500 rounded-full animate-pulse shadow-sm"},to={key:1,class:"w-3 h-3 bg-amber-500 rounded-full shadow-sm"},so={key:2,class:"w-3 h-3 bg-gray-300 rounded-full shadow-sm"},oo={class:"space-y-3"},ro=["disabled"],lo={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ao={class:"mt-6 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4 border border-blue-200"},no={class:"flex items-center mb-3"},io={class:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center mr-2"},uo={key:0,class:"mt-4 p-4 bg-green-50 rounded-lg"},co={class:"flex items-center"},Mo={__name:"Edit",props:{client:Object,visaStatusOptions:{type:Array,default:()=>[]},documentTypes:{type:Object,default:()=>({})},taxYears:{type:Array,default:()=>[]}},setup(v){var U,i,C,le;const m=v,g=w("personal"),n=_e({personal:{firstName:((U=m.client.user)==null?void 0:U.first_name)||"",middleName:((i=m.client.user)==null?void 0:i.middle_name)||"",lastName:((C=m.client.user)==null?void 0:C.last_name)||"",email:((le=m.client.user)==null?void 0:le.email)||"",phone:m.client.phone||"",ssn:m.client.ssn||"",dateOfBirth:m.client.date_of_birth||"",maritalStatus:m.client.marital_status||"single",occupation:m.client.occupation||"",insuranceCovered:m.client.insurance_covered||!1,streetNo:m.client.street_no||"",apartmentNo:m.client.apartment_no||"",zipCode:m.client.zip_code||"",city:m.client.city||"",state:m.client.state||"",country:m.client.country||"United States",mobileNumber:m.client.mobile_number||"",workNumber:m.client.work_number||"",visaStatus:m.client.visa_status||"",dateOfEntryUs:m.client.date_of_entry_us||""}}),h=me(()=>[{id:"personal",name:"Personal Details",icon:Be,description:"Basic client information and contact details"},{id:"spouse",name:"Spouse Details",icon:ze,description:"Spouse information for married clients"},{id:"employee",name:"Employment",icon:Oe,description:"Employment and salary information"},{id:"projects",name:"Projects",icon:De,description:"Tax-related projects and business activities"},{id:"assets",name:"Assets",icon:Ie,description:"Client assets and investments"},{id:"expenses",name:"Expenses",icon:Ae,description:"Deductible expenses and tax-related costs"},{id:"documents",name:"Documents",icon:R,description:"Upload and manage client documents"}]),y=me(()=>{const r=h.value.map(o=>f(o.id)).filter(o=>o!==null),t=r.reduce((o,l)=>o+l,0);return r.length>0?t/r.length:0}),f=r=>{switch(r){case"personal":return ee();case"spouse":return te();case"employee":return se();case"projects":return null;case"assets":return null;case"expenses":return null;case"documents":return null;default:return 0}},L=r=>{const t=f(r);return t===null?O(r):t===100?"bg-green-500":t>0?"bg-amber-500":"bg-gray-300"},O=r=>({personal:"bg-blue-500",spouse:"bg-rose-500",employee:"bg-indigo-500",projects:"bg-purple-500",assets:"bg-emerald-500",expenses:"bg-orange-500",documents:"bg-purple-500"})[r]||"bg-gray-500",I=r=>{var l,$;const t=g.value===r,o={personal:{active:"bg-blue-500 text-white shadow-lg transform scale-105 border-2 border-blue-600",inactive:"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:shadow-md hover:transform hover:scale-102 border border-blue-200"},spouse:{active:"bg-rose-500 text-white shadow-lg transform scale-105 border-2 border-rose-600",inactive:"bg-rose-100 text-rose-700 hover:bg-rose-200 hover:shadow-md hover:transform hover:scale-102 border border-rose-200"},employee:{active:"bg-indigo-500 text-white shadow-lg transform scale-105 border-2 border-indigo-600",inactive:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 hover:shadow-md hover:transform hover:scale-102 border border-indigo-200"},projects:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"},assets:{active:"bg-emerald-500 text-white shadow-lg transform scale-105 border-2 border-emerald-600",inactive:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 hover:shadow-md hover:transform hover:scale-102 border border-emerald-200"},expenses:{active:"bg-orange-500 text-white shadow-lg transform scale-105 border-2 border-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200 hover:shadow-md hover:transform hover:scale-102 border border-orange-200"},documents:{active:"bg-purple-500 text-white shadow-lg transform scale-105 border-2 border-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200 hover:shadow-md hover:transform hover:scale-102 border border-purple-200"}};return t?(l=o[r])==null?void 0:l.active:($=o[r])==null?void 0:$.inactive},T=r=>{const t=g.value===r;return{personal:t?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-blue-50",spouse:t?"bg-rose-100 border border-rose-200":"bg-gray-50 hover:bg-rose-50",employee:t?"bg-indigo-100 border border-indigo-200":"bg-gray-50 hover:bg-indigo-50",projects:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50",assets:t?"bg-emerald-100 border border-emerald-200":"bg-gray-50 hover:bg-emerald-50",expenses:t?"bg-orange-100 border border-orange-200":"bg-gray-50 hover:bg-orange-50",documents:t?"bg-purple-100 border border-purple-200":"bg-gray-50 hover:bg-purple-50"}[r]||"bg-gray-50 hover:bg-gray-100"},M=r=>{const t=g.value===r;return{personal:t?"text-blue-600":"text-gray-500",spouse:t?"text-rose-600":"text-gray-500",employee:t?"text-indigo-600":"text-gray-500",projects:t?"text-purple-600":"text-gray-500",assets:t?"text-emerald-600":"text-gray-500",expenses:t?"text-orange-600":"text-gray-500",documents:t?"text-purple-600":"text-gray-500"}[r]||"text-gray-500"},F=r=>{const t=g.value===r;return{personal:t?"text-blue-900":"text-gray-900",spouse:t?"text-rose-900":"text-gray-900",employee:t?"text-indigo-900":"text-gray-900",projects:t?"text-purple-900":"text-gray-900",assets:t?"text-emerald-900":"text-gray-900",expenses:t?"text-orange-900":"text-gray-900",documents:t?"text-purple-900":"text-gray-900"}[r]||"text-gray-900"},D=r=>g.value===r?"text-white":{personal:"text-blue-600",spouse:"text-rose-600",employee:"text-indigo-600",projects:"text-purple-600",assets:"text-emerald-600",expenses:"text-orange-600",documents:"text-purple-600"}[r]||"text-gray-600",A=r=>g.value===r?"bg-white bg-opacity-80":{personal:"bg-blue-400",spouse:"bg-rose-400",employee:"bg-indigo-400",projects:"bg-purple-400",assets:"bg-emerald-400",expenses:"bg-orange-400",documents:"bg-purple-400"}[r]||"bg-gray-400",V=()=>{},Z=r=>{Array.isArray(n.employee)||(n.employee=[]),n.employee.length===0&&n.employee.push({}),n.employee[0]={...r}},X=()=>{const r={personal:Y(n.personal),spouse:Y(n.spouse),employee:Array.isArray(n.employee)?n.employee.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o}):[],projects:Array.isArray(n.projects)?n.projects.map(t=>{const o={...t};return delete o.taxYear,delete o.priority,delete o.created_at,delete o.updated_at,o.start_date&&(o.start_date=P(o.start_date)),o.due_date&&(o.due_date=P(o.due_date)),o.completion_date&&(o.completion_date=P(o.completion_date)),o}):[],assets:Array.isArray(n.assets)?n.assets.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o.date_of_purchase&&(o.date_of_purchase=P(o.date_of_purchase)),o}):[],expenses:Array.isArray(n.expenses)?n.expenses.map(t=>{const o={...t};return delete o.created_at,delete o.updated_at,o.expense_date&&(o.expense_date=P(o.expense_date)),o}):[]};n.transform(()=>r).put(`/admin/clients/${m.client.id}`,{onSuccess:()=>{K.visit(`/admin/clients/${m.client.id}`)},onError:t=>{console.error("Failed to update client:",t)}})},J=()=>{K.visit(Ce("admin.clients.show",m.client.id))},H=()=>{K.visit(`/admin/clients/${m.client.id}`)},Q=()=>{K.visit("/admin/clients")},Y=r=>{if(!r)return{};const t={};for(const[o,l]of Object.entries(r)){const $=o.replace(/[A-Z]/g,he=>`_${he.toLowerCase()}`);t[$]=l}return t},N=r=>{const o=Math.floor((new Date-r)/1e3);return o<60?"just now":o<3600?`${Math.floor(o/60)}m ago`:o<86400?`${Math.floor(o/3600)}h ago`:`${Math.floor(o/86400)}d ago`},P=r=>{if(!r)return null;try{let t;if(typeof r=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(r))return r;t=new Date(r)}else if(r instanceof Date)t=r;else return null;if(isNaN(t.getTime()))return console.warn("Invalid date provided:",r),null;const o=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),$=String(t.getDate()).padStart(2,"0");return`${o}-${l}-${$}`}catch(t){return console.error("Error formatting date for backend:",t,r),null}},ee=()=>{const r=["firstName","lastName","email","phone"];return r.filter(o=>{const l=n.personal[o];return l&&l.toString().trim().length>0}).length/r.length*100},te=()=>{var o;if(((o=n.personal)==null?void 0:o.maritalStatus)!=="married")return 100;const r=["firstName","lastName"];return r.filter(l=>{const $=n.spouse[l];return $&&$.toString().trim().length>0}).length/r.length*100},se=()=>{if(!n.employee||!Array.isArray(n.employee)||n.employee.length===0)return 0;const r=n.employee[0],t=["employerName","position"];return t.filter(l=>{const $=r[l];return $&&$.toString().trim().length>0}).length/t.length*100},G=r=>{const t=g.value===r;return{personal:t?"bg-blue-500":"bg-blue-100",spouse:t?"bg-rose-500":"bg-rose-100",employee:t?"bg-indigo-500":"bg-indigo-100",projects:t?"bg-purple-500":"bg-purple-100",assets:t?"bg-emerald-500":"bg-emerald-100",expenses:t?"bg-orange-500":"bg-orange-100",documents:t?"bg-purple-500":"bg-purple-100"}[r]||(t?"bg-gray-500":"bg-gray-100")},E=()=>h.value.find(r=>r.id===g.value)||h.value[0],oe=()=>G(g.value),re=()=>"text-white",a=r=>{const t=g.value===r;return{personal:t?"bg-blue-500":"bg-blue-100",spouse:t?"bg-rose-500":"bg-rose-100",employee:t?"bg-indigo-500":"bg-indigo-100",projects:t?"bg-purple-500":"bg-purple-100",assets:t?"bg-emerald-500":"bg-emerald-100",expenses:t?"bg-orange-500":"bg-orange-100",documents:t?"bg-purple-500":"bg-purple-100"}[r]||(t?"bg-gray-500":"bg-gray-100")},s=w(null),b=w(null),_=w(!1);return $e(()=>n.data(),()=>{},{deep:!0}),ke(()=>{s.value&&clearTimeout(s.value)}),(r,t)=>(d(),k(je,null,{header:ge(()=>{var o,l;return[e("div",ts,[t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-blue-50"},null,-1)),t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),t[13]||(t[13]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",ss,[e("div",os,[e("div",rs,[x(u(fe),{class:"w-8 h-8 text-white"})]),e("div",null,[t[8]||(t[8]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-emerald-900 bg-clip-text text-transparent"}," Edit Client ",-1)),e("p",ls,"Update "+p((o=v.client.user)==null?void 0:o.first_name)+" "+p((l=v.client.user)==null?void 0:l.last_name)+"'s information",1),e("div",as,[e("div",ns,[t[6]||(t[6]=e("div",{class:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"},null,-1)),e("span",ds,p(Math.round(y.value))+"% Complete",1)]),e("div",is,[t[7]||(t[7]=e("div",{class:"w-2 h-2 bg-emerald-400 rounded-full"},null,-1)),e("span",us,p(g.value.charAt(0).toUpperCase()+g.value.slice(1))+" Section",1)])])])]),e("div",cs,[e("button",{onClick:H,class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[x(u(ve),{class:"w-5 h-5 mr-2"}),t[9]||(t[9]=e("span",{class:"font-semibold"},"View Client",-1))]),e("button",{onClick:Q,class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[x(u(Le),{class:"w-5 h-5 mr-2"}),t[10]||(t[10]=e("span",{class:"font-semibold"},"Back to Clients",-1))])])])])]}),default:ge(()=>{var o;return[e("div",ps,[e("div",ms,[e("div",gs,[e("div",bs,[e("div",xs,[t[16]||(t[16]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Client Information Sections"),e("p",{class:"text-sm text-gray-600 mt-1"},"Update client profile sections as needed")],-1)),e("div",fs,[e("div",vs,[e("span",hs,p(Math.round(y.value))+"% Complete",1)]),_.value?(d(),c("div",ys,[...t[14]||(t[14]=[e("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse"},null,-1),e("span",{class:"text-xs font-medium text-yellow-700"},"Auto-saving...",-1)])])):b.value?(d(),c("div",ws,[t[15]||(t[15]=e("div",{class:"w-3 h-3 bg-green-400 rounded-full"},null,-1)),e("span",_s,"Saved "+p(N(b.value)),1)])):j("",!0)])])]),e("div",$s,[e("nav",ks,[(d(!0),c(B,null,z(h.value,l=>(d(),c("button",{key:l.id,onClick:$=>g.value=l.id,class:S(["relative p-4 rounded-xl font-medium text-sm transition-all duration-300 border-2 group hover:shadow-md transform hover:scale-105",I(l.id)])},[e("div",Ss,[e("div",{class:S(["w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300",G(l.id)])},[(d(),k(de(l.icon),{class:S([D(l.id),"w-5 h-5"])},null,8,["class"]))],2),e("span",js,p(l.name),1),e("div",Ds,[f(l.id)===100?(d(),c("div",As)):(d(),c("div",{key:1,class:S(`w-2 h-2 rounded-full ${A(l.id)}`)},null,2)),e("span",Ms,p(f(l.id)===100?"Complete":"Pending"),1)])])],10,Cs))),128))])])])])]),e("div",Us,[e("div",Vs,[e("div",Ts,[e("div",Fs,[e("div",Ps,[e("div",{class:S(["w-8 h-8 rounded-lg flex items-center justify-center mr-3",oe()])},[(d(),k(de(E().icon),{class:S([re(),"w-4 h-4"])},null,8,["class"]))],2),e("div",null,[e("h3",Ns,p(E().name),1),e("p",Es,p(E().description),1)])])]),e("div",Bs,[g.value==="personal"?(d(),k(Me,{key:0,modelValue:u(n).personal,"onUpdate:modelValue":t[0]||(t[0]=l=>u(n).personal=l),data:v.client,errors:u(n).errors,"visa-status-options":v.visaStatusOptions,onUpdate:V},null,8,["modelValue","data","errors","visa-status-options"])):j("",!0),g.value==="spouse"?(d(),k(Ue,{key:1,modelValue:u(n).spouse,"onUpdate:modelValue":t[1]||(t[1]=l=>u(n).spouse=l),errors:u(n).errors,"show-spouse":((o=u(n).personal)==null?void 0:o.maritalStatus)==="married",onUpdate:V},null,8,["modelValue","errors","show-spouse"])):j("",!0),g.value==="employee"?(d(),k(Ve,{key:2,modelValue:u(n).employee[0],"onUpdate:modelValue":t[2]||(t[2]=l=>u(n).employee[0]=l),errors:u(n).errors,onUpdate:Z},null,8,["modelValue","errors"])):j("",!0),g.value==="projects"?(d(),k(Te,{key:3,modelValue:u(n).projects,"onUpdate:modelValue":t[3]||(t[3]=l=>u(n).projects=l),errors:u(n).errors,onUpdate:V},null,8,["modelValue","errors"])):j("",!0),g.value==="assets"?(d(),k(Fe,{key:4,modelValue:u(n).assets,"onUpdate:modelValue":t[4]||(t[4]=l=>u(n).assets=l),errors:u(n).errors,onUpdate:V},null,8,["modelValue","errors"])):j("",!0),g.value==="expenses"?(d(),k(Pe,{key:5,modelValue:u(n).expenses,"onUpdate:modelValue":t[5]||(t[5]=l=>u(n).expenses=l),errors:u(n).errors,onUpdate:V},null,8,["modelValue","errors"])):j("",!0),g.value==="documents"?(d(),k(es,{key:6,"client-id":v.client.id,"document-types":v.documentTypes,"tax-years":v.taxYears,onUpdate:V},null,8,["client-id","document-types","tax-years"])):j("",!0)])])]),e("div",zs,[e("div",Os,[e("div",Is,[e("div",qs,[e("div",Rs,[x(u(Se),{class:"w-4 h-4 text-white"})]),t[17]||(t[17]=e("h3",{class:"text-lg font-bold text-gray-900"},"Edit Progress",-1))])]),e("div",Ls,[e("div",Xs,[e("div",Hs,[t[18]||(t[18]=e("span",{class:"text-sm font-semibold text-gray-700"},"Overall Completion",-1)),e("span",Ys,p(Math.round(y.value))+"%",1)]),e("div",Gs,[e("div",{class:"bg-gradient-to-r from-blue-500 to-emerald-500 h-3 rounded-full transition-all duration-500 shadow-sm",style:be({width:`${y.value}%`})},null,4)]),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500 mt-2"},"Update sections as needed",-1))]),e("div",Ws,[(d(!0),c(B,null,z(h.value,l=>(d(),c("div",{key:l.id,class:S(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all duration-300 border-2 hover:shadow-md transform hover:scale-105",T(l.id)]),onClick:$=>g.value=l.id},[e("div",Zs,[e("div",{class:S(["w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-300",a(l.id)])},[(d(),k(de(l.icon),{class:S([M(l.id),"w-4 h-4"])},null,8,["class"]))],2),e("div",null,[e("span",{class:S(["text-sm font-semibold block",F(l.id)])},p(l.name),3),e("span",{class:S(["text-xs opacity-75",F(l.id)])},p(f(l.id)===100?"Complete":f(l.id)>0?"In Progress":"Not Started"),3)])]),e("div",Js,[e("div",Qs,[e("div",{class:S(["h-2 rounded-full transition-all duration-500",L(l.id)]),style:be({width:f(l.id)!==null?`${f(l.id)}%`:"0%"})},null,6)]),f(l.id)===100?(d(),c("div",eo)):f(l.id)>0?(d(),c("div",to)):(d(),c("div",so))])],10,Ks))),128))]),e("div",oo,[e("button",{onClick:X,disabled:u(n).processing,class:"w-full bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center"},[u(n).processing?(d(),c("svg",lo,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(d(),k(u(fe),{key:0,class:"w-5 h-5 mr-2"})),ue(" "+p(u(n).processing?"Updating Client...":"Update Client"),1)],8,ro),e("button",{onClick:J,class:"w-full bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center"},[x(u(ce),{class:"w-5 h-5 mr-2"}),t[21]||(t[21]=ue(" Cancel ",-1))])]),e("div",ao,[e("div",no,[e("div",io,[x(u(qe),{class:"w-3 h-3 text-white"})]),t[22]||(t[22]=e("h4",{class:"text-sm font-bold text-blue-900"},"Edit Notes",-1))]),t[23]||(t[23]=e("p",{class:"text-xs text-blue-700 mb-3 leading-relaxed"}," Update client information sections as needed. Changes are saved when you click Update Client. ",-1)),t[24]||(t[24]=e("div",{class:"space-y-2"},[e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline transition-all duration-200"}," ðŸ“‹ Edit Guidelines "),e("button",{class:"block text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline transition-all duration-200"}," ðŸ”’ Data Security Policy ")],-1))]),y.value>=80?(d(),c("div",uo,[e("div",co,[x(u(Re),{class:"w-5 h-5 text-green-500 mr-2"}),t[25]||(t[25]=e("span",{class:"text-sm font-medium text-green-800"},"Ready to update!",-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-green-700 mt-1"}," Client information is comprehensive and ready for update. ",-1))])):j("",!0)])])])])]}),_:1}))}};export{Mo as default};
