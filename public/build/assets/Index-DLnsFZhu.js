import{l as h,b as p,w as m,a as t,t as a,c as i,f as y,h as w,v as B,j as k,o as l,F as C,r as S,p as I,d as M,u as n,i as b,e as _,N as V}from"./app-CMZFs4FC.js";import{_ as A}from"./AppLayout-DVFFvjSw.js";const U={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},P={class:"bg-white overflow-hidden shadow rounded-lg"},Y={class:"p-5"},$={class:"flex items-center"},O={class:"ml-5 w-0 flex-1"},H={class:"text-lg font-semibold text-gray-900"},L={class:"bg-white overflow-hidden shadow rounded-lg"},E={class:"p-5"},Q={class:"flex items-center"},q={class:"ml-5 w-0 flex-1"},G={class:"text-lg font-semibold text-gray-900"},J={class:"bg-white overflow-hidden shadow rounded-lg"},K={class:"p-5"},R={class:"flex items-center"},W={class:"ml-5 w-0 flex-1"},X={class:"text-lg font-semibold text-gray-900"},Z={class:"bg-white shadow-xl sm:rounded-lg"},tt={class:"p-6 border-b border-gray-200"},et={class:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4"},st=["value"],ot={key:0,class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200"},lt={class:"bg-white divide-y divide-gray-200"},rt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},dt={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},ut={class:"px-6 py-4 whitespace-nowrap"},ct={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},xt=["href"],mt={key:1,class:"text-center py-12"},gt={key:2,class:"px-6 py-4 border-t border-gray-200"},vt={class:"flex items-center justify-between"},ft={class:"text-sm text-gray-700"},ht={class:"flex space-x-2"},wt={__name:"Index",props:{invoices:Object,stats:Object,availableYears:Array,filters:Object},setup(o){const d=window.route,g=o,u=h(g.filters.search||""),c=h(g.filters.status||""),x=h(g.filters.year||""),j=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=r=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r||0),D=r=>({draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800"})[r]||"bg-gray-100 text-gray-800",F=r=>r.charAt(0).toUpperCase()+r.slice(1),f=()=>{V.get(d("client.invoices"),{search:u.value,status:c.value,year:x.value},{preserveState:!0,preserveScroll:!0})},N=()=>{u.value="",c.value="",x.value="",V.get(d("client.invoices"))};return(r,e)=>(l(),p(A,{title:"Invoices"},{default:m(()=>[t("div",U,[t("div",z,[t("div",T,[t("div",P,[t("div",Y,[t("div",$,[e[4]||(e[4]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",O,[t("dl",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Invoices",-1)),t("dd",H,a(o.stats.total_invoices),1)])])])])]),t("div",L,[t("div",E,[t("div",Q,[e[6]||(e[6]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",q,[t("dl",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Paid",-1)),t("dd",G,"$"+a(v(o.stats.total_paid_amount)),1)])])])])]),t("div",J,[t("div",K,[t("div",R,[e[8]||(e[8]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",W,[t("dl",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Pending",-1)),t("dd",X,"$"+a(v(o.stats.total_pending_amount)),1)])])])])])]),t("div",Z,[t("div",tt,[e[11]||(e[11]=t("div",{class:"flex justify-between items-center"},[t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900"},"My Invoices"),t("p",{class:"mt-1 text-sm text-gray-600"},"View and manage your invoices")])],-1)),t("div",et,[t("div",null,[w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),onInput:f,type:"text",placeholder:"Search invoices...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,544),[[B,u.value]])]),t("div",null,[w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),onChange:f,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},[...e[9]||(e[9]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"sent"},"Sent",-1),t("option",{value:"paid"},"Paid",-1)])],544),[[k,c.value]])]),t("div",null,[w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>x.value=s),onChange:f,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},[e[10]||(e[10]=t("option",{value:""},"All Years",-1)),(l(!0),i(C,null,S(o.availableYears,s=>(l(),i("option",{key:s,value:s},a(s),9,st))),128))],544),[[k,x.value]])]),t("div",null,[t("button",{onClick:N,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Clear Filters ")])])]),o.invoices.data&&o.invoices.data.length>0?(l(),i("div",ot,[t("table",at,[e[13]||(e[13]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Invoice #"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",lt,[(l(!0),i(C,null,S(o.invoices.data,s=>(l(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",rt,a(s.invoice_number),1),t("td",it,a(s.title),1),t("td",nt,a(j(s.created_at)),1),t("td",dt," $"+a(v(s.total_amount)),1),t("td",ut,[t("span",{class:I([D(s.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(F(s.status)),3)]),t("td",ct,[M(n(b),{href:n(d)("client.invoices.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:m(()=>[...e[12]||(e[12]=[_(" View ",-1)])]),_:1},8,["href"]),t("a",{href:n(d)("client.invoices.download",s.id),class:"text-green-600 hover:text-green-900"}," Download ",8,xt)])]))),128))])])])):(l(),i("div",mt,[...e[14]||(e[14]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No invoices found",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Your invoices will appear here once created by your tax professional.",-1)])])),o.invoices.data&&o.invoices.data.length>0?(l(),i("div",gt,[t("div",vt,[t("div",ft," Showing "+a(o.invoices.from)+" to "+a(o.invoices.to)+" of "+a(o.invoices.total)+" results ",1),t("div",ht,[o.invoices.prev_page_url?(l(),p(n(b),{key:0,href:o.invoices.prev_page_url,class:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:m(()=>[...e[15]||(e[15]=[_(" Previous ",-1)])]),_:1},8,["href"])):y("",!0),o.invoices.next_page_url?(l(),p(n(b),{key:1,href:o.invoices.next_page_url,class:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:m(()=>[...e[16]||(e[16]=[_(" Next ",-1)])]),_:1},8,["href"])):y("",!0)])])])):y("",!0)])])])]),_:1}))}};export{wt as default};
