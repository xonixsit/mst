import{c as f,o as p,a as e,l as T,f as k,d as z,u as R,p as q,e as F,t as m,q as K,s as Z,b as Se,J as de,m as G,z as ge,k as H,g as oe,h as V,v as I,j as le,D as fe,F as ae,r as me,C as Te,K as Le,n as He,_ as je}from"./app-GRZgmf8C.js";import{_ as ce,a as Re}from"./AppLayout-BbOvuLl0.js";import{r as Ye}from"./EyeIcon-DviHvIxU.js";import{r as _e}from"./InformationCircleIcon-USICMEpg.js";import{r as ue}from"./PlusIcon-J3srIKxR.js";import{r as Ce}from"./TrashIcon-Csepx0fN.js";import{a as Ze,r as We}from"./ReceiptRefundIcon-BOtPKrwy.js";import{r as Ke}from"./UserIcon-Bd0yqKCN.js";import{r as Ne}from"./ExclamationTriangleIcon-C5BvAH-_.js";function De(n,S){return p(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function Ge(n,S){return p(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function Je(n,S){return p(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})])}function Td(n,S){return p(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const Xe={class:"relative inline-block"},Qe={class:"relative"},Me={__name:"HelpTooltip",props:{text:{type:String,required:!0},position:{type:String,default:"right",validator:n=>["left","right"].includes(n)}},setup(n){const S=T(!1);return(c,N)=>(p(),f("div",Xe,[e("button",{onMouseenter:N[0]||(N[0]=t=>S.value=!0),onMouseleave:N[1]||(N[1]=t=>S.value=!1),onFocus:N[2]||(N[2]=t=>S.value=!0),onBlur:N[3]||(N[3]=t=>S.value=!1),type:"button",class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600"},[z(R(Je),{class:"w-4 h-4"})],32),S.value?(p(),f("div",{key:0,class:q(["absolute z-10 w-64 p-2 mt-1 text-sm text-white bg-gray-900 rounded-lg shadow-lg",n.position==="left"?"right-0":"left-0"])},[e("div",Qe,[F(m(n.text)+" ",1),e("div",{class:q(["absolute w-2 h-2 bg-gray-900 transform rotate-45",n.position==="left"?"top-0 right-2 -mt-1":"top-0 left-2 -mt-1"])},null,2)])],2)):k("",!0)]))}};function et(n){if(!n||typeof n!="string")return"";const S=n.replace(/\D/g,"");if(S.length===9)return`***-**-${S.slice(-4)}`;if(S.length>=4){const c=S.slice(-4),N=Math.max(0,S.length-4),t="*".repeat(N);return S.length>=7?`${t.slice(0,3)}-${t.slice(3,5)}-${c}`:S.length>=5?`${t.slice(0,3)}-${t.slice(3)}${c}`:t+c}return n}function tt(n){return!n||typeof n!="string"?!1:n.replace(/\D/g,"").length>=4}function Ee(n){if(!n)return"";let S=n.replace(/\D/g,"");return S=S.substring(0,9),S.length>=6?`${S.slice(0,3)}-${S.slice(3,5)}-${S.slice(5)}`:S.length>=4?`${S.slice(0,3)}-${S.slice(3)}`:S}function st(n,S,c){return!c||!n?"":S?n:tt(n)?et(n):n}const ot={class:"relative"},lt=["id","value","placeholder","disabled","readonly"],rt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},nt={class:"flex items-center space-x-1"},at={__name:"SSNInput",props:{modelValue:{type:String,default:""},inputId:{type:String,required:!0},placeholder:{type:String,default:"123-45-6789"},inputClasses:{type:String,default:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showSecurityIndicator:{type:Boolean,default:!0},showToggle:{type:Boolean,default:!1},autoMask:{type:Boolean,default:!0},isPreMasked:{type:Boolean,default:!1}},emits:["update:modelValue","focus","blur","input"],setup(n,{emit:S}){const c=n,N=S,t=T(null),a=T(!1),P=T(!0),B=T(c.modelValue||""),O=K(()=>B.value&&B.value.length>0),E=K(()=>!c.autoMask||c.isPreMasked&&B.value.includes("*")&&!a.value?B.value:a.value&&B.value.includes("*")?"":st(B.value,a.value||!P.value,O.value)),C=d=>{const D=d.target.value;if(D.includes("*")&&(D.length>B.value.length||!a.value)){d.target.value="",B.value="",N("update:modelValue",""),N("input","");return}const Q=Ee(D);B.value=Q,d.target.value=Q,N("update:modelValue",Q),N("input",Q)},i=d=>{a.value=!0,de(()=>{t.value&&c.autoMask&&(t.value.value=B.value)}),N("focus",d)},o=d=>{if(a.value=!1,P.value=!0,B.value){const D=Ee(B.value);D!==B.value&&(B.value=D,N("update:modelValue",D))}N("blur",d)},h=d=>{[8,9,27,13,46].includes(d.keyCode)||d.ctrlKey&&[65,67,86,88].includes(d.keyCode)||d.keyCode>=37&&d.keyCode<=40||(d.keyCode<48||d.keyCode>57)&&(d.keyCode<96||d.keyCode>105)&&d.preventDefault()},U=()=>{P.value=!P.value,de(()=>{t.value&&(t.value.value=E.value)})};return Z(()=>c.modelValue,d=>{d!==B.value&&(B.value=d||"")}),B.value=c.modelValue||"",(d,D)=>(p(),f("div",ot,[e("input",{id:n.inputId,ref_key:"inputRef",ref:t,value:E.value,type:"text",class:q(n.inputClasses),placeholder:n.placeholder,maxlength:11,disabled:n.disabled,readonly:n.readonly,onInput:C,onFocus:i,onBlur:o,onKeydown:h},null,42,lt),n.showSecurityIndicator&&O.value&&!a.value?(p(),f("div",rt,[e("div",nt,[z(R(De),{class:"h-4 w-4 text-gray-400"}),D[0]||(D[0]=e("span",{class:"text-xs text-gray-500"},"Secured",-1))])])):k("",!0),n.showToggle&&O.value?(p(),f("button",{key:1,type:"button",onClick:U,class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[P.value?(p(),Se(R(Ye),{key:0,class:"h-4 w-4"})):(p(),Se(R(De),{key:1,class:"h-4 w-4"}))])):k("",!0)]))}},Ie=ce(at,[["__scopeId","data-v-75bfc2d3"]]);function it(n){const S=n.replace(/\D/g,"");return S?S.length<=3?`(${S}`:S.length<=6?`(${S.slice(0,3)}) ${S.slice(3)}`:`(${S.slice(0,3)}) ${S.slice(3,6)}-${S.slice(6,10)}`:""}function Ae(n){return n.replace(/\D/g,"")}function Be(n){return Ae(n).length===10}function dt(n){if(!n)return"";const S=Ae(n);return S.length===10?`(${S.slice(0,3)}) ${S.slice(3,6)}-${S.slice(6)}`:n}function ut(n,S){const c=n.target,N=c.selectionStart,a=c.value.length,P=it(c.value);c.value=P;const O=P.length-a;let E=N+O;O>0&&(P[N]===")"||P[N]===" "||P[N]==="-")&&(E=N+1),setTimeout(()=>{c.setSelectionRange(E,E)},0),S&&S(P)}const mt={class:"personal-details-section"},ct={class:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden"},pt={class:"p-8"},ft={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200"},gt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},bt={class:"space-y-2"},xt={class:"space-y-2"},yt={class:"space-y-2"},vt={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},ht={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wt={key:0,class:"mt-1 text-sm text-red-600"},kt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$t={for:"ssn",class:"flex items-center text-sm font-medium text-gray-700 mb-1"},_t={key:0,class:"mt-1 text-sm text-red-600"},Ct={key:0,class:"mt-1 text-sm text-red-600"},Vt={for:"maritalStatus",class:"flex items-center text-sm font-medium text-gray-700 mb-1"},St={key:0,class:"mt-1 text-sm text-red-600"},Nt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Dt={class:"flex items-center space-x-4 mt-2"},Mt={class:"flex items-center"},Et={class:"border-t border-gray-200 pt-6"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},It={key:0,class:"mt-1 text-sm text-red-600"},At={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Pt={key:0,class:"mt-1 text-sm text-red-600"},Ut={key:0,class:"mt-1 text-sm text-red-600"},Ot=["value"],qt={key:0,class:"mt-1 text-sm text-red-600"},Ft={class:"border-t border-gray-200 pt-6"},zt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Tt={key:0,class:"border-t border-gray-200 pt-6"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ht={class:"relative"},jt={class:"block truncate text-left"},Rt={key:0,class:"absolute bottom-full left-0 z-50 w-full mb-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto"},Yt={class:"py-1"},Zt=["onMousedown"],Wt={for:"date_of_entry_us",class:"block text-sm font-medium text-gray-700 mb-1"},Kt={key:0,class:"text-xs text-gray-500 ml-1"},Gt=["disabled"],Jt={key:0,class:"mt-1 text-xs text-gray-500"},Xt={__name:"PersonalDetailsSection",props:{modelValue:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1},visaStatusOptions:{type:Array,default:()=>[{value:"",label:"Select visa status"},{value:"citizen",label:"US Citizen"},{value:"permanent_resident",label:"Permanent Resident"},{value:"h1b",label:"H-1B"},{value:"f1",label:"F-1 Student"},{value:"j1",label:"J-1 Exchange"},{value:"l1",label:"L-1 Intracompany"},{value:"other",label:"Other"}]}},emits:["update:modelValue","update","validate"],setup(n,{emit:S}){const c=n,N=S,t=G({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",maritalStatus:"",occupation:"",insuranceCovered:!1,streetNo:"",apartmentNo:"",zipCode:"",city:"",state:"",country:"United States",mobileNumber:"",workNumber:"",visaStatus:"",dateOfEntryUs:""}),a=G({}),P=T(!1),B=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],O=K(()=>!0),E=A=>{const s="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500";return a[A]?`${s} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:s},C=A=>{var l;const s=t[A];let y=null;switch(A){case"firstName":case"lastName":!s||s.trim().length===0?y=`${A==="firstName"?"First":"Last"} name is required`:s.length>50&&(y=`${A==="firstName"?"First":"Last"} name must be less than 50 characters`);break;case"email":s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(y="Please enter a valid email address"):y="Email address is required";break;case"phone":s?Be(s)||(y="Please enter a valid 10-digit phone number"):y="Phone number is required";break;case"mobileNumber":case"workNumber":s&&!Be(s)&&(y="Please enter a valid 10-digit phone number");break;case"ssn":!s&&!((l=c.data)!=null&&l.has_ssn)?y="Social Security Number is required":s&&!/^\d{3}-\d{2}-\d{4}$/.test(s)&&(y="SSN must be in format 123-45-6789");break;case"dateOfBirth":s?new Date(s)>=new Date&&(y="Date of birth must be in the past"):y="Date of birth is required";break;case"streetNo":(!s||s.trim().length===0)&&(y="Street address is required");break;case"zipCode":s?/^\d{5}(-\d{4})?$/.test(s)||(y="Please enter a valid ZIP code"):y="ZIP code is required";break;case"city":(!s||s.trim().length===0)&&(y="City is required");break;case"state":s||(y="State is required");break}return y?a[A]=y:delete a[A],N("validate",a),!y},i=(A,s)=>{t[A]=s,a[A]&&delete a[A],N("update:modelValue",{...t}),N("update",{...t})},o=A=>{var s;A&&A!==((s=c.data)==null?void 0:s.ssn_masked)&&(t.ssn=A,i("ssn",A))},h=(A,s)=>{ut(s,y=>{t[A]=y,i(A,y)})},U=A=>{const s=A.target.value;i("maritalStatus",s),N("marital-status-change",s)},d=()=>{const A=["firstName","lastName","email","phone","ssn","dateOfBirth","streetNo","zipCode","city","state"];let s=!0;A.forEach(y=>{C(y)||(s=!1)}),s&&N("submit",{...t})},D=()=>{P.value=!P.value},Q=()=>{setTimeout(()=>{P.value=!1},150)},re=A=>{t.visaStatus=A,P.value=!1,i("visaStatus",A)},J=()=>{const A=c.visaStatusOptions.find(s=>s.value===t.visaStatus);return A?A.label:""},ee=()=>{c.modelValue&&Object.keys(t).forEach(A=>{var s,y;if(c.modelValue[A]!==void 0){let l=c.modelValue[A];["phone","mobileNumber","workNumber"].includes(A)&&l&&(l=dt(l)),A==="ssn"&&(s=c.data)!=null&&s.has_ssn&&(y=c.data)!=null&&y.ssn_masked?t[A]="":t[A]=l}})};return Z(()=>c.errors,A=>{Object.keys(a).forEach(s=>delete a[s]),Object.assign(a,A)},{deep:!0}),Z(()=>c.modelValue,ee,{deep:!0}),ge(()=>{ee()}),(A,s)=>{var y,l;return p(),f("div",mt,[e("div",ct,[s[71]||(s[71]=H('<div class="bg-gradient-to-r from-blue-50 via-indigo-50 to-blue-50 px-8 py-6 border-b border-blue-200 relative overflow-hidden" data-v-ada13d40><div class="absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-blue-100/40 to-transparent rounded-bl-full" data-v-ada13d40></div><div class="relative flex items-center space-x-4" data-v-ada13d40><div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg ring-4 ring-blue-100" data-v-ada13d40><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ada13d40><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-ada13d40></path></svg></div><div data-v-ada13d40><h2 class="text-2xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-indigo-900 bg-clip-text text-transparent" data-v-ada13d40>Personal Details</h2><p class="text-sm text-gray-600 font-medium mt-1" data-v-ada13d40>Complete your basic personal information and contact details</p></div></div></div>',1)),e("div",pt,[e("form",{onSubmit:oe(d,["prevent"]),class:"space-y-8"},[e("div",ft,[s[42]||(s[42]=H('<div class="flex items-center mb-6" data-v-ada13d40><div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3" data-v-ada13d40><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ada13d40><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-ada13d40></path></svg></div><h4 class="text-lg font-bold text-gray-900" data-v-ada13d40>Name Information</h4></div>',1)),e("div",gt,[e("div",bt,[s[38]||(s[38]=e("label",{for:"firstName",class:"flex items-center text-sm font-semibold text-gray-700"},[F(" First Name "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Profile)")],-1)),V(e("input",{id:"firstName","onUpdate:modelValue":s[0]||(s[0]=r=>t.firstName=r),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 cursor-not-allowed text-gray-900",placeholder:"Enter first name",readonly:"",disabled:""},null,512),[[I,t.firstName]]),s[39]||(s[39]=e("p",{class:"text-xs text-gray-500"},[F(" Name fields can be updated in your "),e("a",{href:"/client/profile",class:"text-blue-600 hover:text-blue-800 underline font-medium"},"Profile"),F(" section. ")],-1))]),e("div",xt,[s[40]||(s[40]=e("label",{for:"middleName",class:"block text-sm font-semibold text-gray-700"},[F(" Middle Name "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Profile)")],-1)),V(e("input",{id:"middleName","onUpdate:modelValue":s[1]||(s[1]=r=>t.middleName=r),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 cursor-not-allowed text-gray-900",placeholder:"Enter middle name",readonly:"",disabled:""},null,512),[[I,t.middleName]])]),e("div",yt,[s[41]||(s[41]=e("label",{for:"lastName",class:"flex items-center text-sm font-semibold text-gray-700"},[F(" Last Name "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Profile)")],-1)),V(e("input",{id:"lastName","onUpdate:modelValue":s[2]||(s[2]=r=>t.lastName=r),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 cursor-not-allowed text-gray-900",placeholder:"Enter last name",readonly:"",disabled:""},null,512),[[I,t.lastName]])])])]),e("div",vt,[s[46]||(s[46]=H('<div class="flex items-center mb-6" data-v-ada13d40><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3" data-v-ada13d40><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ada13d40><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-ada13d40></path></svg></div><h4 class="text-lg font-bold text-green-900" data-v-ada13d40>Contact Information</h4></div>',1)),e("div",ht,[e("div",null,[s[43]||(s[43]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Email Address "),e("span",{class:"text-red-500"},"*"),e("span",{class:"text-xs text-gray-500 ml-1"},"(Contact admin to change)")],-1)),V(e("input",{id:"email","onUpdate:modelValue":s[3]||(s[3]=r=>t.email=r),type:"email",class:q(E("email")+" bg-gray-50 cursor-not-allowed"),placeholder:"Enter email address",readonly:"",disabled:""},null,2),[[I,t.email]]),s[44]||(s[44]=e("p",{class:"mt-1 text-xs text-gray-500"}," Your email address is used for account login and cannot be changed here. Contact your tax professional to update this information. ",-1))]),e("div",null,[s[45]||(s[45]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Phone Number "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"phone","onUpdate:modelValue":s[4]||(s[4]=r=>t.phone=r),type:"tel",class:q(E("phone")),placeholder:"(555) 123-4567",maxlength:"14",onBlur:s[5]||(s[5]=r=>C("phone")),onInput:s[6]||(s[6]=r=>h("phone",r))},null,34),[[I,t.phone]]),a.phone?(p(),f("p",wt,m(a.phone),1)):k("",!0)])])]),e("div",kt,[e("div",null,[e("label",$t,[s[47]||(s[47]=F(" Social Security Number ",-1)),s[48]||(s[48]=e("span",{class:"text-red-500"},"*",-1)),z(Me,{text:"Your 9-digit Social Security Number in format 123-45-6789. This is required for tax filing and must match your Social Security card exactly.",class:"ml-1"})]),z(Ie,{"input-id":"ssn",modelValue:t.ssn,"onUpdate:modelValue":s[7]||(s[7]=r=>t.ssn=r),"input-classes":E("ssn"),placeholder:(y=n.data)!=null&&y.has_ssn&&((l=n.data)!=null&&l.ssn_masked)?`Current: ${n.data.ssn_masked} (leave empty to keep current)`:"123-45-6789","is-pre-masked":!0,onBlur:s[8]||(s[8]=r=>C("ssn")),onInput:o},null,8,["modelValue","input-classes","placeholder"]),a.ssn?(p(),f("p",_t,m(a.ssn),1)):k("",!0)]),e("div",null,[s[49]||(s[49]=e("label",{for:"dateOfBirth",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Date of Birth "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"dateOfBirth","onUpdate:modelValue":s[9]||(s[9]=r=>t.dateOfBirth=r),type:"date",class:q(E("dateOfBirth")),onBlur:s[10]||(s[10]=r=>C("dateOfBirth")),onInput:s[11]||(s[11]=r=>i("dateOfBirth",r.target.value))},null,34),[[I,t.dateOfBirth]]),a.dateOfBirth?(p(),f("p",Ct,m(a.dateOfBirth),1)):k("",!0)]),e("div",null,[e("label",Vt,[s[50]||(s[50]=F(" Marital Status ",-1)),s[51]||(s[51]=e("span",{class:"text-red-500"},"*",-1)),z(Me,{text:"Your marital status as of December 31st of the tax year. If married, you'll need to provide spouse information in the next section.",class:"ml-1"})]),V(e("select",{id:"maritalStatus","onUpdate:modelValue":s[12]||(s[12]=r=>t.maritalStatus=r),class:q(E("maritalStatus")),onChange:U},[...s[52]||(s[52]=[H('<option value="" data-v-ada13d40>Select marital status</option><option value="single" data-v-ada13d40>Single</option><option value="married" data-v-ada13d40>Married</option><option value="divorced" data-v-ada13d40>Divorced</option><option value="widowed" data-v-ada13d40>Widowed</option>',5)])],34),[[le,t.maritalStatus]]),a.maritalStatus?(p(),f("p",St,m(a.maritalStatus),1)):k("",!0)])]),e("div",Nt,[e("div",null,[s[53]||(s[53]=e("label",{for:"occupation",class:"block text-sm font-medium text-gray-700 mb-1"}," Occupation ",-1)),V(e("input",{id:"occupation","onUpdate:modelValue":s[13]||(s[13]=r=>t.occupation=r),type:"text",class:q(E("occupation")),placeholder:"Enter occupation",onInput:s[14]||(s[14]=r=>i("occupation",r.target.value))},null,34),[[I,t.occupation]])]),e("div",null,[s[55]||(s[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Insurance Coverage ",-1)),e("div",Dt,[e("label",Mt,[V(e("input",{"onUpdate:modelValue":s[15]||(s[15]=r=>t.insuranceCovered=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",onChange:s[16]||(s[16]=r=>i("insuranceCovered",r.target.checked))},null,544),[[fe,t.insuranceCovered]]),s[54]||(s[54]=e("span",{class:"ml-2 text-sm text-gray-700"},"I have insurance coverage",-1))])])])]),e("div",Et,[s[63]||(s[63]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Address Information",-1)),e("div",Bt,[e("div",null,[s[56]||(s[56]=e("label",{for:"streetNo",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Street Number/Address "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"streetNo","onUpdate:modelValue":s[17]||(s[17]=r=>t.streetNo=r),type:"text",class:q(E("streetNo")),placeholder:"123 Main Street",onBlur:s[18]||(s[18]=r=>C("streetNo")),onInput:s[19]||(s[19]=r=>i("streetNo",r.target.value))},null,34),[[I,t.streetNo]]),a.streetNo?(p(),f("p",It,m(a.streetNo),1)):k("",!0)]),e("div",null,[s[57]||(s[57]=e("label",{for:"apartmentNo",class:"block text-sm font-medium text-gray-700 mb-1"}," Apartment/Unit Number ",-1)),V(e("input",{id:"apartmentNo","onUpdate:modelValue":s[20]||(s[20]=r=>t.apartmentNo=r),type:"text",class:q(E("apartmentNo")),placeholder:"Apt 4B",onInput:s[21]||(s[21]=r=>i("apartmentNo",r.target.value))},null,34),[[I,t.apartmentNo]])])]),e("div",At,[e("div",null,[s[58]||(s[58]=e("label",{for:"zipCode",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" ZIP Code "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"zipCode","onUpdate:modelValue":s[22]||(s[22]=r=>t.zipCode=r),type:"text",class:q(E("zipCode")),placeholder:"12345",maxlength:"10",onBlur:s[23]||(s[23]=r=>C("zipCode")),onInput:s[24]||(s[24]=r=>i("zipCode",r.target.value))},null,34),[[I,t.zipCode]]),a.zipCode?(p(),f("p",Pt,m(a.zipCode),1)):k("",!0)]),e("div",null,[s[59]||(s[59]=e("label",{for:"city",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" City "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"city","onUpdate:modelValue":s[25]||(s[25]=r=>t.city=r),type:"text",class:q(E("city")),placeholder:"New York",onBlur:s[26]||(s[26]=r=>C("city")),onInput:s[27]||(s[27]=r=>i("city",r.target.value))},null,34),[[I,t.city]]),a.city?(p(),f("p",Ut,m(a.city),1)):k("",!0)]),e("div",null,[s[61]||(s[61]=e("label",{for:"state",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" State "),e("span",{class:"text-red-500"},"*")],-1)),V(e("select",{id:"state","onUpdate:modelValue":s[28]||(s[28]=r=>t.state=r),class:q(E("state")),onChange:s[29]||(s[29]=r=>i("state",r.target.value))},[s[60]||(s[60]=e("option",{value:""},"Select state",-1)),(p(),f(ae,null,me(B,r=>e("option",{key:r.code,value:r.code},m(r.name),9,Ot)),64))],34),[[le,t.state]]),a.state?(p(),f("p",qt,m(a.state),1)):k("",!0)]),e("div",null,[s[62]||(s[62]=e("label",{for:"country",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Country "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"country","onUpdate:modelValue":s[30]||(s[30]=r=>t.country=r),type:"text",class:q(E("country")),placeholder:"United States",onInput:s[31]||(s[31]=r=>i("country",r.target.value))},null,34),[[I,t.country]])])])]),e("div",Ft,[s[66]||(s[66]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Additional Contact Information",-1)),e("div",zt,[e("div",null,[s[64]||(s[64]=e("label",{for:"mobileNumber",class:"block text-sm font-medium text-gray-700 mb-1"}," Mobile Number ",-1)),V(e("input",{id:"mobileNumber","onUpdate:modelValue":s[32]||(s[32]=r=>t.mobileNumber=r),type:"tel",class:q(E("mobileNumber")),placeholder:"(555) 123-4567",maxlength:"14",onInput:s[33]||(s[33]=r=>h("mobileNumber",r))},null,34),[[I,t.mobileNumber]])]),e("div",null,[s[65]||(s[65]=e("label",{for:"workNumber",class:"block text-sm font-medium text-gray-700 mb-1"}," Work Number ",-1)),V(e("input",{id:"workNumber","onUpdate:modelValue":s[34]||(s[34]=r=>t.workNumber=r),type:"tel",class:q(E("workNumber")),placeholder:"(555) 987-6543",maxlength:"14",onInput:s[35]||(s[35]=r=>h("workNumber",r))},null,34),[[I,t.workNumber]])])])]),O.value?(p(),f("div",Tt,[s[70]||(s[70]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Immigration Information",-1)),e("div",Lt,[e("div",null,[s[68]||(s[68]=e("label",{for:"visaStatus",class:"block text-sm font-medium text-gray-700 mb-1"}," Visa Status ",-1)),e("div",Ht,[e("button",{type:"button",class:q(E("visaStatus")+" visa-dropdown-button"),onClick:D,onBlur:Q},[e("span",jt,m(J()||"Select visa status"),1),s[67]||(s[67]=e("span",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})])],-1))],34),P.value?(p(),f("div",Rt,[e("ul",Yt,[(p(!0),f(ae,null,me(n.visaStatusOptions,r=>(p(),f("li",{key:r.value,onMousedown:Y=>re(r.value),class:q(["px-3 py-2 text-sm text-gray-900 cursor-pointer hover:bg-blue-50 hover:text-blue-900",{"bg-blue-100 text-blue-900":t.visaStatus===r.value}])},m(r.label),43,Zt))),128))])])):k("",!0)])]),e("div",null,[e("label",Wt,[s[69]||(s[69]=F(" Date of Entry to US ",-1)),t.visaStatus==="citizen"?(p(),f("span",Kt,"(Not applicable for US Citizens)")):k("",!0)]),V(e("input",{id:"dateOfEntryUs","onUpdate:modelValue":s[36]||(s[36]=r=>t.dateOfEntryUs=r),type:"date",class:q(E("dateOfEntryUs")),disabled:t.visaStatus==="citizen",onInput:s[37]||(s[37]=r=>i("dateOfEntryUs",r.target.value))},null,42,Gt),[[I,t.dateOfEntryUs]]),t.visaStatus==="citizen"?(p(),f("p",Jt," This field is not required for US Citizens ")):k("",!0)])])])):k("",!0)],32)])])])}}},Ld=ce(Xt,[["__scopeId","data-v-ada13d40"]]),Qt={class:"spouse-details-section"},es={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},ts={class:"flex items-center"},ss={class:"flex-shrink-0"},os={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200"},ls={class:"p-6"},rs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ns=["disabled"],as={key:0,class:"mt-1 text-sm text-red-600"},is=["disabled"],ds={key:0,class:"mt-1 text-sm text-red-600"},us={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ms={key:0,class:"mt-1 text-sm text-red-600"},cs=["disabled"],ps={key:0,class:"mt-1 text-sm text-red-600"},fs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gs=["disabled"],bs={key:0,class:"mt-1 text-sm text-red-600"},xs=["disabled"],ys={key:0,class:"mt-1 text-sm text-red-600"},vs=["disabled"],hs={__name:"SpouseDetailsSection",props:{modelValue:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},showSpouse:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:S}){const c=n,N=S,t=G({firstName:"",lastName:"",ssn:"",dateOfBirth:"",email:"",phone:"",occupation:""}),a=G({}),P=U=>{const d="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500";return a[U]?`${d} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:d},B=U=>{if(!c.showSpouse)return!0;const d=t[U];let D=null;switch(U){case"firstName":!d||d.trim().length===0?D="Spouse first name is required":d.length>50&&(D="First name must be less than 50 characters");break;case"lastName":!d||d.trim().length===0?D="Spouse last name is required":d.length>50&&(D="Last name must be less than 50 characters");break;case"ssn":d&&!/^\d{3}-\d{2}-\d{4}$/.test(d)&&(D="SSN must be in format 123-45-6789");break;case"dateOfBirth":d&&new Date(d)>=new Date&&(D="Date of birth must be in the past");break;case"email":d&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)&&(D="Please enter a valid email address");break;case"phone":d&&!/^[\+]?[1-9][\d]{0,15}$/.test(d.replace(/\D/g,""))&&(D="Please enter a valid phone number");break}return D?a[U]=D:delete a[U],N("validate",a),!D},O=(U,d)=>{t[U]=d,a[U]&&delete a[U],N("update:modelValue",{...t}),N("update",{...t})},E=U=>{t.ssn=U,O("ssn",U)},C=U=>{let d=U.target.value.replace(/\D/g,"");d.length>=7?d=`(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6,10)}`:d.length>=4?d=`(${d.slice(0,3)}) ${d.slice(3)}`:d.length>=1&&(d=`(${d}`),t.phone=d,U.target.value=d,O("phone",d)},i=()=>{if(!c.showSpouse)return;const U=["firstName","lastName"];let d=!0;U.forEach(D=>{B(D)||(d=!1)}),d&&N("submit",{...t})},o=()=>{c.showSpouse||(Object.keys(t).forEach(U=>{t[U]=""}),Object.keys(a).forEach(U=>delete a[U]),N("update:modelValue",{...t}),N("update",{...t}),N("validate",{}))},h=()=>{c.modelValue&&c.showSpouse&&Object.keys(t).forEach(U=>{c.modelValue[U]!==void 0&&(t[U]=c.modelValue[U])})};return Z(()=>c.errors,U=>{Object.keys(a).forEach(d=>delete a[d]),Object.assign(a,U)},{deep:!0}),Z(()=>c.modelValue,h,{deep:!0}),Z(()=>c.showSpouse,U=>{U?h():o()},{immediate:!0}),ge(()=>{c.showSpouse&&h()}),(U,d)=>(p(),f("div",Qt,[n.showSpouse?(p(),f("div",os,[d[28]||(d[28]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Spouse Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Information about your spouse for tax filing purposes")],-1)),e("div",ls,[e("form",{onSubmit:oe(i,["prevent"]),class:"space-y-6"},[e("div",rs,[e("div",null,[d[19]||(d[19]=e("label",{for:"spouseFirstName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" First Name "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"spouseFirstName","onUpdate:modelValue":d[0]||(d[0]=D=>t.firstName=D),type:"text",class:q(P("firstName")),placeholder:"Enter spouse's first name",disabled:n.readonly,onBlur:d[1]||(d[1]=D=>B("firstName")),onInput:d[2]||(d[2]=D=>O("firstName",D.target.value))},null,42,ns),[[I,t.firstName]]),a.firstName?(p(),f("p",as,m(a.firstName),1)):k("",!0)]),e("div",null,[d[20]||(d[20]=e("label",{for:"spouseLastName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Last Name "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"spouseLastName","onUpdate:modelValue":d[3]||(d[3]=D=>t.lastName=D),type:"text",class:q(P("lastName")),placeholder:"Enter spouse's last name",disabled:n.readonly,onBlur:d[4]||(d[4]=D=>B("lastName")),onInput:d[5]||(d[5]=D=>O("lastName",D.target.value))},null,42,is),[[I,t.lastName]]),a.lastName?(p(),f("p",ds,m(a.lastName),1)):k("",!0)])]),e("div",us,[e("div",null,[d[21]||(d[21]=e("label",{for:"spouseSSN",class:"block text-sm font-medium text-gray-700 mb-1"}," Social Security Number ",-1)),z(Ie,{"input-id":"spouseSSN",modelValue:t.ssn,"onUpdate:modelValue":d[6]||(d[6]=D=>t.ssn=D),"input-classes":P("ssn"),placeholder:"123-45-6789",disabled:n.readonly,"is-pre-masked":!0,onBlur:d[7]||(d[7]=D=>B("ssn")),onInput:E},null,8,["modelValue","input-classes","disabled"]),a.ssn?(p(),f("p",ms,m(a.ssn),1)):k("",!0),d[22]||(d[22]=e("p",{class:"mt-1 text-xs text-gray-500"}," Optional but recommended for joint tax filing ",-1))]),e("div",null,[d[23]||(d[23]=e("label",{for:"spouseDateOfBirth",class:"block text-sm font-medium text-gray-700 mb-1"}," Date of Birth ",-1)),V(e("input",{id:"spouseDateOfBirth","onUpdate:modelValue":d[8]||(d[8]=D=>t.dateOfBirth=D),type:"date",class:q(P("dateOfBirth")),disabled:n.readonly,onBlur:d[9]||(d[9]=D=>B("dateOfBirth")),onInput:d[10]||(d[10]=D=>O("dateOfBirth",D.target.value))},null,42,cs),[[I,t.dateOfBirth]]),a.dateOfBirth?(p(),f("p",ps,m(a.dateOfBirth),1)):k("",!0)])]),e("div",fs,[e("div",null,[d[24]||(d[24]=e("label",{for:"spouseEmail",class:"block text-sm font-medium text-gray-700 mb-1"}," Email Address ",-1)),V(e("input",{id:"spouseEmail","onUpdate:modelValue":d[11]||(d[11]=D=>t.email=D),type:"email",class:q(P("email")),placeholder:"spouse@example.com",disabled:n.readonly,onBlur:d[12]||(d[12]=D=>B("email")),onInput:d[13]||(d[13]=D=>O("email",D.target.value))},null,42,gs),[[I,t.email]]),a.email?(p(),f("p",bs,m(a.email),1)):k("",!0)]),e("div",null,[d[25]||(d[25]=e("label",{for:"spousePhone",class:"block text-sm font-medium text-gray-700 mb-1"}," Phone Number ",-1)),V(e("input",{id:"spousePhone","onUpdate:modelValue":d[14]||(d[14]=D=>t.phone=D),type:"tel",class:q(P("phone")),placeholder:"(555) 123-4567",disabled:n.readonly,onBlur:d[15]||(d[15]=D=>B("phone")),onInput:C},null,42,xs),[[I,t.phone]]),a.phone?(p(),f("p",ys,m(a.phone),1)):k("",!0)])]),e("div",null,[d[26]||(d[26]=e("label",{for:"spouseOccupation",class:"block text-sm font-medium text-gray-700 mb-1"}," Occupation ",-1)),V(e("input",{id:"spouseOccupation","onUpdate:modelValue":d[16]||(d[16]=D=>t.occupation=D),type:"text",class:q(P("occupation")),placeholder:"Enter spouse's occupation",disabled:n.readonly,onInput:d[17]||(d[17]=D=>O("occupation",D.target.value))},null,42,vs),[[I,t.occupation]]),d[27]||(d[27]=e("p",{class:"mt-1 text-xs text-gray-500"}," Employment information helps with tax deductions and credits ",-1))])],32)])])):(p(),f("div",es,[e("div",ts,[e("div",ss,[z(R(_e),{class:"h-5 w-5 text-blue-400"})]),d[18]||(d[18]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Spouse Information Not Required "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("p",null,'Spouse details are only required when marital status is set to "Married". Please update your marital status in the Personal Details section if you need to add spouse information.')])],-1))])]))]))}},Hd=ce(hs,[["__scopeId","data-v-6a14daa7"]]),ws={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-start justify-center p-4 pt-8 overflow-y-auto"},ks={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all flex flex-col mb-8"},$s={class:"bg-gradient-to-r from-slate-50 via-red-50 to-rose-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},_s={class:"relative flex items-center justify-between"},Cs={class:"flex items-center space-x-3"},Vs={class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-red-900 to-rose-900 bg-clip-text text-transparent"},Ss={class:"text-sm text-gray-600 font-medium"},Ns={class:"p-8 max-h-[70vh] overflow-y-auto"},Ds={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},Ms={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Es={class:"space-y-2"},Bs={key:0,class:"mt-1 text-sm text-red-600"},Is={class:"space-y-2"},As={class:"relative"},Ps={key:0,class:"mt-1 text-sm text-red-600"},Us={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},Os={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qs={class:"space-y-2"},Fs={key:0,class:"mt-1 text-sm text-red-600"},zs={class:"space-y-2"},Ts={key:0,class:"mt-1 text-sm text-red-600"},Ls={class:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200"},Hs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},js={class:"space-y-2"},Rs={key:0,class:"mt-1 text-sm text-red-600"},Ys={class:"space-y-2"},Zs={key:0,class:"mt-1 text-sm text-red-600"},Ws={class:"bg-gradient-to-br from-orange-50 to-amber-100 rounded-xl p-6 border border-orange-200"},Ks={class:"space-y-6"},Gs={class:"flex items-center space-x-3"},Js={key:0,class:"space-y-2"},Xs={class:"relative"},Qs={key:0,class:"mt-1 text-sm text-red-600"},eo={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200"},to={class:"space-y-6"},so={class:"space-y-2"},oo={key:0,class:"mt-1 text-sm text-red-600"},lo={class:"space-y-2"},ro={key:0,class:"mt-1 text-sm text-red-600"},no={class:"bg-gradient-to-r from-gray-50 to-slate-50 px-8 py-6 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4"},ao={class:"flex items-center justify-center"},Pe={__name:"ExpenseModal",props:{show:{type:Boolean,default:!1},expense:{type:Object,default:null},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:S}){const c=n,N=S,t=K(()=>c.expense&&c.expense.id),a=G({id:null,category:"",particulars:"",date:"",amount:"",taxPayer:"",spouse:"",receiptNumber:"",is_deductible:!0,deductiblePercentage:100,remarks:""});K(()=>{const C="block w-full pl-7 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500";return c.errors.amount?`${C} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:C});const P=()=>{Object.assign(a,{id:null,category:"",particulars:"",date:"",amount:"",taxPayer:"",spouse:"",receiptNumber:"",is_deductible:!0,deductiblePercentage:100,remarks:""})},B=()=>{c.expense?Object.assign(a,c.expense):P()},O=()=>{N("save",{...a})},E=()=>{N("close")};return Z(()=>c.show,C=>{C&&B()}),Z(()=>c.expense,B,{deep:!0}),(C,i)=>n.show?(p(),f("div",ws,[e("div",ks,[e("div",$s,[i[12]||(i[12]=e("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-red-100/40 to-transparent rounded-bl-full"},null,-1)),e("div",_s,[e("div",Cs,[i[10]||(i[10]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-600 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("div",null,[e("h3",Vs,m(t.value?"Edit Expense":"Add New Expense"),1),e("p",Ss,m(t.value?"Update expense details and information":"Add a new business or personal expense"),1)])]),e("button",{onClick:E,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[...i[11]||(i[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Ns,[e("form",{onSubmit:oe(O,["prevent"]),class:"space-y-8"},[e("div",Ds,[i[17]||(i[17]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-blue-900">Basic Information</h4></div>',1)),e("div",Ms,[e("div",Es,[i[14]||(i[14]=e("label",{for:"category",class:"block text-sm font-semibold text-blue-700"},[F(" Category "),e("span",{class:"text-red-500"},"*")],-1)),V(e("select",{id:"category","onUpdate:modelValue":i[0]||(i[0]=o=>a.category=o),class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900",required:""},[...i[13]||(i[13]=[H('<option value="">Select category</option><option value="miscellaneous">Miscellaneous</option><option value="residency">Residency</option><option value="business">Business</option><option value="medical">Medical</option><option value="education">Education</option><option value="charitable">Charitable</option><option value="travel">Travel</option><option value="office">Office</option><option value="professional">Professional</option><option value="other">Other</option>',11)])],512),[[le,a.category]]),n.errors.category?(p(),f("p",Bs,m(n.errors.category),1)):k("",!0)]),e("div",Is,[i[16]||(i[16]=e("label",{for:"amount",class:"block text-sm font-semibold text-blue-700"},[F(" Amount "),e("span",{class:"text-red-500"},"*")],-1)),e("div",As,[i[15]||(i[15]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),V(e("input",{id:"amount","onUpdate:modelValue":i[1]||(i[1]=o=>a.amount=o),type:"number",step:"0.01",min:"0",class:"w-full pl-8 pr-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900",placeholder:"0.00",required:""},null,512),[[I,a.amount]])]),n.errors.amount?(p(),f("p",Ps,m(n.errors.amount),1)):k("",!0)])])]),e("div",Us,[i[20]||(i[20]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-green-900">Date &amp; Receipt</h4></div>',1)),e("div",Os,[e("div",qs,[i[18]||(i[18]=e("label",{for:"date",class:"block text-sm font-semibold text-green-700"},[F(" Date "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"date","onUpdate:modelValue":i[2]||(i[2]=o=>a.date=o),type:"date",class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900",required:""},null,512),[[I,a.date]]),n.errors.date?(p(),f("p",Fs,m(n.errors.date),1)):k("",!0)]),e("div",zs,[i[19]||(i[19]=e("label",{for:"receiptNumber",class:"block text-sm font-semibold text-green-700"}," Receipt Number ",-1)),V(e("input",{id:"receiptNumber","onUpdate:modelValue":i[3]||(i[3]=o=>a.receiptNumber=o),type:"text",class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter receipt number (optional)"},null,512),[[I,a.receiptNumber]]),n.errors.receiptNumber?(p(),f("p",Ts,m(n.errors.receiptNumber),1)):k("",!0)])])]),e("div",Ls,[i[23]||(i[23]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><h4 class="text-lg font-bold text-purple-900">Taxpayer Information</h4></div>',1)),e("div",Hs,[e("div",js,[i[21]||(i[21]=e("label",{for:"taxPayer",class:"block text-sm font-semibold text-purple-700"},[F(" Tax Payer "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"taxPayer","onUpdate:modelValue":i[4]||(i[4]=o=>a.taxPayer=o),type:"text",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter taxpayer name",required:""},null,512),[[I,a.taxPayer]]),n.errors.taxPayer?(p(),f("p",Rs,m(n.errors.taxPayer),1)):k("",!0)]),e("div",Ys,[i[22]||(i[22]=e("label",{for:"spouse",class:"block text-sm font-semibold text-purple-700"}," Spouse ",-1)),V(e("input",{id:"spouse","onUpdate:modelValue":i[5]||(i[5]=o=>a.spouse=o),type:"text",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter spouse name (if applicable)"},null,512),[[I,a.spouse]]),n.errors.spouse?(p(),f("p",Zs,m(n.errors.spouse),1)):k("",!0)])])]),e("div",Ws,[i[27]||(i[27]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-orange-900">Tax Deduction</h4></div>',1)),e("div",Ks,[e("div",Gs,[V(e("input",{id:"is_deductible","onUpdate:modelValue":i[6]||(i[6]=o=>a.is_deductible=o),type:"checkbox",class:"w-4 h-4 rounded border-orange-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"},null,512),[[fe,a.is_deductible]]),i[24]||(i[24]=e("label",{for:"is_deductible",class:"text-sm font-semibold text-orange-700"}," Tax deductible ",-1))]),a.is_deductible?(p(),f("div",Js,[i[26]||(i[26]=e("label",{for:"deductiblePercentage",class:"block text-sm font-semibold text-orange-700"}," Deductible Percentage ",-1)),e("div",Xs,[V(e("input",{id:"deductiblePercentage","onUpdate:modelValue":i[7]||(i[7]=o=>a.deductiblePercentage=o),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-3 pr-8 border-2 border-orange-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 text-gray-900",placeholder:"100"},null,512),[[I,a.deductiblePercentage]]),i[25]||(i[25]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),n.errors.deductiblePercentage?(p(),f("p",Qs,m(n.errors.deductiblePercentage),1)):k("",!0)])):k("",!0)])]),e("div",eo,[i[30]||(i[30]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path></svg></div><h4 class="text-lg font-bold text-gray-900">Description &amp; Notes</h4></div>',1)),e("div",to,[e("div",so,[i[28]||(i[28]=e("label",{for:"particulars",class:"block text-sm font-semibold text-gray-700"},[F(" Description "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"particulars","onUpdate:modelValue":i[8]||(i[8]=o=>a.particulars=o),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter detailed expense description",required:""},null,512),[[I,a.particulars]]),n.errors.particulars?(p(),f("p",oo,m(n.errors.particulars),1)):k("",!0)]),e("div",lo,[i[29]||(i[29]=e("label",{for:"remarks",class:"block text-sm font-semibold text-gray-700"}," Additional Notes ",-1)),V(e("textarea",{id:"remarks","onUpdate:modelValue":i[9]||(i[9]=o=>a.remarks=o),rows:"4",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Add any additional notes, context, or details about this expense..."},null,512),[[I,a.remarks]]),n.errors.remarks?(p(),f("p",ro,m(n.errors.remarks),1)):k("",!0)])])])],32)]),e("div",no,[e("button",{type:"button",onClick:E,class:"w-full sm:w-auto px-6 py-3 border-2 border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-100 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 shadow-sm hover:shadow-md"}," Cancel "),e("button",{type:"button",onClick:O,class:"w-full sm:w-auto bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 group"},[e("div",ao,[i[31]||(i[31]=e("svg",{class:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),F(" "+m(t.value?"Update Expense":"Add Expense"),1)])])])])])):k("",!0)}},io={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},uo={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},mo={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},co={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},po={class:"sm:flex sm:items-start"},fo={class:"w-full"},go={key:0,class:"space-y-4"},bo={class:"flex items-center justify-between"},xo={class:"text-right"},yo={class:"text-lg font-semibold text-gray-900"},vo={key:0,class:"text-sm text-green-600"},ho={key:1,class:"text-sm text-gray-500"},wo={class:"text-sm text-gray-900"},ko={class:"grid grid-cols-2 gap-4"},$o={class:"text-sm text-gray-900"},_o={class:"text-sm text-gray-900 capitalize"},Co={key:0},Vo={class:"text-sm text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded"},So={key:1,class:"bg-green-50 border border-green-200 rounded-md p-3"},No={class:"flex"},Do={class:"ml-3"},Mo={class:"mt-1 text-sm text-green-700"},Eo={key:2},Bo={class:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md"},Ue={__name:"ExpenseViewModal",props:{show:{type:Boolean,default:!1},expense:{type:Object,default:null}},emits:["close","edit"],setup(n,{emit:S}){const c=n,N=S,t=C=>{const i={business:"bg-blue-100 text-blue-800",medical:"bg-red-100 text-red-800",education:"bg-green-100 text-green-800",charitable:"bg-purple-100 text-purple-800",travel:"bg-yellow-100 text-yellow-800",office:"bg-indigo-100 text-indigo-800",professional:"bg-pink-100 text-pink-800",miscellaneous:"bg-gray-100 text-gray-800",other:"bg-gray-100 text-gray-800"};return i[C]||i.other},a=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",P=C=>parseFloat(C||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),B=C=>{if(!C.is_deductible)return"$0.00";const i=parseFloat(C.amount||0),o=parseFloat(C.deductiblePercentage||100)/100;return"$"+(i*o).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},O=()=>{N("close")},E=()=>{N("edit",c.expense)};return(C,i)=>n.show?(p(),f("div",io,[e("div",uo,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:O}),e("div",mo,[e("div",co,[e("div",po,[e("div",fo,[e("div",{class:"flex items-center justify-between mb-4"},[i[0]||(i[0]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Expense Details ",-1)),e("button",{onClick:E,class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Edit ")]),n.expense?(p(),f("div",go,[e("div",bo,[e("span",{class:q([t(n.expense.category),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},m(n.expense.category),3),e("div",xo,[e("p",yo," $"+m(P(n.expense.amount)),1),n.expense.is_deductible?(p(),f("p",vo,m(n.expense.deductiblePercentage)+"% deductible ",1)):(p(),f("p",ho," Not deductible "))])]),e("div",null,[i[1]||(i[1]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),e("p",wo,m(n.expense.particulars),1)]),e("div",ko,[e("div",null,[i[2]||(i[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),e("p",$o,m(a(n.expense.date)),1)]),e("div",null,[i[3]||(i[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tax Payer",-1)),e("p",_o,m(n.expense.taxPayer),1)])]),n.expense.receiptNumber?(p(),f("div",Co,[i[4]||(i[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Receipt Number",-1)),e("p",Vo,m(n.expense.receiptNumber),1)])):k("",!0),n.expense.is_deductible?(p(),f("div",So,[e("div",No,[i[6]||(i[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",Do,[i[5]||(i[5]=e("h4",{class:"text-sm font-medium text-green-800"},"Tax Deductible",-1)),e("div",Mo,[e("p",null,m(n.expense.deductiblePercentage)+"% of this expense ("+m(B(n.expense))+") is tax deductible.",1)])])])])):k("",!0),n.expense.remarks?(p(),f("div",Eo,[i[7]||(i[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Remarks",-1)),e("p",Bo,m(n.expense.remarks),1)])):k("",!0)])):k("",!0)])])]),e("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[e("button",{type:"button",onClick:O,class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):k("",!0)}},Io={class:"employee-information-section"},Ao={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Po={class:"p-6"},Uo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oo=["disabled"],qo={key:0,class:"mt-1 text-sm text-red-600"},Fo=["disabled"],zo={key:0,class:"mt-1 text-sm text-red-600"},To={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Lo=["disabled"],Ho={key:0,class:"mt-1 text-sm text-red-600"},jo=["disabled"],Ro=["disabled"],Yo={class:"border-t border-gray-200 pt-6"},Zo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Wo={class:"relative"},Ko=["disabled"],Go={key:0,class:"mt-1 text-sm text-red-600"},Jo=["disabled"],Xo={class:"border-t border-gray-200 pt-6"},Qo={class:"space-y-4"},el={class:"flex items-center space-x-3"},tl=["disabled"],sl={class:"flex items-center space-x-3"},ol=["disabled"],ll={class:"flex items-center space-x-3"},rl=["disabled"],nl={class:"flex items-center space-x-3"},al=["disabled"],il={class:"border-t border-gray-200 pt-6"},dl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ul={class:"md:col-span-2"},ml=["disabled"],cl=["disabled"],pl=["disabled"],fl=["disabled"],gl={class:"border-t border-gray-200 pt-6"},bl=["disabled"],xl={class:"mt-4"},yl=["disabled"],vl={__name:"EmployeeInformationSection",props:{modelValue:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:S}){const c=n,N=S,t=G({id:null,employerName:"",position:"",startDate:"",endDate:"",employmentType:"",salary:"",payFrequency:"",workLocation:"",notes:"",employerAddress:"",employerCity:"",employerState:"",employerZipCode:"",benefits:{healthInsurance:!1,retirementPlan:!1,dentalInsurance:!1,visionInsurance:!1},expenses:[]}),a=T(!1),P=T(!1),B=T(null),O=T({}),E=G({}),C=y=>{const l="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500";return E[y]?`${l} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:l},i=K(()=>{const y="block w-full pl-7 pr-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500";return E.salary?`${y} border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500`:y}),o=y=>{console.log("fieldName",y);const l=t[y];let r=null;switch(y){case"employerName":!l||l.trim().length===0?r="Employer name is required":l.length>100&&(r="Employer name must be less than 100 characters");break;case"position":!l||l.trim().length===0?r="Job title/position is required":l.length>100&&(r="Position must be less than 100 characters");break;case"startDate":l&&new Date(l)>new Date&&(r="Start date cannot be in the future");break;case"salary":l&&(isNaN(l)||parseFloat(l)<0)&&(r="Salary must be a valid positive number");break}return r?E[y]=r:delete E[y],N("validate",E),!r},h=(y,l)=>{t[y]=l,E[y]&&delete E[y],console.log("EmployeeInformationSection handleInput:",{fieldName:y,value:l,localData:{...t}}),N("update:modelValue",{...t}),N("update",{...t})},U=(y,l)=>{t.benefits[y]=l,N("update:modelValue",{...t}),N("update",{...t})},d=()=>{const y=["employerName","position"];let l=!0;y.forEach(r=>{console.log("field",r),o(r)||(l=!1)}),console.log("localData",...t),l&&N("submit",{...t})},D=()=>{c.modelValue&&Object.keys(t).forEach(y=>{c.modelValue[y]!==void 0&&(y==="benefits"&&typeof c.modelValue[y]=="object"?t[y]={...t[y],...c.modelValue[y]}:y==="expenses"&&Array.isArray(c.modelValue[y])?t[y]=[...c.modelValue[y]]:t[y]=c.modelValue[y])})};Z(()=>c.errors,y=>{Object.keys(E).forEach(l=>delete E[l]),Object.assign(E,y)},{deep:!0}),Z(()=>c.modelValue,D,{deep:!0});const Q=(y=null)=>{B.value=y,O.value={},a.value=!0},re=()=>{a.value=!1,B.value=null,O.value={}},J=()=>{P.value=!1,B.value=null},ee=y=>{J(),Q(y)},A=y=>{const l=s(y);if(Object.keys(l).length>0){O.value=l;return}if(t.expenses||(t.expenses=[]),y.id){const r=t.expenses.findIndex(Y=>Y.id===y.id);r!==-1&&(t.expenses[r]={...y})}else{const r={...y,id:Date.now()};t.expenses.push(r)}N("update:modelValue",{...t}),N("update",{...t}),re()},s=y=>{const l={};return y.category||(l.category="Category is required"),(!y.particulars||y.particulars.trim().length===0)&&(l.particulars="Description is required"),y.expense_date||(l.expense_date="Date is required"),(!y.amount||parseFloat(y.amount)<=0)&&(l.amount="Amount must be greater than 0"),y.tax_payer||(l.tax_payer="Tax payer is required"),l};return ge(()=>{D()}),(y,l)=>(p(),f("div",Io,[e("div",Ao,[l[64]||(l[64]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Employee Information"),e("p",{class:"text-sm text-gray-600 mt-1"},"Employment details for tax preparation and deductions")],-1)),e("div",Po,[e("form",{onSubmit:oe(d,["prevent"]),class:"space-y-6"},[e("div",Uo,[e("div",null,[l[38]||(l[38]=e("label",{for:"employerName",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Employer Name "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"employerName","onUpdate:modelValue":l[0]||(l[0]=r=>t.employerName=r),type:"text",class:q(C("employerName")),placeholder:"Enter employer name",disabled:n.readonly,onBlur:l[1]||(l[1]=r=>o("employerName")),onInput:l[2]||(l[2]=r=>h("employerName",r.target.value))},null,42,Oo),[[I,t.employerName]]),E.employerName?(p(),f("p",qo,m(E.employerName),1)):k("",!0)]),e("div",null,[l[39]||(l[39]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 mb-1"},[F(" Job Title/Position "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"position","onUpdate:modelValue":l[3]||(l[3]=r=>t.position=r),type:"text",class:q(C("position")),placeholder:"Enter job title",disabled:n.readonly,onBlur:l[4]||(l[4]=r=>o("position")),onInput:l[5]||(l[5]=r=>h("position",r.target.value))},null,42,Fo),[[I,t.position]]),E.position?(p(),f("p",zo,m(E.position),1)):k("",!0)])]),e("div",To,[e("div",null,[l[40]||(l[40]=e("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"}," Start Date ",-1)),V(e("input",{id:"startDate","onUpdate:modelValue":l[6]||(l[6]=r=>t.startDate=r),type:"date",class:q(C("startDate")),disabled:n.readonly,onBlur:l[7]||(l[7]=r=>o("startDate")),onInput:l[8]||(l[8]=r=>h("startDate",r.target.value))},null,42,Lo),[[I,t.startDate]]),E.startDate?(p(),f("p",Ho,m(E.startDate),1)):k("",!0)]),e("div",null,[l[41]||(l[41]=e("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 mb-1"}," End Date ",-1)),V(e("input",{id:"endDate","onUpdate:modelValue":l[9]||(l[9]=r=>t.endDate=r),type:"date",class:q(C("endDate")),disabled:n.readonly,onInput:l[10]||(l[10]=r=>h("endDate",r.target.value))},null,42,jo),[[I,t.endDate]]),l[42]||(l[42]=e("p",{class:"mt-1 text-xs text-gray-500"}," Leave blank if currently employed ",-1))]),e("div",null,[l[44]||(l[44]=e("label",{for:"employmentType",class:"block text-sm font-medium text-gray-700 mb-1"}," Employment Status ",-1)),V(e("select",{id:"employmentType","onUpdate:modelValue":l[11]||(l[11]=r=>t.employmentType=r),class:q(C("employmentType")),disabled:n.readonly,onChange:l[12]||(l[12]=r=>h("employmentType",r.target.value))},[...l[43]||(l[43]=[H('<option value="" data-v-64a7249e>Select status</option><option value="full-time" data-v-64a7249e>Full-time</option><option value="part-time" data-v-64a7249e>Part-time</option><option value="contract" data-v-64a7249e>Contract</option><option value="temporary" data-v-64a7249e>Temporary</option><option value="terminated" data-v-64a7249e>Terminated</option>',6)])],42,Ro),[[le,t.employmentType]])])]),e("div",Yo,[l[49]||(l[49]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Compensation Information",-1)),e("div",Zo,[e("div",null,[l[46]||(l[46]=e("label",{for:"salary",class:"block text-sm font-medium text-gray-700 mb-1"}," Annual Salary/Wage ",-1)),e("div",Wo,[l[45]||(l[45]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),V(e("input",{id:"salary","onUpdate:modelValue":l[13]||(l[13]=r=>t.salary=r),type:"number",step:"0.01",min:"0",class:q(i.value),placeholder:"0.00",disabled:n.readonly,onBlur:l[14]||(l[14]=r=>o("salary")),onInput:l[15]||(l[15]=r=>h("salary",r.target.value))},null,42,Ko),[[I,t.salary]])]),E.salary?(p(),f("p",Go,m(E.salary),1)):k("",!0)]),e("div",null,[l[48]||(l[48]=e("label",{for:"payFrequency",class:"block text-sm font-medium text-gray-700 mb-1"}," Pay Frequency ",-1)),V(e("select",{id:"payFrequency","onUpdate:modelValue":l[16]||(l[16]=r=>t.payFrequency=r),class:q(C("payFrequency")),disabled:n.readonly,onChange:l[17]||(l[17]=r=>h("payFrequency",r.target.value))},[...l[47]||(l[47]=[H('<option value="" data-v-64a7249e>Select frequency</option><option value="weekly" data-v-64a7249e>Weekly</option><option value="bi-weekly" data-v-64a7249e>Bi-weekly</option><option value="semi-monthly" data-v-64a7249e>Semi-monthly</option><option value="monthly" data-v-64a7249e>Monthly</option><option value="annually" data-v-64a7249e>Annually</option>',6)])],42,Jo),[[le,t.payFrequency]])])])]),e("div",Xo,[l[54]||(l[54]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Benefits Information",-1)),e("div",Qo,[e("div",el,[V(e("input",{id:"healthInsurance","onUpdate:modelValue":l[18]||(l[18]=r=>t.benefits.healthInsurance=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[19]||(l[19]=r=>U("healthInsurance",r.target.checked))},null,40,tl),[[fe,t.benefits.healthInsurance]]),l[50]||(l[50]=e("label",{for:"healthInsurance",class:"text-sm text-gray-700"}," Health Insurance provided by employer ",-1))]),e("div",sl,[V(e("input",{id:"retirementPlan","onUpdate:modelValue":l[20]||(l[20]=r=>t.benefits.retirementPlan=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[21]||(l[21]=r=>U("retirementPlan",r.target.checked))},null,40,ol),[[fe,t.benefits.retirementPlan]]),l[51]||(l[51]=e("label",{for:"retirementPlan",class:"text-sm text-gray-700"}," 401(k) or other retirement plan ",-1))]),e("div",ll,[V(e("input",{id:"dentalInsurance","onUpdate:modelValue":l[22]||(l[22]=r=>t.benefits.dentalInsurance=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[23]||(l[23]=r=>U("dentalInsurance",r.target.checked))},null,40,rl),[[fe,t.benefits.dentalInsurance]]),l[52]||(l[52]=e("label",{for:"dentalInsurance",class:"text-sm text-gray-700"}," Dental Insurance ",-1))]),e("div",nl,[V(e("input",{id:"visionInsurance","onUpdate:modelValue":l[24]||(l[24]=r=>t.benefits.visionInsurance=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",disabled:n.readonly,onChange:l[25]||(l[25]=r=>U("visionInsurance",r.target.checked))},null,40,al),[[fe,t.benefits.visionInsurance]]),l[53]||(l[53]=e("label",{for:"visionInsurance",class:"text-sm text-gray-700"}," Vision Insurance ",-1))])])]),e("div",il,[l[59]||(l[59]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Employer Address",-1)),e("div",dl,[e("div",ul,[l[55]||(l[55]=e("label",{for:"employerAddress",class:"block text-sm font-medium text-gray-700 mb-1"}," Street Address ",-1)),V(e("input",{id:"employerAddress","onUpdate:modelValue":l[26]||(l[26]=r=>t.employerAddress=r),type:"text",class:q(C("employerAddress")),placeholder:"Enter employer street address",disabled:n.readonly,onInput:l[27]||(l[27]=r=>h("employerAddress",r.target.value))},null,42,ml),[[I,t.employerAddress]])]),e("div",null,[l[56]||(l[56]=e("label",{for:"employerCity",class:"block text-sm font-medium text-gray-700 mb-1"}," City ",-1)),V(e("input",{id:"employerCity","onUpdate:modelValue":l[28]||(l[28]=r=>t.employerCity=r),type:"text",class:q(C("employerCity")),placeholder:"Enter city",disabled:n.readonly,onInput:l[29]||(l[29]=r=>h("employerCity",r.target.value))},null,42,cl),[[I,t.employerCity]])]),e("div",null,[l[57]||(l[57]=e("label",{for:"employerState",class:"block text-sm font-medium text-gray-700 mb-1"}," State ",-1)),V(e("input",{id:"employerState","onUpdate:modelValue":l[30]||(l[30]=r=>t.employerState=r),type:"text",class:q(C("employerState")),placeholder:"Enter state",maxlength:"2",disabled:n.readonly,onInput:l[31]||(l[31]=r=>h("employerState",r.target.value))},null,42,pl),[[I,t.employerState]])]),e("div",null,[l[58]||(l[58]=e("label",{for:"employerZipCode",class:"block text-sm font-medium text-gray-700 mb-1"}," ZIP Code ",-1)),V(e("input",{id:"employerZipCode","onUpdate:modelValue":l[32]||(l[32]=r=>t.employerZipCode=r),type:"text",class:q(C("employerZipCode")),placeholder:"Enter ZIP code",disabled:n.readonly,onInput:l[33]||(l[33]=r=>h("employerZipCode",r.target.value))},null,42,fl),[[I,t.employerZipCode]])])])]),e("div",gl,[l[63]||(l[63]=e("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Additional Information",-1)),e("div",null,[l[61]||(l[61]=e("label",{for:"workLocation",class:"block text-sm font-medium text-gray-700 mb-1"}," Work Location ",-1)),V(e("select",{id:"workLocation","onUpdate:modelValue":l[34]||(l[34]=r=>t.workLocation=r),class:q(C("workLocation")),disabled:n.readonly,onChange:l[35]||(l[35]=r=>h("workLocation",r.target.value))},[...l[60]||(l[60]=[H('<option value="" data-v-64a7249e>Select work location</option><option value="office" data-v-64a7249e>Office</option><option value="remote" data-v-64a7249e>Remote</option><option value="hybrid" data-v-64a7249e>Hybrid</option><option value="field" data-v-64a7249e>Field work</option><option value="multiple" data-v-64a7249e>Multiple locations</option>',6)])],42,bl),[[le,t.workLocation]])]),e("div",xl,[l[62]||(l[62]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 mb-1"}," Additional Notes ",-1)),V(e("textarea",{id:"notes","onUpdate:modelValue":l[36]||(l[36]=r=>t.notes=r),rows:"3",class:q(C("notes")),placeholder:"Any additional employment information relevant for tax preparation...",disabled:n.readonly,onInput:l[37]||(l[37]=r=>h("notes",r.target.value))},null,42,yl),[[I,t.notes]])])])],32)])]),z(Pe,{show:a.value,expense:B.value,errors:O.value,onClose:re,onSave:A},null,8,["show","expense","errors"]),z(Ue,{show:P.value,expense:B.value,onClose:J,onEdit:ee},null,8,["show","expense"])]))}},jd=ce(vl,[["__scopeId","data-v-64a7249e"]]),hl={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-start justify-center p-4 pt-8 overflow-y-auto"},wl={class:"relative w-full max-w-4xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all flex flex-col mb-8"},kl={class:"bg-gradient-to-r from-slate-50 via-indigo-50 to-purple-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},$l={class:"relative flex items-center justify-between"},_l={class:"flex items-center space-x-3"},Cl={class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},Vl={class:"text-sm text-gray-600 font-medium"},Sl={class:"p-8 max-h-[70vh] overflow-y-auto"},Nl={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},Dl={class:"space-y-6"},Ml={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},El={class:"space-y-2"},Bl={key:0,class:"mt-1 text-sm text-red-600"},Il={class:"space-y-2"},Al={key:0,class:"mt-1 text-sm text-red-600"},Pl={class:"space-y-2"},Ul={key:0,class:"mt-1 text-sm text-red-600"},Ol={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},ql={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Fl={class:"space-y-2"},zl=["value"],Tl={class:"space-y-2"},Ll={key:0,class:"mt-1 text-sm text-red-600"},Hl={class:"space-y-2"},jl={class:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200"},Rl={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Yl={class:"space-y-2"},Zl={class:"space-y-2"},Wl={class:"space-y-2"},Kl={class:"bg-gradient-to-br from-orange-50 to-amber-100 rounded-xl p-6 border border-orange-200"},Gl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Jl={class:"space-y-2"},Xl={class:"space-y-2"},Ql={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200"},er={class:"space-y-2"},tr={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 bg-white px-8 pb-8"},sr={__name:"ProjectModal",props:{show:{type:Boolean,default:!1},project:{type:Object,default:null},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:S}){const c=n,N=S,t=K(()=>c.project&&c.project.id),a=G({id:null,project_name:"",project_description:"",project_type:"",taxYear:new Date().getFullYear(),status:"pending",priority:"medium",startDate:"",dueDate:"",completionDate:"",estimatedHours:"",actualHours:"",notes:""}),P=K(()=>{const i=new Date().getFullYear(),o=[];for(let h=i+1;h>=i-5;h--)o.push(h);return o}),B=()=>{Object.assign(a,{id:null,project_name:"",project_description:"",project_type:"",taxYear:new Date().getFullYear(),status:"pending",priority:"medium",startDate:"",dueDate:"",completionDate:"",estimatedHours:"",actualHours:"",notes:""})},O=()=>{c.project?Object.assign(a,{id:c.project.id,project_name:c.project.project_name||"",project_description:c.project.project_description||"",project_type:c.project.project_type||"",taxYear:c.project.taxYear||c.project.tax_year||new Date().getFullYear(),status:c.project.status||"pending",priority:c.project.priority||"medium",startDate:c.project.startDate||c.project.start_date||"",dueDate:c.project.dueDate||c.project.due_date||"",completionDate:c.project.completionDate||c.project.completion_date||"",estimatedHours:c.project.estimatedHours||c.project.estimated_hours||"",actualHours:c.project.actualHours||c.project.actual_hours||"",notes:c.project.notes||""}):B()},E=()=>{N("save",{...a})},C=()=>{N("close")};return Z(()=>c.show,i=>{i&&O()}),Z(()=>c.project,O,{deep:!0}),(i,o)=>n.show?(p(),f("div",hl,[e("div",wl,[e("div",kl,[o[14]||(o[14]=e("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-indigo-100/40 to-transparent rounded-bl-full"},null,-1)),e("div",$l,[e("div",_l,[o[12]||(o[12]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",null,[e("h3",Cl,m(t.value?"Edit Project":"Add New Project"),1),e("p",Vl,m(t.value?"Update project details and information":"Create a new project for your client"),1)])]),e("button",{onClick:C,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[...o[13]||(o[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Sl,[e("form",{onSubmit:oe(E,["prevent"]),class:"space-y-8"},[e("div",Nl,[o[19]||(o[19]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-blue-900">Basic Information</h4></div>',1)),e("div",Dl,[e("div",Ml,[e("div",El,[o[15]||(o[15]=e("label",{for:"project_name",class:"block text-sm font-semibold text-blue-700"},[F(" Project Name "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"project_name","onUpdate:modelValue":o[0]||(o[0]=h=>a.project_name=h),type:"text",class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter project name",required:""},null,512),[[I,a.project_name]]),n.errors.name?(p(),f("p",Bl,m(n.errors.name),1)):k("",!0)]),e("div",Il,[o[17]||(o[17]=e("label",{for:"project_type",class:"block text-sm font-semibold text-blue-700"},[F(" Project Type "),e("span",{class:"text-red-500"},"*")],-1)),V(e("select",{id:"project_type","onUpdate:modelValue":o[1]||(o[1]=h=>a.project_type=h),class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900",required:""},[...o[16]||(o[16]=[H('<option value="">Select project type</option><option value="tax_preparation">Tax Preparation</option><option value="tax_planning">Tax Planning</option><option value="audit_support">Audit Support</option><option value="consultation">Consultation</option><option value="bookkeeping">Bookkeeping</option><option value="payroll">Payroll Services</option><option value="business_formation">Business Formation</option><option value="other">Other</option>',9)])],512),[[le,a.project_type]]),n.errors.type?(p(),f("p",Al,m(n.errors.type),1)):k("",!0)])]),e("div",Pl,[o[18]||(o[18]=e("label",{for:"description",class:"block text-sm font-semibold text-blue-700"}," Description ",-1)),V(e("textarea",{id:"description","onUpdate:modelValue":o[2]||(o[2]=h=>a.project_description=h),rows:"3",class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Describe the project details and scope..."},null,512),[[I,a.project_description]]),n.errors.project_description?(p(),f("p",Ul,m(n.errors.description),1)):k("",!0)])])]),e("div",Ol,[o[26]||(o[26]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h4 class="text-lg font-bold text-green-900">Project Settings</h4></div>',1)),e("div",ql,[e("div",Fl,[o[21]||(o[21]=e("label",{for:"taxYear",class:"block text-sm font-semibold text-green-700"}," Tax Year ",-1)),V(e("select",{id:"taxYear","onUpdate:modelValue":o[3]||(o[3]=h=>a.taxYear=h),class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white text-gray-900"},[o[20]||(o[20]=e("option",{value:"2025"},"2025",-1)),(p(!0),f(ae,null,me(P.value,h=>(p(),f("option",{key:h,value:h},m(h),9,zl))),128))],512),[[le,a.taxYear]])]),e("div",Tl,[o[23]||(o[23]=e("label",{for:"status",class:"block text-sm font-semibold text-green-700"},[F(" Status "),e("span",{class:"text-red-500"},"*")],-1)),V(e("select",{id:"status","onUpdate:modelValue":o[4]||(o[4]=h=>a.status=h),class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white text-gray-900",required:""},[...o[22]||(o[22]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)])],512),[[le,a.status]]),n.errors.status?(p(),f("p",Ll,m(n.errors.status),1)):k("",!0)]),e("div",Hl,[o[25]||(o[25]=e("label",{for:"priority",class:"block text-sm font-semibold text-green-700"}," Priority ",-1)),V(e("select",{id:"priority","onUpdate:modelValue":o[5]||(o[5]=h=>a.priority=h),class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white text-gray-900"},[...o[24]||(o[24]=[e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1),e("option",{value:"urgent"},"Urgent",-1)])],512),[[le,a.priority]])])])]),e("div",jl,[o[30]||(o[30]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-purple-900">Timeline</h4></div>',1)),e("div",Rl,[e("div",Yl,[o[27]||(o[27]=e("label",{for:"startDate",class:"block text-sm font-semibold text-purple-700"}," Start Date ",-1)),V(e("input",{id:"startDate","onUpdate:modelValue":o[6]||(o[6]=h=>a.startDate=h),type:"date",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"mm/dd/yyyy"},null,512),[[I,a.startDate]])]),e("div",Zl,[o[28]||(o[28]=e("label",{for:"dueDate",class:"block text-sm font-semibold text-purple-700"}," Due Date ",-1)),V(e("input",{id:"dueDate","onUpdate:modelValue":o[7]||(o[7]=h=>a.dueDate=h),type:"date",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"mm/dd/yyyy"},null,512),[[I,a.dueDate]])]),e("div",Wl,[o[29]||(o[29]=e("label",{for:"completionDate",class:"block text-sm font-semibold text-purple-700"}," Completion Date ",-1)),V(e("input",{id:"completionDate","onUpdate:modelValue":o[8]||(o[8]=h=>a.completionDate=h),type:"date",class:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"mm/dd/yyyy"},null,512),[[I,a.completionDate]])])])]),e("div",Kl,[o[33]||(o[33]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-orange-900">Hours Tracking</h4></div>',1)),e("div",Gl,[e("div",Jl,[o[31]||(o[31]=e("label",{for:"estimatedHours",class:"block text-sm font-semibold text-orange-700"}," Estimated Hours ",-1)),V(e("input",{id:"estimatedHours","onUpdate:modelValue":o[9]||(o[9]=h=>a.estimatedHours=h),type:"number",step:"0.5",min:"0",class:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 text-gray-900",placeholder:"0.0"},null,512),[[I,a.estimatedHours]])]),e("div",Xl,[o[32]||(o[32]=e("label",{for:"actualHours",class:"block text-sm font-semibold text-orange-700"}," Actual Hours ",-1)),V(e("input",{id:"actualHours","onUpdate:modelValue":o[10]||(o[10]=h=>a.actualHours=h),type:"number",step:"0.5",min:"0",class:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 text-gray-900",placeholder:"0.0"},null,512),[[I,a.actualHours]])])])]),e("div",Ql,[o[35]||(o[35]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><h4 class="text-lg font-bold text-gray-900">Additional Notes</h4></div>',1)),e("div",er,[o[34]||(o[34]=e("label",{for:"notes",class:"block text-sm font-semibold text-gray-700"}," Notes ",-1)),V(e("textarea",{id:"notes","onUpdate:modelValue":o[11]||(o[11]=h=>a.notes=h),rows:"3",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Additional project notes..."},null,512),[[I,a.notes]])])])],32)]),e("div",tr,[e("button",{type:"button",onClick:C,class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[...o[36]||(o[36]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),F(" Cancel ",-1)])]),e("button",{type:"button",onClick:E,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[o[37]||(o[37]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),F(" "+m(t.value?"Update":"Add")+" Project ",1)])])])])):k("",!0)}},or={class:"project-details-section"},lr={class:"bg-white rounded-lg shadow-sm border border-gray-200"},rr={class:"px-6 py-4 border-b border-gray-200"},nr={class:"flex items-center justify-between"},ar=["disabled"],ir={class:"p-6"},dr={key:0,class:"text-center py-12"},ur={class:"mt-6 flex justify-center"},mr=["disabled"],cr={key:1,class:"space-y-4"},pr=["onClick"],fr={class:"flex items-center space-x-3"},gr={class:"flex-shrink-0"},br={class:"text-lg font-medium text-gray-900"},xr={class:"text-sm text-gray-500"},yr={key:0},vr={key:1},hr={class:"flex items-center space-x-2"},wr=["onClick","disabled"],kr=["onClick","disabled"],$r={key:0,class:"border-t border-gray-200 p-4 bg-gray-50"},_r={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},Cr={class:"ml-2 text-gray-900 capitalize"},Vr={class:"ml-2"},Sr={class:"ml-2 text-gray-900"},Nr={class:"ml-2 text-gray-900"},Dr={class:"ml-2 text-gray-900"},Mr={class:"ml-2 text-gray-900"},Er={class:"ml-2 text-gray-900"},Br={key:0},Ir={key:1},Ar={class:"mt-4"},Pr={class:"mt-1 text-gray-900"},Ur={class:"mt-4"},Or={class:"mt-1 text-gray-900"},qr={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Fr={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},zr={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Tr={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Lr={class:"sm:flex sm:items-start"},Hr={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},jr={class:"mt-2"},Rr={key:0,class:"mt-3 p-3 bg-gray-50 rounded-md"},Yr={class:"text-sm font-medium text-gray-900"},Zr={class:"text-sm text-gray-600"},Wr={key:0,class:"text-sm text-gray-600"},Kr={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Gr={__name:"ProjectDetailsSection",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:S}){const c=n,N=S,t=G([]),a=G({}),P=T(!1),B=T(null),O=T({}),E=T(!1),C=T(null),i=G({});K(()=>{const $=new Date().getFullYear(),w=[];for(let u=0;u<=5;u++)w.push($-u);return w});const o=()=>{c.readonly||(B.value=null,O.value={},P.value=!0)},h=$=>{c.readonly||(B.value=$,O.value={},P.value=!0)},U=()=>{P.value=!1,B.value=null,O.value={}},d=$=>{const w=D($);if(console.log($),Object.keys(w).length>0){O.value=w;return}if($.id&&t.find(u=>u.id===$.id)){const u=t.findIndex(L=>L.id===$.id);u!==-1&&(t[u]={...$})}else{const u={...$,id:Date.now()};t.push(u)}A(),U()},D=$=>{const w={};return(!$.project_name||$.project_name.trim().length===0)&&(w.project_name="Project name is required"),$.project_type||(w.project_type="Project type is required"),$.status||(w.status="Status is required"),w},Q=$=>{a[$]=!a[$]},re=$=>{c.readonly||(C.value=$,E.value=!0)},J=$=>{if(c.readonly)return;t.splice($,1),Object.keys(i).forEach(u=>{u.startsWith(`projects.${$}.`)&&delete i[u]});const w={};Object.keys(i).forEach(u=>{const L=u.match(/^projects\.(\d+)\.(.+)$/);if(L){const g=parseInt(L[1]),x=L[2];g>$?w[`projects.${g-1}.${x}`]=i[u]:g<$&&(w[u]=i[u])}else w[u]=i[u]}),Object.keys(i).forEach(u=>delete i[u]),Object.assign(i,w),A(),ee()},ee=()=>{E.value=!1,C.value=null},A=()=>{const $=t.map(w=>({...w}));N("update:modelValue",$),N("update",$)},s=()=>{t.splice(0,t.length),c.modelValue&&Array.isArray(c.modelValue)&&c.modelValue.forEach($=>{t.push({...$})}),t.forEach(($,w)=>{a[w]===void 0&&(a[w]=!1)})};Z(()=>c.errors,$=>{Object.keys(i).forEach(w=>delete i[w]),Object.assign(i,$)},{deep:!0}),Z(()=>c.modelValue,s,{deep:!0});const y=$=>$?$.replace("_"," "):"",l=$=>$?$.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase()):"",r=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",Y=$=>{const w={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return w[$]||w.pending},ie=$=>{const w={low:"text-gray-600",medium:"text-blue-600",high:"text-orange-600",urgent:"text-red-600"};return w[$]||w.medium},pe=$=>{const w=parseFloat(($==null?void 0:$.estimatedHours)||($==null?void 0:$.estimated_hours)||0),L=parseFloat(($==null?void 0:$.actualHours)||($==null?void 0:$.actual_hours)||0)-w;return L>0?`+${L}h`:`${L}h`},be=$=>{const w=parseFloat(($==null?void 0:$.estimatedHours)||($==null?void 0:$.estimated_hours)),L=parseFloat(($==null?void 0:$.actualHours)||($==null?void 0:$.actual_hours))-w;return L>0?"text-red-600":L<0?"text-green-600":"text-gray-600"};return ge(()=>{s()}),($,w)=>(p(),f(ae,null,[e("div",or,[e("div",lr,[e("div",rr,[e("div",nr,[w[2]||(w[2]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Project Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Tax-related projects and their current status")],-1)),e("button",{onClick:o,disabled:n.readonly,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center"},[z(R(ue),{class:"w-4 h-4 mr-2"}),w[1]||(w[1]=F(" Add Project ",-1))],8,ar)])]),e("div",ir,[t.length===0?(p(),f("div",dr,[z(R(Ge),{class:"mx-auto h-12 w-12 text-gray-400"}),w[4]||(w[4]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No projects",-1)),w[5]||(w[5]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first tax project.",-1)),e("div",ur,[e("button",{onClick:o,disabled:n.readonly,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none inline-flex items-center"},[z(R(ue),{class:"w-4 h-4 mr-2"}),w[3]||(w[3]=F(" Add Project ",-1))],8,mr)])])):(p(),f("div",cr,[(p(!0),f(ae,null,me(t,(u,L)=>(p(),f("div",{key:u.id||L,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",{class:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:g=>Q(L)},[e("div",fr,[e("div",gr,[e("div",{class:q([Y(u==null?void 0:u.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},m(y(u==null?void 0:u.status)),3)]),e("div",null,[e("h3",br,m((u==null?void 0:u.project_name)||`Project ${L+1}`),1),e("p",xr,[F(m(l(u==null?void 0:u.project_type))+" ",1),u!=null&&u.taxYear||u!=null&&u.tax_year?(p(),f("span",yr," "+m(u.taxYear||u.tax_year),1)):k("",!0),u!=null&&u.dueDate||u!=null&&u.due_date?(p(),f("span",vr," Due: "+m(r(u.dueDate||u.due_date)),1)):k("",!0)])])]),e("div",hr,[e("button",{onClick:oe(g=>h(u),["stop"]),disabled:n.readonly,class:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed"},[...w[6]||(w[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,wr),e("button",{onClick:oe(g=>re(L),["stop"]),disabled:n.readonly,class:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"},[z(R(Ce),{class:"w-4 h-4"})],8,kr),(p(),f("svg",{class:q(["w-5 h-5 text-gray-400 transition-transform",a[L]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...w[7]||(w[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,pr),a[L]?(p(),f("div",$r,[e("div",_r,[e("div",null,[w[8]||(w[8]=e("span",{class:"font-medium text-gray-700"},"Priority:",-1)),e("span",{class:q([ie((u==null?void 0:u.priority)||"medium"),"ml-2 capitalize"])},m((u==null?void 0:u.priority)||"Medium"),3)]),e("div",null,[w[9]||(w[9]=e("span",{class:"font-medium text-gray-700"},"Type:",-1)),e("span",Cr,m(l((u==null?void 0:u.type)||(u==null?void 0:u.project_type))||"Not specified"),1)]),e("div",null,[w[10]||(w[10]=e("span",{class:"font-medium text-gray-700"},"Status:",-1)),e("span",Vr,[e("span",{class:q([Y(u==null?void 0:u.status),"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize"])},m(y(u==null?void 0:u.status)||"Not specified"),3)])]),e("div",null,[w[11]||(w[11]=e("span",{class:"font-medium text-gray-700"},"Start Date:",-1)),e("span",Sr,m(r((u==null?void 0:u.startDate)||(u==null?void 0:u.start_date))||"Not set"),1)]),e("div",null,[w[12]||(w[12]=e("span",{class:"font-medium text-gray-700"},"Due Date:",-1)),e("span",Nr,m(r((u==null?void 0:u.dueDate)||(u==null?void 0:u.due_date))||"Not set"),1)]),e("div",null,[w[13]||(w[13]=e("span",{class:"font-medium text-gray-700"},"Completed:",-1)),e("span",Dr,m(r((u==null?void 0:u.completionDate)||(u==null?void 0:u.completion_date))||"Not completed"),1)]),e("div",null,[w[14]||(w[14]=e("span",{class:"font-medium text-gray-700"},"Est. Hours:",-1)),e("span",Mr,m(u!=null&&u.estimatedHours||u!=null&&u.estimated_hours?`${u.estimatedHours||u.estimated_hours}h`:"Not set"),1)]),e("div",null,[w[15]||(w[15]=e("span",{class:"font-medium text-gray-700"},"Actual Hours:",-1)),e("span",Er,m(u!=null&&u.actualHours||u!=null&&u.actual_hours?`${u.actualHours||u.actual_hours}h`:"Not tracked"),1)]),(u!=null&&u.estimatedHours||u!=null&&u.estimated_hours)&&(u!=null&&u.actualHours||u!=null&&u.actual_hours)?(p(),f("div",Br,[w[16]||(w[16]=e("span",{class:"font-medium text-gray-700"},"Variance:",-1)),e("span",{class:q([be(u),"ml-2"])},m(pe(u)),3)])):(p(),f("div",Ir,[...w[17]||(w[17]=[e("span",{class:"font-medium text-gray-700"},"Variance:",-1),e("span",{class:"ml-2 text-gray-500"},"Not available",-1)])]))]),e("div",Ar,[w[18]||(w[18]=e("span",{class:"font-medium text-gray-700"},"Description:",-1)),e("p",Pr,m((u==null?void 0:u.project_description)||"No description provided"),1)]),e("div",Ur,[w[19]||(w[19]=e("span",{class:"font-medium text-gray-700"},"Notes:",-1)),e("p",Or,m((u==null?void 0:u.notes)||"No notes added"),1)])])):k("",!0)]))),128))]))])])]),z(sr,{show:P.value,project:B.value,errors:O.value,onClose:U,onSave:d},null,8,["show","project","errors"]),E.value?(p(),f("div",qr,[e("div",Fr,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:ee}),e("div",zr,[e("div",Tr,[e("div",Lr,[w[22]||(w[22]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",Hr,[w[21]||(w[21]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Project ",-1)),e("div",jr,[w[20]||(w[20]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this project? This action cannot be undone and will permanently remove the project from your records. ",-1)),C.value!==null&&t[C.value]?(p(),f("div",Rr,[e("p",Yr,m(t[C.value].project_name||`Project ${C.value+1}`),1),e("p",Zr,m(l(t[C.value].project_type)),1),t[C.value].status?(p(),f("p",Wr,"Status: "+m(y(t[C.value].status)),1)):k("",!0)])):k("",!0)])])])]),e("div",Kr,[e("button",{type:"button",onClick:w[0]||(w[0]=u=>J(C.value)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete Project "),e("button",{type:"button",onClick:ee,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):k("",!0)],64))}},Rd=ce(Gr,[["__scopeId","data-v-a1e8e94f"]]),Jr={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-start justify-center p-4 pt-8 overflow-y-auto"},Xr={class:"relative w-full max-w-3xl bg-white shadow-2xl rounded-2xl border border-gray-100 overflow-hidden transform transition-all flex flex-col mb-8"},Qr={class:"bg-gradient-to-r from-slate-50 via-green-50 to-emerald-50 px-6 py-5 border-b border-gray-200 relative overflow-hidden"},en={class:"relative flex items-center justify-between"},tn={class:"flex items-center space-x-3"},sn={class:"text-xl font-bold bg-gradient-to-r from-gray-900 via-green-900 to-emerald-900 bg-clip-text text-transparent"},on={class:"text-sm text-gray-600 font-medium"},ln={class:"p-8 max-h-[70vh] overflow-y-auto"},rn={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200"},nn={class:"space-y-6"},an={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dn={class:"space-y-2"},un={key:0,class:"mt-1 text-sm text-red-600"},mn={class:"space-y-2"},cn={key:0,class:"mt-1 text-sm text-red-600"},pn={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200"},fn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},gn={class:"space-y-2"},bn={key:0,class:"mt-1 text-sm text-red-600"},xn={class:"space-y-2"},yn={class:"relative"},vn={key:0,class:"mt-1 text-sm text-red-600"},hn={class:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200"},wn={class:"space-y-6"},kn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$n={class:"space-y-2"},_n={class:"relative"},Cn={key:0,class:"mt-1 text-sm text-red-600"},Vn={class:"space-y-2"},Sn={class:"relative"},Nn={key:0,class:"mt-1 text-sm text-red-600"},Dn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Mn={class:"space-y-2"},En={class:"relative"},Bn={key:0,class:"mt-1 text-sm text-red-600"},In={class:"space-y-2"},An={class:"relative"},Pn={key:0,class:"mt-1 text-sm text-red-600"},Un={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200"},On={class:"space-y-2"},qn={key:0,class:"mt-1 text-sm text-red-600"},Fn={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 bg-white px-8 pb-8"},zn={__name:"AssetModal",props:{show:{type:Boolean,default:!1},asset:{type:Object,default:null},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:S}){const c=n,N=S,t=K(()=>c.asset&&c.asset.id),a=G({id:null,asset_name:"",asset_type:"",date_of_purchase:"",percentage_used_in_business:"",cost_of_acquisition:"",any_reimbursement:"",current_value:"",depreciation_rate:"",description:""}),P=()=>{Object.assign(a,{id:null,asset_name:"",asset_type:"",date_of_purchase:"",percentage_used_in_business:"",cost_of_acquisition:"",any_reimbursement:"",current_value:"",depreciation_rate:"",description:""})},B=i=>{if(!i)return"";let o;if(typeof i=="string")o=new Date(i);else if(i instanceof Date)o=i;else return"";return o.toISOString().split("T")[0]},O=()=>{c.asset?Object.assign(a,{id:c.asset.id,asset_name:c.asset.asset_name||"",asset_type:c.asset.asset_type||"",date_of_purchase:B(c.asset.date_of_purchase),percentage_used_in_business:c.asset.percentage_used_in_business||"",cost_of_acquisition:c.asset.cost_of_acquisition||"",any_reimbursement:c.asset.any_reimbursement||"",current_value:c.asset.current_value||"",depreciation_rate:c.asset.depreciation_rate||"",description:c.asset.description||""}):P()},E=()=>{N("save",{...a})},C=()=>{N("close")};return Z(()=>c.show,i=>{i&&O()}),Z(()=>c.asset,O,{deep:!0}),(i,o)=>n.show?(p(),f("div",Jr,[e("div",Xr,[e("div",Qr,[o[11]||(o[11]=e("div",{class:"absolute top-0 right-0 w-32 h-16 bg-gradient-to-bl from-green-100/40 to-transparent rounded-bl-full"},null,-1)),e("div",en,[e("div",tn,[o[9]||(o[9]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",null,[e("h3",sn,m(t.value?"Edit Asset":"Add New Asset"),1),e("p",on,m(t.value?"Update asset details and information":"Add a new business or personal asset"),1)])]),e("button",{onClick:C,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200"},[...o[10]||(o[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",ln,[e("form",{onSubmit:oe(E,["prevent"]),class:"space-y-8"},[e("div",rn,[o[15]||(o[15]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-bold text-blue-900">Basic Information</h4></div>',1)),e("div",nn,[e("div",an,[e("div",dn,[o[12]||(o[12]=e("label",{for:"asset_name",class:"block text-sm font-semibold text-blue-700"},[F(" Asset Name "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"asset_name","onUpdate:modelValue":o[0]||(o[0]=h=>a.asset_name=h),type:"text",class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter asset name",required:""},null,512),[[I,a.asset_name]]),n.errors.asset_name?(p(),f("p",un,m(n.errors.asset_name),1)):k("",!0)]),e("div",mn,[o[14]||(o[14]=e("label",{for:"asset_type",class:"block text-sm font-semibold text-blue-700"}," Asset Type ",-1)),V(e("select",{id:"asset_type","onUpdate:modelValue":o[1]||(o[1]=h=>a.asset_type=h),class:"w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900"},[...o[13]||(o[13]=[H('<option value="">Select asset type</option><option value="equipment">Equipment</option><option value="vehicle">Vehicle</option><option value="furniture">Furniture</option><option value="computer">Computer/Technology</option><option value="machinery">Machinery</option><option value="building">Building</option><option value="land">Land</option><option value="other">Other</option>',9)])],512),[[le,a.asset_type]]),n.errors.asset_type?(p(),f("p",cn,m(n.errors.asset_type),1)):k("",!0)])])])]),e("div",pn,[o[19]||(o[19]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h4 class="text-lg font-bold text-green-900">Purchase Information</h4></div>',1)),e("div",fn,[e("div",gn,[o[16]||(o[16]=e("label",{for:"date_of_purchase",class:"block text-sm font-semibold text-green-700"},[F(" Purchase Date "),e("span",{class:"text-red-500"},"*")],-1)),V(e("input",{id:"date_of_purchase","onUpdate:modelValue":o[2]||(o[2]=h=>a.date_of_purchase=h),type:"date",class:"w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900",required:""},null,512),[[I,a.date_of_purchase]]),n.errors.date_of_purchase?(p(),f("p",bn,m(n.errors.date_of_purchase),1)):k("",!0)]),e("div",xn,[o[18]||(o[18]=e("label",{for:"percentage_used_in_business",class:"block text-sm font-semibold text-green-700"},[F(" Business Use % "),e("span",{class:"text-red-500"},"*")],-1)),e("div",yn,[V(e("input",{id:"percentage_used_in_business","onUpdate:modelValue":o[3]||(o[3]=h=>a.percentage_used_in_business=h),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-3 pr-8 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 text-gray-900",placeholder:"0.00",required:""},null,512),[[I,a.percentage_used_in_business]]),o[17]||(o[17]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),n.errors.percentage_used_in_business?(p(),f("p",vn,m(n.errors.percentage_used_in_business),1)):k("",!0)])])]),e("div",hn,[o[28]||(o[28]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div><h4 class="text-lg font-bold text-purple-900">Financial Information</h4></div>',1)),e("div",wn,[e("div",kn,[e("div",$n,[o[21]||(o[21]=e("label",{for:"cost_of_acquisition",class:"block text-sm font-semibold text-purple-700"},[F(" Cost of Acquisition "),e("span",{class:"text-red-500"},"*")],-1)),e("div",_n,[o[20]||(o[20]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),V(e("input",{id:"cost_of_acquisition","onUpdate:modelValue":o[4]||(o[4]=h=>a.cost_of_acquisition=h),type:"number",min:"0",step:"0.01",class:"w-full pl-8 pr-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00",required:""},null,512),[[I,a.cost_of_acquisition]])]),n.errors.cost_of_acquisition?(p(),f("p",Cn,m(n.errors.cost_of_acquisition),1)):k("",!0)]),e("div",Vn,[o[23]||(o[23]=e("label",{for:"any_reimbursement",class:"block text-sm font-semibold text-purple-700"}," Reimbursement ",-1)),e("div",Sn,[o[22]||(o[22]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),V(e("input",{id:"any_reimbursement","onUpdate:modelValue":o[5]||(o[5]=h=>a.any_reimbursement=h),type:"number",min:"0",step:"0.01",class:"w-full pl-8 pr-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00"},null,512),[[I,a.any_reimbursement]])]),n.errors.any_reimbursement?(p(),f("p",Nn,m(n.errors.any_reimbursement),1)):k("",!0)])]),e("div",Dn,[e("div",Mn,[o[25]||(o[25]=e("label",{for:"current_value",class:"block text-sm font-semibold text-purple-700"}," Current Value ",-1)),e("div",En,[o[24]||(o[24]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),V(e("input",{id:"current_value","onUpdate:modelValue":o[6]||(o[6]=h=>a.current_value=h),type:"number",min:"0",step:"0.01",class:"w-full pl-8 pr-4 py-3 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00"},null,512),[[I,a.current_value]])]),n.errors.current_value?(p(),f("p",Bn,m(n.errors.current_value),1)):k("",!0)]),e("div",In,[o[27]||(o[27]=e("label",{for:"depreciation_rate",class:"block text-sm font-semibold text-purple-700"}," Depreciation Rate ",-1)),e("div",An,[V(e("input",{id:"depreciation_rate","onUpdate:modelValue":o[7]||(o[7]=h=>a.depreciation_rate=h),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-3 pr-8 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-gray-900",placeholder:"0.00"},null,512),[[I,a.depreciation_rate]]),o[26]||(o[26]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),n.errors.depreciation_rate?(p(),f("p",Pn,m(n.errors.depreciation_rate),1)):k("",!0)])])])]),e("div",Un,[o[30]||(o[30]=H('<div class="flex items-center mb-6"><div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><h4 class="text-lg font-bold text-gray-900">Additional Details</h4></div>',1)),e("div",On,[o[29]||(o[29]=e("label",{for:"description",class:"block text-sm font-semibold text-gray-700"}," Description ",-1)),V(e("textarea",{id:"description","onUpdate:modelValue":o[8]||(o[8]=h=>a.description=h),rows:"3",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Additional details about the asset..."},null,512),[[I,a.description]]),n.errors.description?(p(),f("p",qn,m(n.errors.description),1)):k("",!0)])])],32)]),e("div",Fn,[e("button",{type:"button",onClick:C,class:"bg-gradient-to-r from-gray-500 to-slate-600 hover:from-gray-600 hover:to-slate-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[...o[31]||(o[31]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),F(" Cancel ",-1)])]),e("button",{type:"button",onClick:E,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"},[o[32]||(o[32]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),F(" "+m(t.value?"Update":"Add")+" Asset ",1)])])])])):k("",!0)}},Tn={class:"asset-details-section"},Ln={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Hn={class:"px-6 py-4 border-b border-gray-200"},jn={class:"flex items-center justify-between"},Rn=["disabled"],Yn={class:"p-6"},Zn={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},Wn={class:"flex"},Kn={class:"flex-shrink-0"},Gn={key:0,class:"text-center py-12"},Jn={class:"mt-6"},Xn=["disabled"],Qn={key:1,class:"space-y-4"},ea=["onClick"],ta={class:"flex items-center space-x-3"},sa={class:"flex-shrink-0"},oa={class:"text-lg font-medium text-gray-900"},la={class:"text-sm text-gray-500"},ra={key:0},na={key:1},aa={class:"flex items-center space-x-2"},ia=["onClick","disabled"],da=["onClick","disabled"],ua={key:0,class:"border-t border-gray-200 p-4 bg-gray-50"},ma={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},ca={class:"ml-2 text-gray-900 capitalize"},pa={class:"ml-2 text-gray-900"},fa={class:"ml-2 text-gray-900"},ga={class:"ml-2 text-gray-900"},ba={class:"ml-2 text-gray-900"},xa={class:"ml-2 text-gray-900"},ya={class:"ml-2 text-gray-900"},va={class:"ml-2 text-gray-900"},ha={class:"ml-2 text-gray-900"},wa={class:"ml-2 text-gray-900"},ka={class:"ml-2 text-gray-900"},$a={key:0},_a={key:1},Ca={class:"mt-4"},Va={class:"mt-1 text-gray-900"},Sa={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Na={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Da={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ma={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ea={class:"sm:flex sm:items-start"},Ba={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Ia={class:"mt-2"},Aa={key:0,class:"mt-3 p-3 bg-gray-50 rounded-md"},Pa={class:"text-sm font-medium text-gray-900"},Ua={class:"text-sm text-gray-600"},Oa={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},qa={__name:"AssetDetailsSection",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:S}){const c=n,N=S,t=G([]),a=G({}),P=T(!1),B=T(null),O=T({}),E=T(!1),C=T(null),i=G({}),o=g=>!g||g===0?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),h=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",U=g=>g?g.replace("_"," ").replace(/\b\w/g,x=>x.toUpperCase()):"",d=g=>{const x={equipment:"bg-blue-100 text-blue-800",vehicle:"bg-green-100 text-green-800",furniture:"bg-purple-100 text-purple-800",computer:"bg-indigo-100 text-indigo-800",machinery:"bg-orange-100 text-orange-800",building:"bg-red-100 text-red-800",land:"bg-yellow-100 text-yellow-800",other:"bg-gray-100 text-gray-800"};return x[g]||x.other},D=g=>{if(!(g!=null&&g.cost_of_acquisition))return"$0.00";const x=parseFloat(g.cost_of_acquisition),v=parseFloat(g.any_reimbursement||0);return o(x-v)},Q=g=>{if(!(g!=null&&g.cost_of_acquisition)||!(g!=null&&g.percentage_used_in_business))return"$0.00";const x=parseFloat(g.cost_of_acquisition),v=parseFloat(g.percentage_used_in_business)/100;return o(x*v)},re=g=>{if(!(g!=null&&g.cost_of_acquisition)||!(g!=null&&g.percentage_used_in_business))return o((g==null?void 0:g.cost_of_acquisition)||0);const x=parseFloat(g.cost_of_acquisition),v=(100-parseFloat(g.percentage_used_in_business))/100;return o(x*v)},J=g=>{if(!(g!=null&&g.date_of_purchase))return"Unknown";const x=new Date(g.date_of_purchase),v=new Date,j=Math.floor((v-x)/(365.25*24*60*60*1e3)),X=Math.floor((v-x)/(30.44*24*60*60*1e3));return j>0?`${j} year${j!==1?"s":""}`:X>0?`${X} month${X!==1?"s":""}`:"Less than a month"},ee=g=>{if(!(g!=null&&g.current_value)||!(g!=null&&g.cost_of_acquisition))return"N/A";const x=parseFloat(g.current_value),v=parseFloat(g.cost_of_acquisition),j=x-v,X=(j/v*100).toFixed(1);return`${o(j)} (${j>=0?"+":""}${X}%)`},A=g=>{if(!(g!=null&&g.current_value)||!(g!=null&&g.cost_of_acquisition))return"text-gray-600";const x=parseFloat(g.current_value),v=parseFloat(g.cost_of_acquisition);return x>=v?"text-green-600":"text-red-600"},s=()=>{c.readonly||(B.value=null,O.value={},P.value=!0)},y=g=>{c.readonly||(B.value=g,O.value={},P.value=!0)},l=()=>{P.value=!1,B.value=null,O.value={}},r=g=>{const x=Y(g);if(Object.keys(x).length>0){O.value=x;return}if(g.id&&t.find(v=>v.id===g.id)){const v=t.findIndex(j=>j.id===g.id);v!==-1&&(t[v]={...g})}else{const v={...g,id:Date.now()};t.push(v)}u(),l()},Y=g=>{const x={};return(!g.asset_name||g.asset_name.trim().length===0)&&(x.asset_name="Asset name is required"),g.date_of_purchase||(x.date_of_purchase="Purchase date is required"),!g.percentage_used_in_business&&g.percentage_used_in_business!==0?x.percentage_used_in_business="Business use percentage is required":(g.percentage_used_in_business<0||g.percentage_used_in_business>100)&&(x.percentage_used_in_business="Business use percentage must be between 0 and 100"),(!g.cost_of_acquisition||g.cost_of_acquisition<=0)&&(x.cost_of_acquisition="Cost of acquisition is required and must be greater than 0"),x},ie=g=>{a[g]=!a[g]},pe=g=>{c.readonly||(C.value=g,E.value=!0)},be=g=>{if(c.readonly)return;t.splice(g,1),Object.keys(i).forEach(v=>{v.startsWith(`assets.${g}.`)&&delete i[v]});const x={};Object.keys(i).forEach(v=>{const j=v.match(/^assets\.(\d+)\.(.+)$/);if(j){const X=parseInt(j[1]),xe=j[2];X>g?x[`assets.${X-1}.${xe}`]=i[v]:X<g&&(x[v]=i[v])}else x[v]=i[v]}),Object.keys(i).forEach(v=>delete i[v]),Object.assign(i,x),u(),$()},$=()=>{E.value=!1,C.value=null},w=g=>{if(!g)return null;try{let x;if(typeof g=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(g))return g;x=new Date(g)}else if(g instanceof Date)x=g;else return null;if(isNaN(x.getTime()))return console.warn("Invalid date provided:",g),null;const v=x.getFullYear(),j=String(x.getMonth()+1).padStart(2,"0"),X=String(x.getDate()).padStart(2,"0");return`${v}-${j}-${X}`}catch(x){return console.error("Error formatting date for backend:",x,g),null}},u=()=>{const g=t.map(x=>({...x,date_of_purchase:w(x.date_of_purchase)}));N("update:modelValue",g),N("update",g)},L=()=>{t.splice(0,t.length),c.modelValue&&Array.isArray(c.modelValue)&&c.modelValue.forEach(g=>{t.push({...g})}),t.forEach((g,x)=>{a[x]===void 0&&(a[x]=!1)})};return Z(()=>c.errors,g=>{Object.keys(i).forEach(x=>delete i[x]),Object.assign(i,g)},{deep:!0}),Z(()=>c.modelValue,L,{deep:!0}),ge(()=>{L()}),(g,x)=>(p(),f(ae,null,[e("div",Tn,[e("div",Ln,[e("div",Hn,[e("div",jn,[x[2]||(x[2]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Asset Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Business and personal assets for tax purposes")],-1)),e("button",{onClick:s,disabled:n.readonly,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center"},[z(R(ue),{class:"w-4 h-4 mr-2"}),x[1]||(x[1]=F(" Add Asset ",-1))],8,Rn)])]),e("div",Yn,[e("div",Zn,[e("div",Wn,[e("div",Kn,[z(R(_e),{class:"h-5 w-5 text-blue-400"})]),x[3]||(x[3]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Asset Information Guidelines "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Include all business-related assets and equipment"),e("li",null,"Percentage used in business affects tax deductions"),e("li",null,"Keep receipts and documentation for all asset purchases"),e("li",null,"Reimbursements reduce the deductible amount")])])],-1))])]),t.length===0?(p(),f("div",Gn,[z(R(Re),{class:"mx-auto h-12 w-12 text-gray-400"}),x[5]||(x[5]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No assets",-1)),x[6]||(x[6]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first business or personal asset.",-1)),e("div",Jn,[e("button",{onClick:s,disabled:n.readonly,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none inline-flex items-center"},[z(R(ue),{class:"w-4 h-4 mr-2"}),x[4]||(x[4]=F(" Add Asset ",-1))],8,Xn)])])):(p(),f("div",Qn,[(p(!0),f(ae,null,me(t,(v,j)=>(p(),f("div",{key:v.id||j,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",{class:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:X=>ie(j)},[e("div",ta,[e("div",sa,[e("div",{class:q([d(v==null?void 0:v.asset_type),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},m(U(v==null?void 0:v.asset_type)),3)]),e("div",null,[e("h3",oa,m((v==null?void 0:v.asset_name)||`Asset ${j+1}`),1),e("p",la,[F(m(o(v==null?void 0:v.cost_of_acquisition))+" ",1),v!=null&&v.percentage_used_in_business?(p(),f("span",ra," "+m(v.percentage_used_in_business)+"% business use",1)):k("",!0),v!=null&&v.date_of_purchase?(p(),f("span",na," Purchased "+m(h(v.date_of_purchase)),1)):k("",!0)])])]),e("div",aa,[e("button",{onClick:oe(X=>y(v),["stop"]),disabled:n.readonly,class:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed"},[...x[7]||(x[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ia),e("button",{onClick:oe(X=>pe(j),["stop"]),disabled:n.readonly,class:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"},[z(R(Ce),{class:"w-4 h-4"})],8,da),(p(),f("svg",{class:q(["w-5 h-5 text-gray-400 transition-transform",a[j]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...x[8]||(x[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,ea),a[j]?(p(),f("div",ua,[e("div",ma,[e("div",null,[x[9]||(x[9]=e("span",{class:"font-medium text-gray-700"},"Type:",-1)),e("span",ca,m(U(v==null?void 0:v.asset_type)||"Not specified"),1)]),e("div",null,[x[10]||(x[10]=e("span",{class:"font-medium text-gray-700"},"Purchase Date:",-1)),e("span",pa,m(h(v==null?void 0:v.date_of_purchase)||"Not set"),1)]),e("div",null,[x[11]||(x[11]=e("span",{class:"font-medium text-gray-700"},"Business Use:",-1)),e("span",fa,m((v==null?void 0:v.percentage_used_in_business)||0)+"%",1)]),e("div",null,[x[12]||(x[12]=e("span",{class:"font-medium text-gray-700"},"Acquisition Cost:",-1)),e("span",ga,m(o(v==null?void 0:v.cost_of_acquisition)),1)]),e("div",null,[x[13]||(x[13]=e("span",{class:"font-medium text-gray-700"},"Reimbursement:",-1)),e("span",ba,m(o(v==null?void 0:v.any_reimbursement)||"None"),1)]),e("div",null,[x[14]||(x[14]=e("span",{class:"font-medium text-gray-700"},"Net Cost:",-1)),e("span",xa,m(D(v)),1)]),e("div",null,[x[15]||(x[15]=e("span",{class:"font-medium text-gray-700"},"Business Cost:",-1)),e("span",ya,m(Q(v)),1)]),e("div",null,[x[16]||(x[16]=e("span",{class:"font-medium text-gray-700"},"Personal Cost:",-1)),e("span",va,m(re(v)),1)]),e("div",null,[x[17]||(x[17]=e("span",{class:"font-medium text-gray-700"},"Current Value:",-1)),e("span",ha,m(o(v==null?void 0:v.current_value)||"Not set"),1)]),e("div",null,[x[18]||(x[18]=e("span",{class:"font-medium text-gray-700"},"Depreciation Rate:",-1)),e("span",wa,m(v!=null&&v.depreciation_rate?`${v.depreciation_rate}%`:"Not set"),1)]),e("div",null,[x[19]||(x[19]=e("span",{class:"font-medium text-gray-700"},"Age:",-1)),e("span",ka,m(J(v)),1)]),v!=null&&v.current_value&&(v!=null&&v.cost_of_acquisition)?(p(),f("div",$a,[x[20]||(x[20]=e("span",{class:"font-medium text-gray-700"},"Value Change:",-1)),e("span",{class:q([A(v),"ml-2"])},m(ee(v)),3)])):(p(),f("div",_a,[...x[21]||(x[21]=[e("span",{class:"font-medium text-gray-700"},"Value Change:",-1),e("span",{class:"ml-2 text-gray-500"},"Not available",-1)])]))]),e("div",Ca,[x[22]||(x[22]=e("span",{class:"font-medium text-gray-700"},"Description:",-1)),e("p",Va,m((v==null?void 0:v.description)||"No description provided"),1)])])):k("",!0)]))),128))]))])])]),z(zn,{show:P.value,asset:B.value,errors:O.value,onClose:l,onSave:r},null,8,["show","asset","errors"]),E.value?(p(),f("div",Sa,[e("div",Na,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:$}),e("div",Da,[e("div",Ma,[e("div",Ea,[x[25]||(x[25]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",Ba,[x[24]||(x[24]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Asset ",-1)),e("div",Ia,[x[23]||(x[23]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this asset? This action cannot be undone and will permanently remove the asset from your records. ",-1)),C.value!==null&&t[C.value]?(p(),f("div",Aa,[e("p",Pa,m(t[C.value].asset_name),1),e("p",Ua,m(o(t[C.value].cost_of_acquisition)),1)])):k("",!0)])])])]),e("div",Oa,[e("button",{type:"button",onClick:x[0]||(x[0]=v=>be(C.value)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete Asset "),e("button",{type:"button",onClick:$,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):k("",!0)],64))}},Yd=ce(qa,[["__scopeId","data-v-9f03c4b9"]]),Fa={class:"expenses-management-section"},za={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ta={class:"px-6 py-4 border-b border-gray-200"},La={class:"flex items-center justify-between"},Ha={class:"flex items-center space-x-4"},ja={class:"text-right mr-4"},Ra={class:"text-lg font-semibold text-gray-900"},Ya=["disabled"],Za={class:"p-6"},Wa={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},Ka={class:"flex"},Ga={class:"flex-shrink-0"},Ja={key:0,class:"text-center py-12"},Xa={class:"mt-6"},Qa=["disabled"],ei={key:1,class:"space-y-4"},ti=["onClick"],si={class:"flex items-center space-x-3"},oi={class:"flex-shrink-0"},li={class:"text-lg font-medium text-gray-900"},ri={class:"text-sm text-gray-500"},ni={key:0},ai={key:1},ii={class:"flex items-center space-x-2"},di=["onClick"],ui=["onClick","disabled"],mi=["onClick","disabled"],ci={class:"px-4 pb-4 border-t border-gray-100"},pi={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"},fi={class:"ml-2 text-gray-900"},gi={class:"ml-2 text-gray-900"},bi={class:"ml-2 text-gray-900"},xi={class:"ml-2 text-gray-900"},yi={key:0},vi={class:"ml-2 text-gray-900"},hi={key:1},wi={class:"ml-2 text-gray-900"},ki={key:2},$i={class:"ml-2 text-gray-900"},_i={key:0,class:"mt-4"},Ci={class:"mt-1 text-gray-900"},Vi={key:2,class:"mt-6 text-center"},Si=["disabled"],Ni={key:3,class:"mt-6 bg-white rounded-lg border border-gray-200 shadow-sm"},Di={class:"p-6"},Mi={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Ei={class:"flex flex-col items-center"},Bi={class:"relative w-80 h-80"},Ii=["id"],Ai={class:"mt-4 text-center"},Pi={class:"text-2xl font-bold text-gray-900"},Ui={class:"space-y-6"},Oi={class:"grid grid-cols-2 gap-4"},qi={class:"bg-blue-50 rounded-lg p-4 text-center"},Fi={class:"text-2xl font-bold text-blue-600"},zi={class:"bg-green-50 rounded-lg p-4 text-center"},Ti={class:"text-2xl font-bold text-green-600"},Li={class:"space-y-3"},Hi={class:"flex items-center space-x-3"},ji={class:"font-medium text-gray-900"},Ri={class:"text-sm text-gray-500"},Yi={class:"text-right"},Zi={class:"font-semibold text-gray-900"},Wi={class:"text-sm text-gray-500"},Ki={key:0},Gi={class:"space-y-3"},Ji={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-lg"},Xi={class:"flex items-center space-x-3"},Qi={class:"text-right"},ed={class:"font-semibold text-blue-900"},td={class:"text-sm text-blue-700"},sd={key:1,class:"flex items-center justify-between p-3 bg-purple-50 rounded-lg"},od={class:"flex items-center space-x-3"},ld={class:"text-right"},rd={class:"font-semibold text-purple-900"},nd={class:"text-sm text-purple-700"},ad={key:1},id={class:"space-y-3"},dd={key:0,class:"flex items-center justify-between p-3 bg-green-50 rounded-lg"},ud={class:"text-right"},md={class:"font-semibold text-green-900"},cd={class:"text-sm text-green-700"},pd={key:1,class:"flex items-center justify-between p-3 bg-red-50 rounded-lg"},fd={class:"text-right"},gd={class:"font-semibold text-red-900"},bd={class:"text-sm text-red-700"},xd={key:4,class:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4"},yd={class:"flex"},vd={class:"flex-shrink-0"},hd={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},wd={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},kd={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},$d={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},_d={class:"sm:flex sm:items-start"},Cd={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Vd={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Sd={class:"mt-2"},Nd={key:0,class:"mt-3 p-3 bg-gray-50 rounded-md"},Dd={class:"text-sm font-medium text-gray-900"},Md={class:"text-sm text-gray-500"},Ed={__name:"ExpensesManagementSection",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","update","validate"],setup(n,{emit:S}){const c=n,N=S,t=G([]),a=T(""),P=G({}),B=G({}),O=T(!1),E=T(!1),C=T(null),i=T({}),o=T(!1),h=T(null),U=T(null);let d=null;const D=["#3B82F6","#EF4444","#10B981","#8B5CF6","#F59E0B","#EC4899","#6366F1","#84CC16","#F97316","#06B6D4"],Q=[{key:"category",label:"Category",type:"select",required:!0,placeholder:"Select category",options:[{value:"miscellaneous",label:"Miscellaneous"},{value:"residency",label:"Residency"},{value:"business",label:"Business"},{value:"medical",label:"Medical"},{value:"education",label:"Education"},{value:"charitable",label:"Charitable"},{value:"travel",label:"Travel"},{value:"office",label:"Office Supplies"},{value:"professional",label:"Professional Services"},{value:"other",label:"Other"}]},{key:"particulars",label:"Particulars",type:"text",required:!0,placeholder:"Describe the expense",maxLength:200},{key:"date",label:"Date",type:"date",required:!0},{key:"amount",label:"Amount",type:"currency",required:!0,placeholder:"0.00",validate:_=>_&&(isNaN(_)||parseFloat(_)<=0)?"Amount must be a positive number":null},{key:"taxPayer",label:"Taxpayer",type:"text",placeholder:"Taxpayer name",maxLength:100},{key:"spouse",label:"Spouse",type:"text",placeholder:"Spouse name (if applicable)",maxLength:100},{key:"receiptNumber",label:"Receipt Number",type:"text",placeholder:"Receipt/Invoice number",maxLength:255},{key:"deductiblePercentage",label:"Deductible %",type:"percentage",placeholder:"0-100",validate:_=>_&&(isNaN(_)||parseFloat(_)<0||parseFloat(_)>100)?"Percentage must be between 0 and 100":null},{key:"remarks",label:"Remarks",type:"textarea",placeholder:"Additional notes or comments...",rows:2}],re=K(()=>a.value?t.filter(_=>_.category===a.value):t),J=K(()=>t.reduce((_,b)=>_+(parseFloat(b.amount)||0),0)),ee=K(()=>t.reduce((_,b)=>b.taxPayer&&b.taxPayer.trim()?_+(parseFloat(b.amount)||0):_,0)),A=K(()=>t.reduce((_,b)=>b.spouse&&b.spouse.trim()?_+(parseFloat(b.amount)||0):_,0)),s=K(()=>{const _={};return t.forEach(b=>{var M,te;const W=b.category||"other",ne=((te=(M=Q.find(se=>se.key==="category"))==null?void 0:M.options.find(se=>se.value===W))==null?void 0:te.label)||"Other";_[W]||(_[W]={name:ne,count:0,amount:0}),_[W].count++,_[W].amount+=parseFloat(b.amount)||0}),Object.values(_).sort((b,W)=>W.amount-b.amount)}),y=K(()=>t.reduce((_,b)=>{const W=parseFloat(b.amount)||0,ne=parseFloat(b.deductible_percentage)||0;return _+W*(ne/100)},0)),l=K(()=>J.value-y.value),r=K(()=>s.value.length===0?null:{labels:s.value.map(_=>_.name),datasets:[{data:s.value.map(_=>_.amount),backgroundColor:D.slice(0,s.value.length),borderWidth:2,borderColor:"#ffffff",hoverBorderWidth:3,hoverBorderColor:"#ffffff"}]}),Y=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_||0),ie=_=>_?new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",pe=_=>_?_.replace("_"," ").replace(/\b\w/g,b=>b.toUpperCase()):"",be=_=>({business:"bg-blue-100 text-blue-800",medical:"bg-red-100 text-red-800",education:"bg-green-100 text-green-800",charitable:"bg-purple-100 text-purple-800",travel:"bg-yellow-100 text-yellow-800",office:"bg-indigo-100 text-indigo-800",professional:"bg-pink-100 text-pink-800",miscellaneous:"bg-gray-100 text-gray-800",residency:"bg-orange-100 text-orange-800"})[_]||"bg-gray-100 text-gray-800",$=_=>{P[_]=!P[_]},w=()=>{},u=(_=null)=>{C.value=_,i.value={},O.value=!0},L=()=>{O.value=!1,C.value=null,i.value={}},g=_=>{C.value=_,E.value=!0},x=()=>{E.value=!1,C.value=null},v=_=>{x(),u(_)},j=_=>{const b=qe(_);if(Object.keys(b).length>0){i.value=b;return}if(_.id){const W=t.findIndex(ne=>ne.id===_.id);W!==-1&&(t[W]={..._})}else{const W={..._,id:Date.now()};t.push(W)}N("update:modelValue",[...t]),N("update",[...t]),setTimeout(()=>{ye()},50),L()},X=_=>{h.value={expense:t[_],index:_},o.value=!0},xe=()=>{o.value=!1,h.value=null},Oe=()=>{h.value&&(t.splice(h.value.index,1),N("update:modelValue",[...t]),N("update",[...t]),setTimeout(()=>{ye()},50)),xe()},qe=_=>{const b={};return _.category||(b.category="Category is required"),(!_.particulars||_.particulars.trim().length===0)&&(b.particulars="Description is required"),_.date||(b.date="Date is required"),(!_.amount||parseFloat(_.amount)<=0)&&(b.amount="Amount must be greater than 0"),_.taxPayer||(b.taxPayer="Tax payer is required"),b},he=async()=>{if(!(!U.value||!r.value||r.value.datasets[0].data.length===0))try{const{Chart:_,ArcElement:b,Tooltip:W,Legend:ne,DoughnutController:M}=await je(async()=>{const{Chart:se,ArcElement:we,Tooltip:ve,Legend:ke,DoughnutController:$e}=await import("./chart-B6x78Jwj.js");return{Chart:se,ArcElement:we,Tooltip:ve,Legend:ke,DoughnutController:$e}},[]);_.register(b,W,ne,M);const te=U.value.getContext("2d");d&&(d.destroy(),d=null),d=new _(te,{type:"doughnut",data:r.value,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(se){const we=se.label||"",ve=se.parsed,ke=se.dataset.data.reduce((Fe,ze)=>Fe+ze,0),$e=(ve/ke*100).toFixed(1);return`${we}: ${Y(ve)} (${$e}%)`}},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#ffffff",borderWidth:1}},cutout:"60%",animation:{animateRotate:!0,duration:1e3}}})}catch(_){console.error("Error initializing chart:",_)}},ye=async()=>{if(!r.value||r.value.datasets[0].data.length===0){d&&(d.destroy(),d=null);return}if(d&&d.canvas)try{d.data=r.value,d.update("active")}catch(_){console.error("Error updating chart:",_),d&&(d.destroy(),d=null),await de(),he()}else await de(),he()},Ve=()=>{t.splice(0,t.length),c.modelValue&&Array.isArray(c.modelValue)&&t.push(...c.modelValue.map(_=>({..._})))};return Z(()=>c.errors,_=>{Object.keys(B).forEach(b=>delete B[b]),Object.assign(B,_)},{deep:!0}),Z(()=>c.modelValue,async()=>{Ve(),await de(),ye()},{deep:!0}),Z(r,async()=>{await de(),ye()},{deep:!0}),ge(async()=>{Ve(),await de(),t.length>0&&setTimeout(()=>{he()},100)}),Te(()=>{d&&(d.destroy(),d=null)}),(_,b)=>{var W,ne;return p(),f("div",Fa,[e("div",za,[e("div",Ta,[e("div",La,[b[7]||(b[7]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Expense Details"),e("p",{class:"text-sm text-gray-600 mt-1"},"Add and manage your deductible expenses")],-1)),e("div",Ha,[V(e("select",{"onUpdate:modelValue":b[0]||(b[0]=M=>a.value=M),class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-gray-900",onChange:w},[...b[4]||(b[4]=[H('<option value="" data-v-37062d15>All Categories</option><option value="miscellaneous" data-v-37062d15>Miscellaneous</option><option value="residency" data-v-37062d15>Residency</option><option value="business" data-v-37062d15>Business</option><option value="medical" data-v-37062d15>Medical</option><option value="education" data-v-37062d15>Education</option><option value="charitable" data-v-37062d15>Charitable</option>',7)])],544),[[le,a.value]]),e("div",ja,[b[5]||(b[5]=e("p",{class:"text-sm text-gray-500"},"Total Expenses",-1)),e("p",Ra,m(Y(J.value)),1)]),e("button",{onClick:b[1]||(b[1]=M=>u()),disabled:n.readonly,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[z(R(ue),{class:"w-4 h-4 mr-1"}),b[6]||(b[6]=F(" Add Expense ",-1))],8,Ya)])])]),e("div",Za,[e("div",Wa,[e("div",Ka,[e("div",Ga,[z(R(_e),{class:"h-5 w-5 text-blue-400"})]),b[8]||(b[8]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Expense Information Guidelines "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Keep detailed records and receipts for all business expenses"),e("li",null,"Separate personal and business expenses for accurate deductions"),e("li",null,"Include both taxpayer and spouse expenses when applicable"),e("li",null,"Categorize expenses properly for maximum tax benefits")])])],-1))])]),t.length===0?(p(),f("div",Ja,[z(R(Ze),{class:"mx-auto h-12 w-12 text-gray-400"}),b[10]||(b[10]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No expenses",-1)),b[11]||(b[11]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first deductible expense.",-1)),e("div",Xa,[e("button",{onClick:b[2]||(b[2]=M=>u()),disabled:n.readonly,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[z(R(ue),{class:"w-4 h-4 mr-2"}),b[9]||(b[9]=F(" Add Expense ",-1))],8,Qa)])])):(p(),f("div",ei,[(p(!0),f(ae,null,me(re.value,(M,te)=>(p(),f("div",{key:M.id||te,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",{class:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:se=>$(te)},[e("div",si,[e("div",oi,[e("div",{class:q([be(M==null?void 0:M.category),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize"])},m(pe(M==null?void 0:M.category)),3)]),e("div",null,[e("h3",li,m((M==null?void 0:M.particulars)||`Expense ${te+1}`),1),e("p",ri,[F(m(Y(M==null?void 0:M.amount))+" ",1),M!=null&&M.tax_payer?(p(),f("span",ni," "+m(M.tax_payer),1)):k("",!0),M!=null&&M.expense_date?(p(),f("span",ai," "+m(ie(M.expense_date)),1)):k("",!0)])])]),e("div",ii,[e("button",{onClick:oe(se=>g(M),["stop"]),class:"text-blue-600 hover:text-blue-800"},[...b[12]||(b[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,di),e("button",{onClick:oe(se=>u(M),["stop"]),disabled:n.readonly,class:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed"},[...b[13]||(b[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ui),e("button",{onClick:oe(se=>X(te),["stop"]),disabled:n.readonly,class:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"},[z(R(Ce),{class:"w-4 h-4"})],8,mi),(p(),f("svg",{class:q(["w-5 h-5 text-gray-400 transition-transform",P[te]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...b[14]||(b[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,ti),V(e("div",ci,[e("div",pi,[e("div",null,[b[15]||(b[15]=e("span",{class:"font-medium text-gray-700"},"Category:",-1)),e("span",fi,m(pe(M==null?void 0:M.category)||"Not set"),1)]),e("div",null,[b[16]||(b[16]=e("span",{class:"font-medium text-gray-700"},"Amount:",-1)),e("span",gi,m(Y(M==null?void 0:M.amount)||"Not set"),1)]),e("div",null,[b[17]||(b[17]=e("span",{class:"font-medium text-gray-700"},"Date:",-1)),e("span",bi,m(ie(M==null?void 0:M.expense_date)||"Not set"),1)]),e("div",null,[b[18]||(b[18]=e("span",{class:"font-medium text-gray-700"},"Taxpayer:",-1)),e("span",xi,m((M==null?void 0:M.tax_payer)||"Not set"),1)]),M!=null&&M.spouse?(p(),f("div",yi,[b[19]||(b[19]=e("span",{class:"font-medium text-gray-700"},"Spouse:",-1)),e("span",vi,m(M.spouse),1)])):k("",!0),M!=null&&M.deductible_percentage?(p(),f("div",hi,[b[20]||(b[20]=e("span",{class:"font-medium text-gray-700"},"Deductible:",-1)),e("span",wi,m(M.deductible_percentage)+"%",1)])):k("",!0),M!=null&&M.receipt_number?(p(),f("div",ki,[b[21]||(b[21]=e("span",{class:"font-medium text-gray-700"},"Receipt #:",-1)),e("span",$i,m(M.receipt_number),1)])):k("",!0)]),M!=null&&M.remarks?(p(),f("div",_i,[b[22]||(b[22]=e("span",{class:"font-medium text-gray-700"},"Remarks:",-1)),e("p",Ci,m(M.remarks),1)])):k("",!0)],512),[[Le,P[te]]])]))),128))])),t.length>0?(p(),f("div",Vi,[e("button",{onClick:b[3]||(b[3]=M=>u()),disabled:n.readonly,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[z(R(ue),{class:"w-4 h-4 mr-2"}),b[23]||(b[23]=F(" Add Another Expense ",-1))],8,Si)])):k("",!0),t.length>0?(p(),f("div",Ni,[b[34]||(b[34]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Expense Analytics"),e("p",{class:"text-sm text-gray-600 mt-1"},"Visual breakdown of your expenses by category")],-1)),e("div",Di,[e("div",Mi,[e("div",Ei,[e("div",Bi,[e("canvas",{ref_key:"pieChartCanvas",ref:U,id:`expense-chart-${Math.random().toString(36).substr(2,9)}`,class:"max-w-full max-h-full"},null,8,Ii)]),e("div",Ai,[e("p",Pi,m(Y(J.value)),1),b[24]||(b[24]=e("p",{class:"text-sm text-gray-500"},"Total Expenses",-1))])]),e("div",Ui,[e("div",Oi,[e("div",qi,[e("div",Fi,m(t.length),1),b[25]||(b[25]=e("div",{class:"text-sm text-blue-800"},"Total Expenses",-1))]),e("div",zi,[e("div",Ti,m(s.value.length),1),b[26]||(b[26]=e("div",{class:"text-sm text-green-800"},"Categories",-1))])]),e("div",null,[b[27]||(b[27]=e("h4",{class:"text-md font-semibold text-gray-900 mb-4"},"Category Breakdown",-1)),e("div",Li,[(p(!0),f(ae,null,me(s.value,(M,te)=>(p(),f("div",{key:M.name,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",Hi,[e("div",{class:"w-4 h-4 rounded-full",style:He({backgroundColor:D[te%D.length]})},null,4),e("div",null,[e("p",ji,m(M.name),1),e("p",Ri,m(M.count)+" expense"+m(M.count!==1?"s":""),1)])]),e("div",Yi,[e("p",Zi,m(Y(M.amount)),1),e("p",Wi,m((M.amount/J.value*100).toFixed(1))+"%",1)])]))),128))])]),ee.value>0||A.value>0?(p(),f("div",Ki,[b[30]||(b[30]=e("h4",{class:"text-md font-semibold text-gray-900 mb-4"},"Taxpayer vs Spouse",-1)),e("div",Gi,[ee.value>0?(p(),f("div",Ji,[e("div",Xi,[z(R(Ke),{class:"w-5 h-5 text-blue-600"}),b[28]||(b[28]=e("span",{class:"font-medium text-blue-900"},"Taxpayer",-1))]),e("div",Qi,[e("p",ed,m(Y(ee.value)),1),e("p",td,m((ee.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0),A.value>0?(p(),f("div",sd,[e("div",od,[z(R(We),{class:"w-5 h-5 text-purple-600"}),b[29]||(b[29]=e("span",{class:"font-medium text-purple-900"},"Spouse",-1))]),e("div",ld,[e("p",rd,m(Y(A.value)),1),e("p",nd,m((A.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0)])])):k("",!0),y.value>0||l.value>0?(p(),f("div",ad,[b[33]||(b[33]=e("h4",{class:"text-md font-semibold text-gray-900 mb-4"},"Tax Deductibility",-1)),e("div",id,[y.value>0?(p(),f("div",dd,[b[31]||(b[31]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-green-500 rounded-full"}),e("span",{class:"font-medium text-green-900"},"Deductible")],-1)),e("div",ud,[e("p",md,m(Y(y.value)),1),e("p",cd,m((y.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0),l.value>0?(p(),f("div",pd,[b[32]||(b[32]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-red-500 rounded-full"}),e("span",{class:"font-medium text-red-900"},"Non-Deductible")],-1)),e("div",fd,[e("p",gd,m(Y(l.value)),1),e("p",bd,m((l.value/J.value*100).toFixed(1))+"%",1)])])):k("",!0)])])):k("",!0)])])])])):k("",!0),t.length>0?(p(),f("div",xd,[e("div",yd,[e("div",vd,[z(R(Ne),{class:"h-5 w-5 text-blue-400"})]),b[35]||(b[35]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Tax Deduction Information "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Business expenses are generally fully deductible"),e("li",null,"Personal expenses may have limitations or require itemization"),e("li",null,"Medical expenses must exceed 7.5% of AGI to be deductible"),e("li",null,"Charitable contributions have specific documentation requirements"),e("li",null,"Consult with your tax professional for specific deduction rules")])])],-1))])])):k("",!0)])]),z(Pe,{show:O.value,expense:C.value,errors:i.value,onClose:L,onSave:j},null,8,["show","expense","errors"]),z(Ue,{show:E.value,expense:C.value,onClose:x,onEdit:v},null,8,["show","expense"]),o.value?(p(),f("div",hd,[e("div",wd,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:xe}),e("div",kd,[e("div",$d,[e("div",_d,[e("div",Cd,[z(R(Ne),{class:"h-6 w-6 text-red-600"})]),e("div",Vd,[b[37]||(b[37]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Expense ",-1)),e("div",Sd,[b[36]||(b[36]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this expense? This action cannot be undone. ",-1)),h.value?(p(),f("div",Nd,[e("p",Dd,m((W=h.value.expense)==null?void 0:W.particulars),1),e("p",Md,m(Y((ne=h.value.expense)==null?void 0:ne.amount)),1)])):k("",!0)])])])]),e("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[e("button",{type:"button",onClick:Oe,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete "),e("button",{type:"button",onClick:xe,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):k("",!0)])}}},Zd=ce(Ed,[["__scopeId","data-v-37062d15"]]);export{Yd as A,jd as E,Ld as P,Hd as S,Td as a,Rd as b,Zd as c,Je as d,Ge as r};
