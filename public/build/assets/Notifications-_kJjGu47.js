import{l as x,q as w,b as h,w as k,a as e,c as l,f as g,d as u,u as i,o,F as C,r as $,p as f,t as n,x as V,N as v}from"./app-CPDEXo_u.js";import{h as p,A as B}from"./AppLayout-CpajQrFr.js";import{r as J}from"./ArrowRightIcon-BF0glxUF.js";import{r as y}from"./CheckCircleIcon-ChqxfYwm.js";import{r as L}from"./XMarkIcon-BvNcM4Wf.js";import{r as R}from"./TrashIcon-CeAiODbn.js";import{r as z}from"./DocumentTextIcon-1dql7h9p.js";import{r as Z}from"./ExclamationTriangleIcon-DzLIUzNx.js";import{r as E}from"./InformationCircleIcon-C-7Y2fEy.js";import{r as F}from"./UserIcon-DHQCqeT6.js";const I={class:"relative overflow-hidden"},H={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},Y={class:"flex items-center space-x-4"},q={class:"w-14 h-14 bg-gradient-to-br from-emerald-500 via-emerald-600 to-green-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100"},O={class:"flex items-center space-x-4 mt-3"},W={class:"flex items-center space-x-2"},G={class:"text-xs font-semibold text-emerald-700"},K={class:"flex items-center space-x-2"},P={class:"text-xs font-semibold text-blue-700"},Q={class:"flex items-center space-x-3"},X={class:"py-6"},ee={class:"max-w-6xl mx-auto sm:px-6 lg:px-4"},te={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden mb-8"},re={class:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 py-5 border-b border-gray-200"},se={class:"flex items-center justify-between"},oe={class:"flex items-center space-x-2"},ae={class:"p-6"},le={class:"flex flex-wrap gap-2"},ne=["onClick"],ie={class:"bg-white shadow-xl rounded-2xl border border-gray-100 overflow-hidden"},de={key:0,class:"p-12 text-center"},ce={class:"w-14 h-14 bg-gradient-to-br from-emerald-100 to-green-200 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner"},ue={key:1,class:"divide-y divide-gray-100"},me={class:"flex items-start space-x-4"},ge={class:"flex-shrink-0"},fe={class:"flex-1 min-w-0"},xe={class:"flex items-center justify-between mb-2"},he={class:"text-lg font-bold text-gray-900"},pe={class:"flex items-center space-x-3"},ve={class:"text-sm font-medium text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},ye={key:0,class:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"},be={class:"text-sm text-gray-700 leading-relaxed mb-3"},_e={key:0,class:"flex items-center justify-between"},we=["href"],ke={class:"flex-shrink-0"},Ce=["onClick"],$e={key:0,class:"mt-8 text-center"},Ne=["disabled"],Se={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ze={__name:"Notifications",setup(Ae){const d=x("all"),m=x(!1),b=x(!0),a=x([{id:1,type:"client_update",title:"Client Information Updated",message:"John Doe has updated their personal information.",read:!1,created_at:"2024-01-15T10:30:00Z",action_url:"/admin/clients/1",action_text:"View Client"},{id:2,type:"system",title:"System Maintenance Scheduled",message:"Scheduled maintenance will occur on January 20th from 2-4 AM EST.",read:!1,created_at:"2024-01-14T15:45:00Z"},{id:3,type:"success",title:"Tax Return Completed",message:"Tax return for Jane Smith has been successfully processed.",read:!0,created_at:"2024-01-13T09:15:00Z",action_url:"/admin/clients/2/tax-returns",action_text:"View Return"},{id:4,type:"warning",title:"Document Missing",message:"W-2 form is missing for client Michael Johnson.",read:!0,created_at:"2024-01-12T14:20:00Z",action_url:"/admin/clients/3/documents"}]),N=w(()=>[{key:"all",name:"All",count:a.value.length},{key:"unread",name:"Unread",count:a.value.filter(r=>!r.read).length},{key:"client_update",name:"Client Updates",count:a.value.filter(r=>r.type==="client_update").length},{key:"system",name:"System",count:a.value.filter(r=>r.type==="system").length}]),_=w(()=>d.value==="all"?a.value:d.value==="unread"?a.value.filter(r=>!r.read):a.value.filter(r=>r.type===d.value)),S=r=>{const t={client_update:F,system:E,success:y,warning:Z,document:z,default:p};return t[r]||t.default},A=r=>{const t={client_update:"bg-gradient-to-br from-blue-100 to-indigo-200 text-blue-600",system:"bg-gradient-to-br from-gray-100 to-slate-200 text-gray-600",success:"bg-gradient-to-br from-green-100 to-emerald-200 text-green-600",warning:"bg-gradient-to-br from-yellow-100 to-amber-200 text-yellow-600",document:"bg-gradient-to-br from-purple-100 to-violet-200 text-purple-600",default:"bg-gradient-to-br from-gray-100 to-slate-200 text-gray-600"};return t[r]||t.default},M=r=>{const t=new Date(r),c=Math.floor((new Date-t)/(1e3*60*60));return c<1?"Just now":c<24?`${c}h ago`:c<48?"Yesterday":t.toLocaleDateString()},T=r=>{r.read=!r.read;const t=$page.props.auth.user,s=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="tax_professional"?"/admin":"/client";v.patch(`${s}/notifications/${r.id}/toggle-read`,{},{preserveScroll:!0})},D=()=>{a.value.forEach(s=>s.read=!0);const r=$page.props.auth.user,t=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="tax_professional"?"/admin":"/client";v.post(`${t}/notifications/mark-all-read`,{},{preserveScroll:!0})},j=()=>{if(confirm("Are you sure you want to clear all notifications?")){a.value=[];const r=$page.props.auth.user,t=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="tax_professional"?"/admin":"/client";v.delete(`${t}/notifications/clear-all`,{preserveScroll:!0})}},U=()=>{m.value=!0,setTimeout(()=>{m.value=!1,b.value=!1},1e3)};return(r,t)=>(o(),h(B,{title:"Notifications"},{header:k(()=>[e("div",I,[t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-emerald-50 to-green-50"},null,-1)),t[7]||(t[7]=e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-emerald-100/40 to-transparent rounded-bl-full"},null,-1)),t[8]||(t[8]=e("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-green-100/30 to-transparent rounded-tr-full"},null,-1)),e("div",H,[e("div",Y,[e("div",q,[u(i(p),{class:"w-8 h-8 text-white"})]),e("div",null,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-emerald-900 to-green-900 bg-clip-text text-transparent"}," Notifications ",-1)),t[3]||(t[3]=e("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Stay updated with your latest notifications",-1)),e("div",O,[e("div",W,[t[0]||(t[0]=e("div",{class:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"},null,-1)),e("span",G,n(a.value.length)+" Total",1)]),e("div",K,[t[1]||(t[1]=e("div",{class:"w-2 h-2 bg-blue-400 rounded-full"},null,-1)),e("span",P,n(a.value.filter(s=>!s.read).length)+" Unread",1)])])])]),e("div",Q,[e("button",{onClick:D,class:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[u(i(y),{class:"w-5 h-5 mr-2"}),t[4]||(t[4]=e("span",{class:"font-semibold"},"Mark All Read",-1))]),e("button",{onClick:j,class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl flex items-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 group"},[u(i(R),{class:"w-5 h-5 mr-2"}),t[5]||(t[5]=e("span",{class:"font-semibold"},"Clear All",-1))])])])])]),default:k(()=>[e("div",X,[e("div",ee,[e("div",te,[e("div",re,[e("div",se,[t[9]||(t[9]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Filter Notifications"),e("p",{class:"text-sm text-gray-600 mt-1"},"Organize your notifications by category")],-1)),e("div",oe,[u(i(p),{class:"w-5 h-5 text-gray-400"})])])]),e("div",ae,[e("nav",le,[(o(!0),l(C,null,$(N.value,s=>(o(),l("button",{key:s.key,onClick:c=>d.value=s.key,class:f([d.value===s.key?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-emerald-50 hover:text-emerald-700 border border-gray-200 hover:border-emerald-200","px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center space-x-2"])},[e("span",null,n(s.name),1),s.count>0?(o(),l("span",{key:0,class:f([d.value===s.key?"bg-white/20 text-white":"bg-emerald-100 text-emerald-700","px-2 py-0.5 rounded-full text-xs font-bold"])},n(s.count),3)):g("",!0)],10,ne))),128))])])]),e("div",ie,[_.value.length===0?(o(),l("div",de,[e("div",ce,[u(i(p),{class:"w-8 h-8 text-emerald-600"})]),t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No notifications found",-1)),t[11]||(t[11]=e("p",{class:"text-gray-500"},"You're all caught up! No notifications match your current filter.",-1))])):(o(),l("ul",ue,[(o(!0),l(C,null,$(_.value,s=>(o(),l("li",{key:s.id,class:f(["p-6 hover:bg-gradient-to-r hover:from-emerald-50 hover:to-green-50 transition-all duration-200 group",s.read?"":"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400"])},[e("div",me,[e("div",ge,[e("div",{class:f(["w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",A(s.type)])},[(o(),h(V(S(s.type)),{class:"w-6 h-6"}))],2)]),e("div",fe,[e("div",xe,[e("h4",he,n(s.title),1),e("div",pe,[e("span",ve,n(M(s.created_at)),1),s.read?g("",!0):(o(),l("div",ye))])]),e("p",be,n(s.message),1),s.action_url?(o(),l("div",_e,[e("a",{href:s.action_url,class:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center"},[e("span",null,n(s.action_text||"View Details"),1),u(i(J),{class:"w-4 h-4 ml-2"})],8,we)])):g("",!0)]),e("div",ke,[e("button",{onClick:c=>T(s),class:f(["p-2 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500",s.read?"text-gray-400 hover:bg-gray-100 hover:text-gray-600":"text-blue-600 hover:bg-blue-100 hover:text-blue-700"])},[s.read?(o(),h(i(L),{key:1,class:"w-5 h-5"})):(o(),h(i(y),{key:0,class:"w-5 h-5"}))],10,Ce)])])],2))),128))]))])]),b.value?(o(),l("div",$e,[e("button",{onClick:U,class:"bg-gradient-to-r from-slate-500 to-gray-600 hover:from-slate-600 hover:to-gray-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center mx-auto",disabled:m.value},[m.value?(o(),l("svg",Se,[...t[12]||(t[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):g("",!0),e("span",null,n(m.value?"Loading...":"Load More Notifications"),1)],8,Ne)])):g("",!0)])]),_:1}))}};export{ze as default};
