import{T as v,b as k,w as g,a as t,c as d,f as c,t as o,o as l,F as w,r as _,g as C,h as A,p as u,u as n,v as S,d as T,i as j,e as B}from"./app-DCZmz_Tv.js";import{A as D}from"./AppLayout-BMFjVIlg.js";const z={class:"relative overflow-hidden"},M={class:"relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},N={class:"flex items-center space-x-4"},U={class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-cyan-900 to-blue-900 bg-clip-text text-transparent"},V={class:"mt-2 text-sm text-gray-600 font-medium"},L={class:"flex items-center space-x-3 mt-3"},F={class:"space-y-6"},R={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},P={class:"lg:col-span-2 space-y-6"},E={class:"bg-white rounded-lg shadow p-6"},I={class:"grid grid-cols-2 gap-4 mb-6"},O={class:"text-gray-900 font-semibold mt-1"},$={class:"text-gray-900 font-semibold mt-1"},q={key:0},G={class:"text-gray-900 font-semibold mt-1"},H={key:1},J={class:"text-gray-900 font-semibold mt-1"},K={class:"border-t border-gray-200 pt-6"},Q={class:"text-gray-700 whitespace-pre-wrap"},W={class:"bg-white rounded-lg shadow p-6"},X={class:"space-y-4 mb-6 max-h-96 overflow-y-auto"},Y={class:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center flex-shrink-0"},Z={class:"text-white font-bold text-sm"},tt={class:"flex-1"},et={class:"flex items-center gap-2 mb-1"},st={class:"font-semibold text-gray-900"},ot={class:"text-xs text-gray-500"},it={class:"text-gray-700 whitespace-pre-wrap text-sm"},at={key:0,class:"text-center py-8"},rt={key:0,class:"text-red-600 text-sm mt-1"},lt=["disabled"],nt={class:"space-y-4"},dt={class:"bg-white rounded-lg shadow p-4"},ct={class:"space-y-3 text-sm"},mt={class:"font-mono text-gray-900"},gt={class:"text-gray-900 capitalize"},ut={class:"text-gray-900 capitalize"},xt={class:"text-gray-900 capitalize"},bt={key:0,class:"bg-white rounded-lg shadow p-4"},yt={class:"flex items-center gap-3"},ft={class:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center"},pt={class:"text-white font-bold text-sm"},ht={class:"font-semibold text-gray-900"},vt={class:"text-xs text-gray-600"},_t={__name:"Show",props:{ticket:Object},setup(s){const x={open:"bg-blue-100 text-blue-800",in_progress:"bg-amber-100 text-amber-800",resolved:"bg-emerald-100 text-emerald-800",closed:"bg-gray-100 text-gray-800"},b={low:"bg-emerald-100 text-emerald-800",medium:"bg-amber-100 text-amber-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"},a=v({message:""}),y=i=>i.replace("_"," ").charAt(0).toUpperCase()+i.slice(1).replace("_"," "),f=i=>i.charAt(0).toUpperCase()+i.slice(1),p=i=>i.charAt(0).toUpperCase()+i.slice(1),m=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=()=>{a.post(`/client/support-tickets/${route().params.supportTicket}/reply`,{onSuccess:()=>{a.reset(),window.location.reload()}})};return(i,e)=>(l(),k(D,null,{header:g(()=>[t("div",z,[e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-cyan-50 to-blue-50"},null,-1)),e[4]||(e[4]=t("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-cyan-100/40 to-transparent rounded-bl-full"},null,-1)),e[5]||(e[5]=t("div",{class:"absolute bottom-0 left-0 w-48 h-24 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-tr-full"},null,-1)),t("div",M,[t("div",N,[e[2]||(e[2]=t("div",{class:"w-14 h-14 bg-gradient-to-br from-cyan-500 via-cyan-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-cyan-100"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),t("div",null,[T(n(j),{href:"/client/support-tickets",class:"inline-flex items-center text-cyan-600 hover:text-cyan-700 mb-2 font-medium transition-colors duration-200"},{default:g(()=>[...e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),B(" Back to Tickets ",-1)])]),_:1}),t("h1",U,o(s.ticket.ticket_number),1),t("p",V,o(s.ticket.subject),1),t("div",L,[t("span",{class:u(["px-3 py-1 text-xs font-semibold rounded-full",x[s.ticket.status]])},o(y(s.ticket.status)),3),t("span",{class:u(["px-3 py-1 text-xs font-semibold rounded-full",b[s.ticket.priority]])},o(f(s.ticket.priority)),3)])])])])])]),default:g(()=>[t("div",F,[t("div",R,[t("div",P,[t("div",E,[e[11]||(e[11]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Ticket Details",-1)),t("div",I,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-gray-600 text-sm font-medium"},"Category",-1)),t("p",O,o(p(s.ticket.category)),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-gray-600 text-sm font-medium"},"Created",-1)),t("p",$,o(m(s.ticket.created_at)),1)]),s.ticket.assigned_to?(l(),d("div",q,[e[8]||(e[8]=t("p",{class:"text-gray-600 text-sm font-medium"},"Assigned To",-1)),t("p",G,o(s.ticket.assigned_to.first_name)+" "+o(s.ticket.assigned_to.last_name),1)])):c("",!0),s.ticket.resolved_at?(l(),d("div",H,[e[9]||(e[9]=t("p",{class:"text-gray-600 text-sm font-medium"},"Resolved",-1)),t("p",J,o(m(s.ticket.resolved_at)),1)])):c("",!0)]),t("div",K,[e[10]||(e[10]=t("h4",{class:"text-base font-semibold text-gray-900 mb-3"},"Description",-1)),t("p",Q,o(s.ticket.description),1)])]),t("div",W,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Conversation",-1)),t("div",X,[(l(!0),d(w,null,_(s.ticket.replies,r=>(l(),d("div",{key:r.id,class:"flex gap-4"},[t("div",Y,[t("span",Z,o(r.user.first_name.charAt(0)),1)]),t("div",tt,[t("div",et,[t("p",st,o(r.user.first_name)+" "+o(r.user.last_name),1),t("span",ot,o(m(r.created_at)),1)]),t("p",it,o(r.message),1)])]))),128)),!s.ticket.replies||s.ticket.replies.length===0?(l(),d("div",at,[...e[12]||(e[12]=[t("p",{class:"text-gray-500"},"No replies yet",-1)])])):c("",!0)]),t("form",{onSubmit:C(h,["prevent"]),class:"border-t border-gray-200 pt-4"},[A(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=r=>n(a).message=r),placeholder:"Add a reply...",rows:"4",class:u(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200",{"border-red-500":n(a).errors.message}])},null,2),[[S,n(a).message]]),n(a).errors.message?(l(),d("p",rt,o(n(a).errors.message),1)):c("",!0),t("button",{type:"submit",disabled:n(a).processing,class:"mt-3 px-4 py-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},o(n(a).processing?"Sending...":"Send Reply"),9,lt)],32)])]),t("div",nt,[t("div",dt,[e[18]||(e[18]=t("h4",{class:"font-semibold text-gray-900 mb-3"},"Ticket Info",-1)),t("div",ct,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-gray-600"},"Ticket Number",-1)),t("p",mt,o(s.ticket.ticket_number),1)]),t("div",null,[e[15]||(e[15]=t("p",{class:"text-gray-600"},"Status",-1)),t("p",gt,o(s.ticket.status.replace("_"," ")),1)]),t("div",null,[e[16]||(e[16]=t("p",{class:"text-gray-600"},"Priority",-1)),t("p",ut,o(s.ticket.priority),1)]),t("div",null,[e[17]||(e[17]=t("p",{class:"text-gray-600"},"Category",-1)),t("p",xt,o(s.ticket.category),1)])])]),s.ticket.assigned_to?(l(),d("div",bt,[e[19]||(e[19]=t("h4",{class:"font-semibold text-gray-900 mb-3"},"Assigned To",-1)),t("div",yt,[t("div",ft,[t("span",pt,o(s.ticket.assigned_to.first_name.charAt(0)),1)]),t("div",null,[t("p",ht,o(s.ticket.assigned_to.first_name)+" "+o(s.ticket.assigned_to.last_name),1),t("p",vt,o(s.ticket.assigned_to.email),1)])])])):c("",!0)])])])]),_:1}))}};export{_t as default};
