import{T as S,c as v,a as e,g as U,h as a,B as f,u as i,j as M,t as c,o as b,Q as $,l as j,b as q,w as D,d as C,e as p,f as P,v as g}from"./app-BL31bG2i.js";import{A as I}from"./AppLayout-CvciISU7.js";const A={class:"bg-white shadow rounded-lg"},B={class:"px-6 py-4"},E={class:"space-y-3"},F={class:"flex items-center"},L={class:"flex items-center"},T={class:"space-y-3"},G={class:"flex items-center justify-between"},O={class:"flex items-center justify-between"},J={class:"flex items-center justify-between"},Q={class:"flex items-center justify-between"},R={class:"flex justify-end pt-4 border-t border-gray-200"},W=["disabled"],Y={__name:"CommunicationPreferences",props:{client:{type:Object,required:!0}},setup(u){var n,d,y,_,x;const l=u,s=S({email_notifications_enabled:l.client.email_notifications_enabled??!0,sms_notifications_enabled:l.client.sms_notifications_enabled??!1,preferred_communication_method:l.client.preferred_communication_method??"email",communication_preferences:{email_notifications:((n=l.client.communication_preferences)==null?void 0:n.email_notifications)??!0,document_notifications:((d=l.client.communication_preferences)==null?void 0:d.document_notifications)??!0,invoice_notifications:((y=l.client.communication_preferences)==null?void 0:y.invoice_notifications)??!0,reminder_notifications:((_=l.client.communication_preferences)==null?void 0:_.reminder_notifications)??!0,notification_frequency:((x=l.client.communication_preferences)==null?void 0:x.notification_frequency)??"immediate"}}),w=()=>{s.patch("/client/communication-preferences",{preserveScroll:!0,onSuccess:()=>{}})};return(h,o)=>(b(),v("div",A,[o[20]||(o[20]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Communication Preferences"),e("p",{class:"mt-1 text-sm text-gray-600"},"Manage how you receive notifications and communications")],-1)),e("div",B,[e("form",{onSubmit:U(w,["prevent"]),class:"space-y-6"},[e("div",null,[o[10]||(o[10]=e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Notification Methods",-1)),e("div",E,[e("div",F,[a(e("input",{id:"email_notifications","onUpdate:modelValue":o[0]||(o[0]=r=>i(s).email_notifications_enabled=r),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[f,i(s).email_notifications_enabled]]),o[8]||(o[8]=e("label",{for:"email_notifications",class:"ml-3 text-sm text-gray-700"}," Email notifications ",-1))]),e("div",L,[a(e("input",{id:"sms_notifications","onUpdate:modelValue":o[1]||(o[1]=r=>i(s).sms_notifications_enabled=r),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[f,i(s).sms_notifications_enabled]]),o[9]||(o[9]=e("label",{for:"sms_notifications",class:"ml-3 text-sm text-gray-700"}," SMS notifications ",-1))])])]),e("div",null,[o[12]||(o[12]=e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Preferred Communication Method",-1)),a(e("select",{"onUpdate:modelValue":o[2]||(o[2]=r=>i(s).preferred_communication_method=r),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},[...o[11]||(o[11]=[e("option",{value:"email"},"Email",-1),e("option",{value:"sms"},"SMS",-1),e("option",{value:"phone"},"Phone",-1)])],512),[[M,i(s).preferred_communication_method]])]),e("div",null,[o[17]||(o[17]=e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Notification Types",-1)),e("div",T,[e("div",G,[o[13]||(o[13]=e("div",null,[e("label",{for:"email_notifications_pref",class:"text-sm text-gray-700"}," Information updates "),e("p",{class:"text-xs text-gray-500"},"Get notified when your information is updated")],-1)),a(e("input",{id:"email_notifications_pref","onUpdate:modelValue":o[3]||(o[3]=r=>i(s).communication_preferences.email_notifications=r),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[f,i(s).communication_preferences.email_notifications]])]),e("div",O,[o[14]||(o[14]=e("div",null,[e("label",{for:"document_notifications",class:"text-sm text-gray-700"}," Document notifications "),e("p",{class:"text-xs text-gray-500"},"Get notified about document status changes")],-1)),a(e("input",{id:"document_notifications","onUpdate:modelValue":o[4]||(o[4]=r=>i(s).communication_preferences.document_notifications=r),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[f,i(s).communication_preferences.document_notifications]])]),e("div",J,[o[15]||(o[15]=e("div",null,[e("label",{for:"invoice_notifications",class:"text-sm text-gray-700"}," Invoice notifications "),e("p",{class:"text-xs text-gray-500"},"Get notified about new invoices and payments")],-1)),a(e("input",{id:"invoice_notifications","onUpdate:modelValue":o[5]||(o[5]=r=>i(s).communication_preferences.invoice_notifications=r),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[f,i(s).communication_preferences.invoice_notifications]])]),e("div",Q,[o[16]||(o[16]=e("div",null,[e("label",{for:"reminder_notifications",class:"text-sm text-gray-700"}," Reminder notifications "),e("p",{class:"text-xs text-gray-500"},"Get reminders for missing documents and deadlines")],-1)),a(e("input",{id:"reminder_notifications","onUpdate:modelValue":o[6]||(o[6]=r=>i(s).communication_preferences.reminder_notifications=r),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[f,i(s).communication_preferences.reminder_notifications]])])])]),e("div",null,[o[19]||(o[19]=e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Notification Frequency",-1)),a(e("select",{"onUpdate:modelValue":o[7]||(o[7]=r=>i(s).communication_preferences.notification_frequency=r),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},[...o[18]||(o[18]=[e("option",{value:"immediate"},"Immediate",-1),e("option",{value:"daily"},"Daily digest",-1),e("option",{value:"weekly"},"Weekly summary",-1)])],512),[[M,i(s).communication_preferences.notification_frequency]])]),e("div",R,[e("button",{type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:i(s).processing},c(i(s).processing?"Saving...":"Save Preferences"),9,W)])],32)])]))}},z={class:"max-w-4xl mx-auto space-y-6"},H={class:"bg-white shadow rounded-lg"},K={class:"px-6 py-4"},X={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Z={key:0,class:"mt-1 text-sm text-red-600"},ee={key:0,class:"mt-1 text-sm text-red-600"},te={key:0,class:"mt-1 text-sm text-red-600"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-900"},se={class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-900"},ne={class:"flex justify-end"},re=["disabled"],ae={class:"bg-white shadow rounded-lg"},de={class:"px-6 py-4"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},me={class:"flex justify-end"},ce=["disabled"],ue={class:"bg-white shadow rounded-lg"},fe={class:"px-6 py-4"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ge={class:"mt-1 text-sm text-gray-900"},xe={class:"mt-1 text-sm text-gray-900"},be={class:"mt-1 text-sm text-gray-900"},ve={__name:"Profile",props:{clientData:{type:Object,default:()=>({})},communicationPreferences:{type:Object,default:()=>({email_notifications_enabled:!0,sms_notifications_enabled:!1,preferred_communication_method:"email",communication_preferences:{email_notifications:!0,document_notifications:!0,invoice_notifications:!0,reminder_notifications:!0,notification_frequency:"immediate"}})}},setup(u){var h,o,r;const l=u,s=$(),w=j("John Smith, CPA"),n=S({first_name:((h=l.clientData)==null?void 0:h.first_name)||"",middle_name:((o=l.clientData)==null?void 0:o.middle_name)||"",last_name:((r=l.clientData)==null?void 0:r.last_name)||""}),d=S({current_password:"",password:"",password_confirmation:""}),y=()=>{n.put("/client/profile",{preserveScroll:!0,onSuccess:()=>{}})},_=()=>{d.put("/client/password",{preserveScroll:!0,onSuccess:()=>{d.reset()}})},x=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Never";return(k,t)=>(b(),q(I,null,{header:D(()=>[...t[6]||(t[6]=[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Profile"),e("p",{class:"mt-1 text-sm text-gray-600"},"Manage your personal information and account settings")])],-1)])]),default:D(()=>{var V,N;return[e("div",z,[e("div",H,[t[14]||(t[14]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Profile Information"),e("p",{class:"mt-1 text-sm text-gray-600"},[p(" Update your basic account information. For detailed tax information, visit "),e("a",{href:"/client/information",class:"text-blue-600 hover:text-blue-800 underline"},"My Information"),p(" page. ")])],-1)),e("div",K,[e("form",{onSubmit:U(y,["prevent"]),class:"space-y-6"},[e("div",X,[e("div",null,[t[7]||(t[7]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700"},"First Name",-1)),a(e("input",{id:"first_name","onUpdate:modelValue":t[0]||(t[0]=m=>i(n).first_name=m),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[g,i(n).first_name]]),i(n).errors.first_name?(b(),v("div",Z,c(i(n).errors.first_name),1)):P("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"middle_name",class:"block text-sm font-medium text-gray-700"},"Middle Name",-1)),a(e("input",{id:"middle_name","onUpdate:modelValue":t[1]||(t[1]=m=>i(n).middle_name=m),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[g,i(n).middle_name]]),i(n).errors.middle_name?(b(),v("div",ee,c(i(n).errors.middle_name),1)):P("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700"},"Last Name",-1)),a(e("input",{id:"last_name","onUpdate:modelValue":t[2]||(t[2]=m=>i(n).last_name=m),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[g,i(n).last_name]]),i(n).errors.last_name?(b(),v("div",te,c(i(n).errors.last_name),1)):P("",!0)])]),e("div",oe,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},[p(" Email Address "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Contact admin to change)")],-1)),e("div",ie,c((V=u.clientData)==null?void 0:V.email),1),t[11]||(t[11]=e("p",{class:"mt-1 text-xs text-gray-500"}," Your email address is used for account login and cannot be changed here. Contact your tax professional to update this information. ",-1))]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},[p(" Phone Number "),e("span",{class:"text-xs text-gray-500 ml-1"},"(Update in Information tab)")],-1)),e("div",se,c(((N=u.clientData)==null?void 0:N.phone)||"Not provided"),1),t[13]||(t[13]=e("p",{class:"mt-1 text-xs text-gray-500"},[p(" Phone number can be updated in the "),e("a",{href:"/client/information",class:"text-blue-600 hover:text-blue-800 underline"},"My Information"),p(" section. ")],-1))])]),e("div",ne,[e("button",{type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:i(n).processing},c(i(n).processing?"Updating...":"Update Profile"),9,re)])],32)])]),e("div",ae,[t[18]||(t[18]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Change Password"),e("p",{class:"mt-1 text-sm text-gray-600"},"Ensure your account is using a long, random password to stay secure.")],-1)),e("div",de,[e("form",{onSubmit:U(_,["prevent"]),class:"space-y-6"},[e("div",null,[t[15]||(t[15]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700"},"Current Password",-1)),a(e("input",{id:"current_password","onUpdate:modelValue":t[3]||(t[3]=m=>i(d).current_password=m),type:"password",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[g,i(d).current_password]])]),e("div",le,[e("div",null,[t[16]||(t[16]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"New Password",-1)),a(e("input",{id:"password","onUpdate:modelValue":t[4]||(t[4]=m=>i(d).password=m),type:"password",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[g,i(d).password]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"},"Confirm Password",-1)),a(e("input",{id:"password_confirmation","onUpdate:modelValue":t[5]||(t[5]=m=>i(d).password_confirmation=m),type:"password",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[g,i(d).password_confirmation]])])]),e("div",me,[e("button",{type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:i(d).processing},c(i(d).processing?"Updating...":"Update Password"),9,ce)])],32)])]),C(Y,{client:u.communicationPreferences},null,8,["client"]),e("div",ue,[t[23]||(t[23]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Account Information")],-1)),e("div",fe,[e("div",pe,[e("div",null,[t[19]||(t[19]=e("h3",{class:"text-sm font-medium text-gray-700"},"Member Since",-1)),e("p",ge,c(x(i(s).props.auth.user.created_at)),1)]),t[22]||(t[22]=e("div",null,[e("h3",{class:"text-sm font-medium text-gray-700"},"Account Status"),e("span",{class:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Active ")],-1)),e("div",null,[t[20]||(t[20]=e("h3",{class:"text-sm font-medium text-gray-700"},"Tax Professional",-1)),e("p",xe,c(w.value||"Not assigned"),1)]),e("div",null,[t[21]||(t[21]=e("h3",{class:"text-sm font-medium text-gray-700"},"Last Login",-1)),e("p",be,c(x(i(s).props.auth.user.last_login_at)||"Never"),1)])])])])])]}),_:1}))}};export{ve as default};
