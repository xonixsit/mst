import{r as i,A as C,q as A,e as S,w as y,a as e,t as n,k as f,l as M,v as B,c as r,o as a,F as p,h as x,p as h,n as z}from"./app-AKBEy-eR.js";import{A as D}from"./AppLayout-9FOdOZQi.js";import"./ConsentBanner-CQGtP13c.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"max-w-7xl mx-auto space-y-6"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},U={class:"bg-white rounded-lg shadow p-6"},V={class:"flex items-center justify-between"},G={class:"text-3xl font-bold text-gray-900 mt-2"},I={class:"bg-white rounded-lg shadow p-6"},T={class:"flex items-center justify-between"},F={class:"text-3xl font-bold text-green-600 mt-2"},H={class:"bg-white rounded-lg shadow p-6"},J={class:"flex items-center justify-between"},O={class:"text-3xl font-bold text-indigo-600 mt-2"},R={class:"bg-white rounded-lg shadow p-6"},q={class:"flex items-center justify-between"},N={class:"text-3xl font-bold text-purple-600 mt-2"},P={class:"bg-white rounded-lg shadow"},Q={class:"px-6 py-4 border-b border-gray-200"},W={class:"flex justify-between items-center"},K={class:"flex gap-2"},X={class:"overflow-x-auto"},Y={class:"w-full"},Z={class:"divide-y divide-gray-200"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"px-6 py-4 text-sm text-gray-600"},se={class:"flex flex-wrap gap-1"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-mono text-xs"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},le={class:"bg-white rounded-lg shadow p-6"},ie={class:"space-y-4"},de={class:"text-sm font-medium text-gray-700 capitalize"},ce={class:"flex items-center gap-2"},ue={class:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden"},pe={class:"text-sm font-semibold text-gray-900"},xe={class:"bg-white rounded-lg shadow p-6"},ge={class:"space-y-4"},me={class:"text-sm font-medium text-gray-700 capitalize"},ve={class:"text-sm font-semibold text-gray-900"},_e={__name:"ConsentManagement",setup(ye){const g=i([]),d=i(""),c=i(""),u=i({totalUsers:0,consentsGiven:0,analyticsEnabled:0,marketingEnabled:0}),w=i({terms:95,privacy:95,analytics:65,marketing:42,cookies:70}),b=i({banner:245,settings:89,registration:156});C(()=>{_()});const _=async()=>{try{g.value=[{id:1,user:{name:"John Doe"},action:"accepted",consents:{terms:!0,privacy:!0,analytics:!0,marketing:!1,cookies:!0},source:"banner",created_at:new Date().toISOString(),ip_address:"192.168.1.1"},{id:2,user:{name:"Jane Smith"},action:"updated",consents:{analytics:!1,marketing:!0},source:"settings",created_at:new Date(Date.now()-36e5).toISOString(),ip_address:"192.168.1.2"}]}catch(l){console.error("Error loading consent logs:",l)}},k=A(()=>g.value.filter(l=>{var o;const t=!d.value||l.action===d.value,s=!c.value||(((o=l.user)==null?void 0:o.name)||"Anonymous").toLowerCase().includes(c.value.toLowerCase());return t&&s})),j=l=>new Date(l).toLocaleString();return(l,t)=>(a(),S(D,null,{header:y(()=>[...t[2]||(t[2]=[e("div",{class:"relative overflow-hidden"},[e("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-50 via-blue-50 to-cyan-50"}),e("div",{class:"absolute top-0 right-0 w-64 h-32 bg-gradient-to-bl from-blue-100/40 to-transparent rounded-bl-full"}),e("div",{class:"px-10 relative flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-6 lg:space-y-0 py-2"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"w-14 h-14 bg-gradient-to-br from-blue-500 via-blue-600 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-blue-100"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("div",null,[e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-cyan-900 bg-clip-text text-transparent"}," Consent Management "),e("p",{class:"mt-2 text-sm text-gray-600 font-medium"},"Track and manage user consent preferences")])])])],-1)])]),default:y(()=>[e("div",L,[e("div",E,[e("div",U,[e("div",V,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-gray-600 text-sm font-medium"},"Total Users",-1)),e("p",G,n(u.value.totalUsers),1)]),t[4]||(t[4]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-2a6 6 0 0112 0v2zm0 0h6v-2a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])]),e("div",I,[e("div",T,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-600 text-sm font-medium"},"Consents Given",-1)),e("p",F,n(u.value.consentsGiven)+"%",1)]),t[6]||(t[6]=e("div",{class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",H,[e("div",J,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-gray-600 text-sm font-medium"},"Analytics Enabled",-1)),e("p",O,n(u.value.analyticsEnabled)+"%",1)]),t[8]||(t[8]=e("div",{class:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])]),e("div",R,[e("div",q,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-gray-600 text-sm font-medium"},"Marketing Enabled",-1)),e("p",N,n(u.value.marketingEnabled)+"%",1)]),t[10]||(t[10]=e("div",{class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])])]),e("div",P,[e("div",Q,[e("div",W,[t[12]||(t[12]=e("div",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Recent Consent Activities"),e("p",{class:"mt-1 text-sm text-gray-600"},"Latest user consent actions and preferences")],-1)),e("div",K,[f(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),class:"px-3 py-2 border border-gray-300 rounded-lg text-sm"},[...t[11]||(t[11]=[e("option",{value:""},"All Actions",-1),e("option",{value:"accepted"},"Accepted",-1),e("option",{value:"rejected"},"Rejected",-1),e("option",{value:"withdrawn"},"Withdrawn",-1),e("option",{value:"updated"},"Updated",-1)])],512),[[M,d.value]]),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),type:"text",placeholder:"Search by user...",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm"},null,512),[[B,c.value]])])])]),e("div",X,[e("table",Y,[t[13]||(t[13]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Consents"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"IP Address")])],-1)),e("tbody",Z,[(a(!0),r(p,null,x(k.value,s=>{var o;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",$,n(((o=s.user)==null?void 0:o.name)||"Anonymous"),1),e("td",ee,[e("span",{class:h(["px-3 py-1 rounded-full text-xs font-medium",s.action==="accepted"?"bg-green-100 text-green-800":s.action==="rejected"?"bg-red-100 text-red-800":s.action==="withdrawn"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"])},n(s.action),3)]),e("td",te,[e("div",se,[(a(!0),r(p,null,x(s.consents,(m,v)=>(a(),r("span",{key:v,class:h(["px-2 py-1 rounded text-xs",m?"bg-green-50 text-green-700":"bg-gray-50 text-gray-700"])},n(v)+": "+n(m?"✓":"✗"),3))),128))])]),e("td",ne,n(s.source),1),e("td",oe,n(j(s.created_at)),1),e("td",ae,n(s.ip_address),1)])}),128))])])])]),e("div",re,[e("div",le,[t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Consent Breakdown",-1)),e("div",ie,[(a(!0),r(p,null,x(w.value,(s,o)=>(a(),r("div",{key:o,class:"flex items-center justify-between"},[e("span",de,n(o),1),e("div",ce,[e("div",ue,[e("div",{class:"h-full bg-blue-600",style:z({width:s+"%"})},null,4)]),e("span",pe,n(s)+"%",1)])]))),128))])]),e("div",xe,[t[15]||(t[15]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Activity by Source",-1)),e("div",ge,[(a(!0),r(p,null,x(b.value,(s,o)=>(a(),r("div",{key:o,class:"flex items-center justify-between"},[e("span",me,n(o),1),e("span",ve,n(s)+" actions",1)]))),128))])])])])]),_:1}))}};export{_e as default};
