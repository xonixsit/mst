import{r as m,e as C,w as g,c as r,g as n,o as l,b as S,H as f,a as t,j as N,t as i,k as c,v as p,F as V,h as T,l as F,f as O}from"./app-AKBEy-eR.js";const j={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},B={key:0,class:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto"},q={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"},D={key:0,class:"text-red-500 text-sm mt-1"},U={key:0,class:"text-red-500 text-sm mt-1"},I={key:0,class:"text-red-500 text-sm mt-1"},L=["value"],W={key:0,class:"text-red-500 text-sm mt-1"},_={key:0,class:"text-red-500 text-sm mt-1"},z={key:1,class:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm flex items-center gap-2"},A={class:"flex gap-3 pt-4"},E=["disabled"],H=["disabled"],K={__name:"LeadFormModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(y,{emit:x}){const h=x,k=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],o=m({name:"",email:"",phone:"",state:"",city:""}),s=m({}),d=m(!1),u=m(""),b=()=>{h("close"),w()},w=()=>{o.value={name:"",email:"",phone:"",state:"",city:""},s.value={},u.value=""},M=async()=>{var v;d.value=!0,s.value={},u.value="";try{const e=await fetch("/leads",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(v=document.querySelector('meta[name="csrf-token"]'))==null?void 0:v.content},body:JSON.stringify(o.value)}),a=await e.json();e.ok?(u.value=a.message||"Thank you! We will contact you soon.",setTimeout(()=>{b()},2e3)):a.errors?s.value=a.errors:s.value.general=a.message||"Failed to submit form"}catch(e){s.value.general=e.message}finally{d.value=!1}};return(v,e)=>(l(),C(f,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:g(()=>[y.isOpen?(l(),r("div",j,[S(f,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:g(()=>[y.isOpen?(l(),r("div",B,[t("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 rounded-t-2xl sticky top-0"},[t("div",{class:"flex items-center justify-between"},[e[6]||(e[6]=t("h2",{class:"text-xl font-bold text-white"},"Free Tax Consultation",-1)),t("button",{onClick:b,class:"text-white/80 hover:text-white transition-colors"},[...e[5]||(e[5]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("form",{onSubmit:N(M,["prevent"]),class:"p-6 space-y-4"},[s.value.general?(l(),r("div",q,i(s.value.general),1)):n("",!0),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Full Name *",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.name=a),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"John Doe"},null,512),[[p,o.value.name]]),s.value.name?(l(),r("p",D,i(s.value.name[0]),1)):n("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Email *",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.email=a),type:"email",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"john@example.com"},null,512),[[p,o.value.email]]),s.value.email?(l(),r("p",U,i(s.value.email[0]),1)):n("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Phone *",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.phone=a),type:"tel",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"(555) 123-4567"},null,512),[[p,o.value.phone]]),s.value.phone?(l(),r("p",I,i(s.value.phone[0]),1)):n("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"State *",-1)),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.state=a),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},[e[10]||(e[10]=t("option",{value:""},"Select a state",-1)),(l(),r(V,null,T(k,a=>t("option",{key:a,value:a},i(a),9,L)),64))],512),[[F,o.value.state]]),s.value.state?(l(),r("p",W,i(s.value.state[0]),1)):n("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"City *",-1)),c(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.city=a),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"San Francisco"},null,512),[[p,o.value.city]]),s.value.city?(l(),r("p",_,i(s.value.city[0]),1)):n("",!0)]),u.value?(l(),r("div",z,[e[13]||(e[13]=t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),O(" "+i(u.value),1)])):n("",!0),t("div",A,[t("button",{type:"button",onClick:b,disabled:d.value,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold disabled:opacity-50"}," Cancel ",8,E),t("button",{type:"submit",disabled:d.value,class:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed"},i(d.value?"Submitting...":"Submit"),9,H)])],32)])):n("",!0)]),_:1})])):n("",!0)]),_:1}))}};export{K as _};
