import{r as b,T as p,c as a,a as e,t as r,j as g,g as x,u as s,k as f,v as y,o as c}from"./app-BQNIn2f8.js";const h={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8"},v={class:"w-full max-w-2xl"},w={class:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden"},S={class:"px-6 py-8"},k={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},C={class:"flex flex-col items-center"},_={class:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200 mb-4"},T=["src"],V={class:"flex flex-col"},A={class:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200 mb-4 font-mono text-center break-all"},E={key:0,class:"rounded-lg bg-red-50 border border-red-200 p-3"},F={class:"text-sm text-red-800 font-medium"},M=["disabled"],B={__name:"TwoFactorSetup",props:{secret:String,qrCode:String},setup(l){const d=l,i=b(!1),o=p({secret:d.secret,code:""}),u=()=>{navigator.clipboard.writeText(d.secret),i.value=!0,setTimeout(()=>{i.value=!1},2e3)},m=()=>{o.post(route("auth.2fa.confirm"),{onFinish:()=>{o.code=""}})};return(Q,t)=>(c(),a("div",h,[e("div",v,[e("div",w,[t[9]||(t[9]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-8"},[e("h1",{class:"text-2xl font-bold text-white"},"Set Up Two-Factor Authentication"),e("p",{class:"text-blue-100 mt-2"},"Secure your account with an additional layer of protection")],-1)),e("div",S,[e("div",k,[e("div",C,[t[2]||(t[2]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Step 1: Scan QR Code",-1)),e("div",_,[e("img",{src:l.qrCode,alt:"QR Code",class:"w-48 h-48"},null,8,T)]),t[3]||(t[3]=e("p",{class:"text-sm text-gray-600 text-center"}," Scan this QR code with your authenticator app (Google Authenticator, Authy, Microsoft Authenticator, etc.) ",-1))]),e("div",V,[t[5]||(t[5]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Step 2: Manual Entry",-1)),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 mb-4"}," If you can't scan the QR code, enter this key manually: ",-1)),e("div",A,r(l.secret),1),e("button",{onClick:u,class:"text-sm text-blue-600 hover:text-blue-800 font-medium mb-6"},r(i.value?"✓ Copied!":"Copy to clipboard"),1),t[7]||(t[7]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Step 3: Verify",-1)),e("form",{onSubmit:g(m,["prevent"]),class:"space-y-4"},[s(o).errors.code?(c(),a("div",E,[e("p",F,r(s(o).errors.code),1)])):x("",!0),e("div",null,[t[4]||(t[4]=e("label",{for:"code",class:"block text-sm font-semibold text-gray-900 mb-2"}," Enter the 6-digit code from your app: ",-1)),f(e("input",{id:"code","onUpdate:modelValue":t[0]||(t[0]=n=>s(o).code=n),type:"text",inputmode:"numeric",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 text-center text-2xl tracking-widest border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",onInput:t[1]||(t[1]=n=>s(o).code=s(o).code.replace(/[^0-9]/g,""))},null,544),[[y,s(o).code]])]),e("button",{type:"submit",disabled:s(o).processing||!s(o).code,class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-400 text-white font-semibold py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed"},r(s(o).processing?"Verifying...":"Verify & Enable 2FA"),9,M)],32)])]),t[8]||(t[8]=e("div",{class:"mt-8 p-4 bg-amber-50 rounded-lg border border-amber-200"},[e("p",{class:"text-sm text-amber-900 font-medium mb-2"},"⚠️ Important:"),e("ul",{class:"text-sm text-amber-800 space-y-1 list-disc list-inside"},[e("li",null,"Save your backup codes in a safe place"),e("li",null,"You'll need them if you lose access to your authenticator app"),e("li",null,"Never share your secret key or backup codes with anyone")])],-1))])])])]))}};export{B as default};
